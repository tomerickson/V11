"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[566],{7331:(Y,N,s)=>{s.d(N,{o:()=>A});var e=s(5879),n=s(2096),u=s(9397),x=s(6414),c=s(8045),h=s(5281),y=s(2401);class T extends y.C{constructor(i,g){super(i,g)}}let A=(()=>{var p;class i{constructor(){this.config=(0,e.f3M)(h._),this.crud=(0,e.f3M)(x.I),this.page="CascadesAll.php",this.equalScan="=\\s*(.+)",this.colonScan=":\\s*(.+)",this.quoteScan='"(.+)"\\.\\s+?(.+)\\.',this.loadCascadesAllResponse=f=>{if(this.config.production)return this.crud.getPage(f);{const r=localStorage.getItem(f);return r?(0,n.of)(r):this.crud.getPage(f).pipe((0,u.b)(b=>localStorage.setItem(f,b)))}},this.parseCascadesAllTables=f=>new T(f,["id","Type","Tid"]),this.getCascadesAllResponse=f=>{const r=this.asCascadesAllFormData(f),b=(0,c.Fj)(r);if(this.config.production)return this.crud.postPage(this.page,b);{const Z=localStorage.getItem(this.page);return Z?(0,n.of)(Z):this.crud.postPage(this.page,b).pipe((0,u.b)(P=>localStorage.setItem(this.page,P)))}},this.parseCascadesAllResponse=f=>{const r={},Z=(new DOMParser).parseFromString(f,"text/html"),P=Z.body.querySelector("form#f");P&&Z.body.removeChild(P);const v=Array.from(Z.body.getElementsByTagName("p"));let O=Z.body.querySelector('a[href*="/results"]').href.split("/");O=O.splice(O.length-2,2);const E=O.join("/");r.resultsLink=E;const w=[];for(let d of v)d.textContent&&w.push(d.textContent);let a=w.find(d=>d.startsWith("Full Starting Query on the Fusion"));if(a){const d=(0,c.Ol)(a,this.quoteScan);r.fusionQuery=d[0],r.fusionResults=d[1]}if(a=w.find(d=>d.startsWith("Full Starting Query on the TwoToTwo")),a){const d=(0,c.Ol)(a,this.quoteScan);r.twoUpQuery=d[0],r.twoUpResults=d[1]}return a=w.find(d=>d.startsWith("Core Fuel List")),a&&(r.startingFuel=(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Fusion Table used")),a&&(r.fusionTable=(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("2-2 Table used")),a&&(r.twoUpTable=(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Maximmum number of nuclei allowed")),a&&(r.maxNuclei=+(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Maximum number of loops")),a&&(r.maxLoops=+(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Maximum Reactor Temperature")),a&&(r.maxReactorTemp=+(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Elements that will NOT have MELTED")),a&&(r.meltingSwitch=(0,c.pw)(a,this.colonScan)),a=w.find(d=>d.startsWith("Elements that WILL have BOILED")),a&&(r.boilingSwitch=(0,c.pw)(a,this.colonScan)),a=w.find(d=>d.startsWith("Minimum energy (MeV) for any Fusion reaction")),a&&(r.fusionMinEnergy=+(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Minimum energy (MeV) for any 2-2 reaction")),a&&(r.twoUpMinEnergy=+(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Radioactive Isotopes")),a&&(r.isotopeSwitch=(0,c.pw)(a,this.colonScan)),a=w.find(d=>d.startsWith("LHL threshold")),a&&(r.halfLifeThreshold=+(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("Nuclear Fermions")),a&&(r.nuclearFermionSwitch=(0,c.pw)(a,this.colonScan)),a=w.find(d=>d.startsWith("Atomic Fermions")),a&&(r.atomicFermionSwitch=(0,c.pw)(a,this.colonScan)),a=w.find(d=>d.includes("Dimers")),a&&(r.dimersSwitch=(0,c.pw)(a,this.colonScan)),a=w.find(d=>d.includes("order by which the Nuclei Table")),a&&(r.nuclidesSort=(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.includes("order by which the Reactions Table")),a&&(r.reactionSort=(0,c.pw)(a,this.equalScan)),a=w.find(d=>d.startsWith("The program looked for")),a&&(r.progressMessageOne=a),a=w.find(d=>d.startsWith("Thus the program looked for")),a&&(r.progressMessageTwo=a),a=w.find(d=>d.startsWith("Duration")),a&&(r.duration=(0,c.pw)(a,this.equalScan)),console.log("result",r),r},this.asCascadesAllFormData=f=>{const r=new FormData;r.append("doit","execute_query"),r.append("table_set",f.tableSet),r.append("max_nuclei",String(f.maxNuclei)),r.append("max_loops",String(f.maxLoops)),r.append("max_reactor_temp",String(f.maxReactorTemp)),r.append("Melting_switch",f.meltingSwitch),r.append("Boiling_switch",f.boilingSwitch),r.append("min_MeV_F",String(f.fusionMinEnergy)),r.append("min_MeV_T",String(f.twoUpMinEnergy)),r.append("Isotope_switch",f.isotopeSwitch),r.append("LHL_threshold",String(f.halfLifeThreshold)),r.append("NF_switch",f.nuclearFermionSwitch),r.append("AF_switch",f.atomicFermionSwitch),r.append("Dimer_switch",f.dimersSwitch),r.append("order_by_N",f.nuclidesSort),r.append("order_by_R",f.reactionSort),r.append("query",f.coreQuery);let b=0;return f.leftElements&&r.append(`sql_tables[${b++}]`,"left"),f.originalElements&&r.append(`sql_tables[${b++}]`,"none"),f.rightElements&&r.append(`sql_tables[${b++}]`,"right"),r}}}return(p=i).\u0275fac=function(f){return new(f||p)},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac}),i})()},2401:(Y,N,s)=>{s.d(N,{C:()=>e});class e{get reactionRows(){return this.reactionResults.length-1}get nuclideRows(){return this.nuclideResults.length-1}get elementRows(){return this.elementResults.length-1}constructor(u,x){this.html=u,this.reactionTemplate=x,this.elementsTemplate=["Z","E","EName"],this.nuclidesTemplate=["id","A","Z"],this.modelMatches=(c,h)=>{let y=0;for(let T=0;T<h.length;T++)h[T]===c[T]&&y++;return y===h.length},this.parseTableContent=(c,h)=>{if(this.modelMatches(c,this.reactionTemplate))this.reactionResults=h;else if(this.modelMatches(c,this.nuclidesTemplate))this.nuclideResults=h;else if(this.modelMatches(c,this.elementsTemplate))this.elementResults=h;else{const y=`table with this thead: "${c.join(",")}" couldn't be matched to any template.`;this.errors.push(y)}},this.parseReactionResults=()=>{const c=this.extractTablesFromPage();for(let h=0;h<3;h++){const y=c[h];this.parseTableContent(y[0],y)}this.ok=this.reactionResults.length>0&&this.nuclideResults.length>0&&this.elementResults.length>0,this.ok||(0==this.reactionResults.length&&this.errors.push("Reaction table is missing"),0==this.nuclideResults.length&&this.errors.push("Nuclides table is missing"),0==this.elementResults.length&&this.errors.push("Elements table is missing"))},this.convertTablesToResultSet=c=>{let h=[];return c.forEach(y=>{let T=Array.prototype.map.call(y.querySelectorAll("tr"),A=>Array.prototype.map.call(A.querySelectorAll("td"),p=>p.innerHTML));h.push(T)}),h},this.extractTablesFromPage=()=>{let c=[];const T=(new DOMParser).parseFromString(this.html,"text/html").querySelectorAll("table.results");return this.validateTables(3,T)&&(c=this.convertTablesToResultSet(T)),c},this.validateTables=(c,h)=>{let y=h.length===c;return y&&h.forEach(T=>{y=y&&T.childElementCount>0&&T.childElementCount<3,y=y&&"TBODY"==T.lastElementChild?.tagName}),y},this.parseReactionResults()}}},5158:(Y,N,s)=>{s.d(N,{s:()=>e});const e=x=>{let c=[];const T=(new DOMParser).parseFromString(x,"text/html").querySelectorAll("table.results");return n(3,T)&&(c=u(T)),c},n=(x,c)=>{let h=c.length===x;return h&&c.forEach(y=>{h=h&&y.childElementCount>0&&y.childElementCount<3,h=h&&"TBODY"==y.lastElementChild?.tagName}),h},u=x=>{let c=[];return x.forEach(h=>{let y=Array.prototype.map.call(h.querySelectorAll("tr"),T=>Array.prototype.map.call(T.querySelectorAll("td"),A=>A.innerHTML));c.push(y)}),c}},2200:(Y,N,s)=>{s.d(N,{z:()=>c});var e=s(5879),n=s(5158),u=s(6414),x=s(8045);let c=(()=>{var h;class y{constructor(){this.crud=(0,e.f3M)(u.I),this.page="Fission.php",this.getFissionResults=A=>this.crud.postPage(this.page,x.iD(A)),this.parseFissionTable=(A,p,i)=>(x.VZ(A,["id","neutrino"])?i.reactionResults=p:x.VZ(A,["id","A","Z"])?i.nuclideResults=p:x.VZ(A,["Z","E","EName"])&&(i.elementResults=p),i),this.parseFissionResults=A=>{let p={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const i=(0,n.s)(A);for(let g=0;g<3;g++){const f=i[g];p=this.parseFissionTable(f[0],f,p)}for(let g=0;g<3;g++)p.ok=p.reactionResults.length>0&&p.nuclideResults.length>0&&p.elementResults.length>0;return p}}}return(h=y).\u0275fac=function(A){return new(A||h)},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac}),y})()},9783:(Y,N,s)=>{s.d(N,{I:()=>c});var e=s(5879),n=s(6414),u=s(5158),x=s(8045);let c=(()=>{var h;class y{constructor(){this.crud=(0,e.f3M)(n.I),this.page="Fusion.php",this.parseFusionResults=A=>{let p={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const i=(0,u.s)(A);for(let g=0;g<3;g++){const f=i[g];p=this.parseFusionTable(f[0],f,p)}return p.ok=p.reactionResults.length>0&&p.nuclideResults.length>0&&p.elementResults.length>0,p},this.parseFusionTable=(A,p,i)=>(x.VZ(A,["id","neutrino"])?i.reactionResults=p:x.VZ(A,["id","A","Z"])?i.nuclideResults=p:x.VZ(A,["Z","E","EName"])&&(i.elementResults=p),i)}getFusionResults(A){const p=x.iD(A);return this.crud.postPage(this.page,p)}}return(h=y).\u0275fac=function(A){return new(A||h)},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac}),y})()},4364:(Y,N,s)=>{s.d(N,{L:()=>Z});var e=s(6814),n=s(5879),u=s(6223),x=s(2296),c=s(5683),h=s(617),y=s(2032),T=s(8525),A=s(7394);const p=[{id:0,key:"csv",name:"Comma-delimited",extension:".csv",type:"text/csv"},{id:1,key:"tab",name:"Tab-delimited",extension:".tsv",type:"text/tab-separated-values"},{id:2,key:"txt",name:"Text",extension:".txt",type:"text/html"},{id:3,key:"prettyjson",name:"Pretty JSON",extension:".json",type:"application/json"},{id:4,key:"json",name:"Compressed JSON",extension:".json",type:"application/json"}],i=v=>{const _=v.get("fileType")?.value||null,O=v.get("fileName")?.value;return null!==_&&null!==O&&O.length>0?null:{missingElements:!0}};var g=s(2600),f=s(3680);function r(v,_){if(1&v&&(n.TgZ(0,"mat-option",13),n._uU(1),n.qZA()),2&v){const O=_.$implicit;n.Q6J("value",O),n.xp6(1),n.hij(" ",O.name," ")}}function b(v,_){if(1&v){const O=n.EpF();n.TgZ(0,"form",3)(1,"div",0)(2,"mat-form-field")(3,"label"),n._uU(4,"File type"),n.qZA(),n.TgZ(5,"mat-select",4),n.YNc(6,r,2,2,"mat-option",5),n.qZA(),n._UZ(7,"input",6),n.qZA(),n.TgZ(8,"mat-form-field")(9,"label"),n._uU(10,"File Name"),n.qZA(),n._UZ(11,"input",7),n.qZA(),n.TgZ(12,"mat-form-field")(13,"label"),n._uU(14),n.qZA(),n.TgZ(15,"button",8),n.NdJ("click",function(){n.CHM(O);const w=n.oxw();return n.KtG(w.downloadBlob())}),n._uU(16," Download "),n.qZA(),n._UZ(17,"input",6),n.qZA(),n.TgZ(18,"a",9,10),n.NdJ("change",function(w){n.CHM(O);const a=n.oxw();return n.KtG(a.onFileInput(w))}),n.qZA(),n._UZ(20,"input",11,12),n.qZA()()}if(2&v){const O=n.oxw();n.Q6J("formGroup",O.downloadForm),n.xp6(6),n.Q6J("ngForOf",O.downloadOptions),n.xp6(8),n.hij("",O.fullNameSignal(),"\xa0"),n.xp6(1),n.Q6J("disabled",!O.goodForm())}}let Z=(()=>{var v;class _{constructor(){this.title="",this.url="",this.format="",this.showForm=(0,n.tdS)(!1),this.goodForm=(0,n.tdS)(!1),this.fileNameSignal=(0,n.tdS)(""),this.fileExtSignal=(0,n.tdS)(null),this.fullNameSignal=(0,n.Flj)(()=>{const E=this.fileNameSignal(),w=this.fileExtSignal()?.extension||"";let a;return a=E.length>0&&w.length>0?E+w:0==w.length?E:"",a}),this.downloadOptions=p,this.floatLabelControl=new u.NI("auto"),this.fb=(0,n.f3M)(u.qu),this.downloadService=(0,n.f3M)(g.K),this.setfileExtension=E=>{const w=E.extension;let a=this.downloadForm.get("fileName")?.value;if(a){const d=a.indexOf(".",-1);if(d>=0){const W=a.substring(d);a.replace(W,w)}else a+=w;this.downloadForm.get("fileName")?.patchValue(a,{emitEvent:!1})}},this.setFileName=E=>{const w=this.downloadForm.get("fileType")?.value,a=this.downloadOptions[w].extension;let d;if(""!==a){const W=E.indexOf(".",-1);d=W>0?E.substring(0,W-1):E,d+=a,this.downloadForm.get("fileName")?.patchValue(d,{emitEvent:!1})}},this.onFileInput=E=>{console.log(E),E.stopPropagation()},this.toggleDownload=()=>{this.showForm.set(!this.showForm())},this.downloadBlob=()=>{const E=this.downloadForm.get("fileType")?.value;this.downloadService.downloadBlob(E,this.data,this.fullNameSignal())},this.subscriptions=new A.w0}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.downloadForm=this.fb.group({fileName:["",u.kI.required],fileType:[null,u.kI.required],dummy:[""]},{validators:i}),this.subscriptions.add(this.downloadForm.get("fileType")?.valueChanges.subscribe(E=>this.fileExtSignal.set(E))),this.subscriptions.add(this.downloadForm.get("fileName")?.valueChanges.subscribe(E=>this.fileNameSignal.set(E))),this.subscriptions.add(this.downloadForm.statusChanges.subscribe(E=>this.goodForm.set("VALID"===E)))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}}return(v=_).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["mfmp-download"]],inputs:{data:"data",resultType:"resultType",ready:"ready"},standalone:!0,features:[n._Bn([g.K]),n.jDz],decls:5,vars:2,consts:[[1,"flexrow"],["type","button","mat-icon-button","",3,"title","click"],["id","download",3,"formGroup",4,"ngIf"],["id","download",3,"formGroup"],["formControlName","fileType","placeholder","Select a file type."],[3,"value",4,"ngFor","ngForOf"],["matInput","","title","hidden","formControlName","dummy",1,"hidden"],["matInput","","formControlName","fileName","placeholder","Enter a file name."],["mat-raised-button","","type","button",3,"disabled","click"],["href","x","type","file","title","hidden","download","",1,"hidden",3,"change"],["fileInput",""],["type","file","title","picker","value","",1,"hidden"],["filePicker",""],[3,"value"]],template:function(E,w){1&E&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return w.toggleDownload()}),n.TgZ(2,"mat-icon"),n._uU(3,"download"),n.qZA()(),n.YNc(4,b,22,4,"form",2),n.qZA()),2&E&&(n.xp6(1),n.MGl("title","Download ",w.resultType,""),n.xp6(3),n.Q6J("ngIf",w.showForm()))},dependencies:[e.sg,e.ez,e.O5,x.ot,x.lW,x.RK,c.lN,c.KE,h.Ps,h.Hw,y.c,y.Nt,T.LD,T.gD,f.ey,u.UX,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u],styles:[".hidden[_ngcontent-%COMP%]{display:none!important}.flexrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}.disabled[_ngcontent-%COMP%]{visibility:hidden}label.block[_ngcontent-%COMP%]{display:block;margin:auto}"]}),_})()},566:(Y,N,s)=>{s.d(N,{a:()=>Me});var e=s(5879),n=s(1303),u=s(4221),x=s(7394),c=s(5177),h=s(902),y=s(5010),T=s(9306),A=s(5498),p=s(8472),i=s(6814),g=s(2296),f=s(5195),r=s(5940),b=s(4104),Z=s(1476),P=s(3566),v=s(5313),_=s(2096),O=s(8645),E=s(4364);let w=(()=>{var o;class m{constructor(){this.router=(0,e.f3M)(n.F0),this.store=(0,e.f3M)(u.yh),this.subscriptions=new x.w0,this.reset=()=>{this.router.navigate([this.returnUrl],{queryParams:{reset:!0}}).catch(t=>console.error(t))}}ngOnInit(){this.subscriptions.add(this.store.select(h.dS.selectReportParameters).subscribe(t=>{this.parameters=t,this.returnUrl=t.url}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["mfmp-restart-feature"]],standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(t,l){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.reset()}),e._uU(1," Again?\n"),e.qZA())},dependencies:[i.ez,g.ot,g.lW]}),m})();const a=["paginator"];function d(o,m){if(1&o&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&o){const R=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",R," ")}}function W(o,m){1&o&&(e.ynx(0),e.YNc(1,d,2,1,"th",14),e.BQk())}function z(o,m){if(1&o&&(e.TgZ(0,"th",17),e._uU(1),e.qZA()),2&o){const R=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",R," ")}}function J(o,m){1&o&&(e.ynx(0),e.YNc(1,z,2,1,"th",16),e.BQk())}function M(o,m){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const R=m.$implicit,t=e.oxw().index,l=e.oxw();e.Q6J("ngClass",l.columnStyles[t]),e.xp6(1),e.hij(" ",R[t]," ")}}function F(o,m){if(1&o&&(e.ynx(0,12),e.YNc(1,W,2,0,"ng-container",10),e.YNc(2,J,2,0,"ng-container",10),e.YNc(3,M,2,2,"td",13),e.BQk()),2&o){const R=m.$implicit,t=m.index,l=e.oxw();e.Q6J("matColumnDef",R),e.xp6(1),e.Q6J("ngIf",1==l.sortableColumns[t]),e.xp6(1),e.Q6J("ngIf",0==l.sortableColumns[t])}}function B(o,m){1&o&&e.GkF(0)}function S(o,m){if(1&o&&(e.TgZ(0,"td",19),e.YNc(1,B,1,0,"ng-container",20),e.qZA()),2&o){e.oxw();const R=e.MAs(15);e.xp6(1),e.Q6J("ngTemplateOutlet",R)}}function D(o,m){1&o&&e._UZ(0,"tr",21)}function G(o,m){1&o&&e._UZ(0,"tr",22)}function L(o,m){1&o&&e._UZ(0,"tr",23)}function $(o,m){if(1&o&&(e.ynx(0),e._UZ(1,"mfmp-download",24),e.BQk()),2&o){const R=e.oxw();e.xp6(1),e.Q6J("data",R.downloadable(R.dataSource.data))("resultType",R.resultType)("ready",R.ready)}}const k=function(){return[10,25,50,100]};function q(o,m){if(1&o){const R=e.EpF();e.TgZ(0,"mat-paginator",25,26),e.NdJ("page",function(l){e.CHM(R);const C=e.oxw();return e.KtG(C.handlePageEvent(l))}),e.qZA()}if(2&o){const R=e.oxw();e.Q6J("pageSize",25)("pageSizeOptions",e.DdM(4,k))("length",R.length)("pageIndex",0)}}const ee=function(){return["paginatorColumn"]};let te=(()=>{var o;class m{constructor(){this.subscriptions=new x.w0,this.changeDetector=(0,e.f3M)(e.sBO),this.dataSource=new v.by,this.values=[],this.sortedData=[],this.ready=(0,e.tdS)(!1),this.pageSize=20,this.pageIndex=0,this.pageSizeOptions=[10,20,25,50,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.buildDataSource=t=>{this.values=[...t],this.values.shift();const l=new v.by(this.values);l.sort=this.sort,this.dataSource=l,this.ready.set(!0),this.changeDetector.detectChanges()},this.setupPaginator=()=>{this.paginator.pageSize=this.pageSize,this.paginator.pageSizeOptions=this.pageSizeOptions,this.paginator.hidePageSize=!1,this.paginator.showFirstLastButtons=!0,this.paginator.pageIndex=0},this.sortData=t=>{const l=this.dataSource.data;let C=l;if(l){if(!t.active||""===t.direction)return C;const I="asc"===t.direction,U=this.displayColumns?.findIndex(K=>K==t.active);let Q=this.columnTypes[U];return this.dataSource.data=l.sort((K,j)=>this.compare(K[U],j[U],I,Q)),this.sortedData}return C},this.compare=(t,l,C,I)=>"string"===I?this.compareStrings(t,l,C):this.compareNumbers(+t,+l,C),this.compareStrings=(t,l,C)=>(t<l?-1:1)*(C?1:-1),this.compareNumbers=(t,l,C)=>(t<l?-1:1)*(C?1:-1),this.downloadable=t=>{const l=[...t];return l.unshift(this.displayColumns),l}}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(t=>{this.buildDataSource(t)}))}ngAfterViewInit(){this.setupPaginator(),this.dataSource.paginator=this.paginator,this.dataSource.paginator?.firstPage()}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(t){this.pageEvent=t,this.pageSize=t.pageSize,this.pageIndex=t.pageIndex}setPageSizeOptions(t){t&&(this.pageSizeOptions=t.split(",").map(l=>+l))}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["mfmp-query-face"]],viewQuery:function(t,l){if(1&t&&(e.Gf(a,5),e.Gf(P.YE,5)),2&t){let C;e.iGM(C=e.CRH())&&(l.paginator=C.first),e.iGM(C=e.CRH())&&(l.sort=C.first)}},inputs:{resultType:"resultType",download:"download",displayColumns:"displayColumns",columnTypes:"columnTypes",columnStyles:"columnStyles",sortableColumns:"sortableColumns",inputResults:"inputResults",length:"length"},standalone:!0,features:[e.jDz],decls:16,vars:7,consts:[[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z2",3,"dataSource","matSortChange"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","paginatorColumn"],["mat-footer-cell","","colspan","99",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["align","end"],[1,"action"],[4,"ngIf"],["footerCell",""],[3,"matColumnDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-footer-cell","","colspan","99"],[4,"ngTemplateOutlet"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[3,"data","resultType","ready"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page"],["paginator",""]],template:function(t,l){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"table",1),e.NdJ("matSortChange",function(I){return l.sortData(I)}),e.YNc(4,F,4,3,"ng-container",2),e.ynx(5,3),e.YNc(6,S,2,1,"td",4),e.BQk(),e.YNc(7,D,1,0,"tr",5),e.YNc(8,G,1,0,"tr",6),e.YNc(9,L,1,0,"tr",7),e.qZA()()(),e.TgZ(10,"mat-card-actions",8)(11,"div",9),e.YNc(12,$,2,3,"ng-container",10),e._UZ(13,"mfmp-restart-feature"),e.qZA()()(),e.YNc(14,q,2,5,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(3),e.Q6J("dataSource",l.dataSource),e.xp6(1),e.Q6J("ngForOf",l.displayColumns),e.xp6(3),e.Q6J("matHeaderRowDef",l.displayColumns),e.xp6(1),e.Q6J("matRowDefColumns",l.displayColumns),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(6,ee)),e.xp6(3),e.Q6J("ngIf",l.length>0))},dependencies:[i.O5,i.tP,i.ez,i.mk,i.sg,f.QW,f.a8,f.hq,f.dn,P.JX,P.YE,P.nU,v.p0,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.mD,v.Ke,v.ge,v.ev,v.yh,v.XQ,v.Gk,v.Q2,Z.TU,Z.NW,E.L,w],styles:[".mat-column-number[_ngcontent-%COMP%]{text-align:right!important}.mat-column-null[_ngcontent-%COMP%]{text-align:center!important}table.mat-mdc-table[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid lightgray}.mdc-data-table__header-row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__header-cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}.mdc-data-table__row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}div.block[_ngcontent-%COMP%]{vertical-align:middle}div.action[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}div.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}"]}),m})(),se=(()=>{var o;class m{constructor(){this.obj=new v.by,this.dataSource=(0,_.of)(this.obj),this.store=(0,e.f3M)(u.yh),this.changeDetector=(0,e.f3M)(e.sBO),this.sortedData=[],this.columnTypes=[],this.columnStyles=[],this.sortableColumns=[],this.subscriptions=new x.w0,this.ready=(0,e.tdS)(!1),this.pageSize=25,this.pageIndex=0,this.length=(0,e.tdS)(0),this.pageSizeOptions=[5,10,25,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.setSortableColumns=()=>{const t=new Array(this.columnTypes.length);for(let l=0;l<this.columnTypes.length;l++)t[l]="null"!=this.columnTypes[l];this.sortableColumns=t},this.setColumnStyles=()=>{const t=new Array(this.columnTypes.length);for(let U=0;U<this.columnTypes.length;U++){const Q=this.columnTypes[U];t[U]="null"===Q?"mat-column-null":"number"===Q?"mat-column-number":""}this.columnStyles=t},this.setColumnTypes=(t,l)=>{const C=new Array(l.length);for(let I=0;I<l.length;I++){let U=0,Q=0,K=0;for(let X=0;X<t.length;X++){let H=t[X][I];K+="null"===H?1:0,U+=null!==H&&isNaN(H)?1:0,Q+=null===H||isNaN(H)?0:1}C[I]=K>0?"null":Q>0?"number":"string"}this.columnTypes=C},this.download=new O.x}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(t=>{if(t.length>0){const l=[...t[0]];let C=[...t];C.shift(),this.headers=l;const I=new v.by(C);this.download.next(t),this.headers=l,this.setColumnTypes(C,l),this.setColumnStyles(),this.setSortableColumns(),this.dataSource=(0,_.of)(I),this.ready.set(!0),this.length.set(C.length)}}))}ngAfterContentInit(){this.changeDetector.detectChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(t){this.pageEvent=t,this.pageSize=t.pageSize,this.pageIndex=t.pageIndex}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["mfmp-query-head"]],inputs:{resultType:"resultType",inputResults:"inputResults"},standalone:!0,features:[e.jDz],decls:2,vars:10,consts:[[3,"resultType","download","sortableColumns","displayColumns","columnTypes","columnStyles","inputResults","length"]],template:function(t,l){1&t&&(e._UZ(0,"mfmp-query-face",0),e.ALo(1,"async")),2&t&&e.Q6J("resultType",l.resultType)("download",e.lcZ(1,8,l.download))("sortableColumns",l.sortableColumns)("displayColumns",l.headers)("columnTypes",l.columnTypes)("columnStyles",l.columnStyles)("inputResults",l.inputResults)("length",l.length())},dependencies:[te,i.Ov,i.ez,f.QW,P.JX,v.p0,Z.TU],encapsulation:2}),m})();class ne{constructor(m,R){this._document=R;const t=this._textarea=this._document.createElement("textarea"),l=t.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",t.setAttribute("aria-hidden","true"),t.value=m,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t)}copy(){const m=this._textarea;let R=!1;try{if(m){const t=this._document.activeElement;m.select(),m.setSelectionRange(0,m.value.length),R=this._document.execCommand("copy"),t&&t.focus()}}catch{}return R}destroy(){const m=this._textarea;m&&(m.remove(),this._textarea=void 0)}}let oe=(()=>{var o;class m{constructor(t){this._document=t}copy(t){const l=this.beginCopy(t),C=l.copy();return l.destroy(),C}beginCopy(t){return new ne(t,this._document)}}return(o=m).\u0275fac=function(t){return new(t||o)(e.LFG(i.K0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),m})();const le=new e.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let ae=(()=>{var o;class m{constructor(t,l,C){this._clipboard=t,this._ngZone=l,this.text="",this.attempts=1,this.copied=new e.vpe,this._pending=new Set,C&&null!=C.attempts&&(this.attempts=C.attempts)}copy(t=this.attempts){if(t>1){let l=t;const C=this._clipboard.beginCopy(this.text);this._pending.add(C);const I=()=>{const U=C.copy();U||! --l||this._destroyed?(this._currentTimeout=null,this._pending.delete(C),C.destroy(),this.copied.emit(U)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(I,1))};I()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}}return(o=m).\u0275fac=function(t){return new(t||o)(e.Y36(oe),e.Y36(e.R0b),e.Y36(le,8))},o.\u0275dir=e.lG2({type:o,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,l){1&t&&e.NdJ("click",function(){return l.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),m})(),ie=(()=>{var o;class m{}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),m})();var re=s(6223),V=s(617);const ce=["button"],ue=["icon"],de=["code"],me=function(){return["visibility:hidden"]},pe=function(){return["icon-display"]};let he=(()=>{var o;class m{constructor(){this.toolTip="copied",this.getChildren=()=>{this.code=this.codeRef.nativeElement,this.icon=this.iconRef._elementRef.nativeElement},this.mouseEnter=()=>{this.icon&&(this.icon.title=""),this.icon&&(this.icon.style.visibility="visible"),this.code&&(this.code.style.opacity=".5"),console.log("enter")},this.mouseLeave=()=>{this.icon&&(this.icon.style.visibility="hidden"),this.code&&(this.code.style.opacity="1"),console.log("leave")},this.clicked=()=>{this.icon&&(this.icon.title=this.toolTip)}}ngAfterViewInit(){this.getChildren()}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["code-copy"]],viewQuery:function(t,l){if(1&t&&(e.Gf(ce,5),e.Gf(ue,5),e.Gf(de,5)),2&t){let C;e.iGM(C=e.CRH())&&(l.buttonRef=C.first),e.iGM(C=e.CRH())&&(l.iconRef=C.first),e.iGM(C=e.CRH())&&(l.codeRef=C.first)}},inputs:{text:"text"},standalone:!0,features:[e.jDz],decls:7,vars:8,consts:[[3,"mouseenter","mouseleave"],[3,"className"],["code",""],[3,"classList","cdkCopyToClipboard","click"],["icon",""]],template:function(t,l){1&t&&(e.TgZ(0,"div",0),e.NdJ("mouseenter",function(){return l.mouseEnter()})("mouseleave",function(){return l.mouseLeave()}),e.TgZ(1,"code",1,2),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",3,4),e.NdJ("click",function(){return l.clicked()}),e._uU(6," content_copy "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("className","cold"),e.xp6(2),e.hij(" ",l.text," "),e.xp6(1),e.Akn(e.DdM(6,me)),e.Q6J("classList",e.DdM(7,pe))("cdkCopyToClipboard",l.text))},dependencies:[re.u5,ie,ae,g.ot,V.Ps,V.Hw],styles:['.icon-display[_ngcontent-%COMP%]{transform:scale(.5)}div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}code[_ngcontent-%COMP%]{margin-right:1ex}mat-icon[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(mat-icon){visibility:visible}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(code){opacity:".5"}']}),m})();function fe(o,m){1&o&&e.GkF(0)}function ge(o,m){1&o&&e._UZ(0,"mat-progress-spinner",4)}function Re(o,m){1&o&&e.GkF(0)}function ye(o,m){1&o&&(e.TgZ(0,"h3"),e._uU(1,"No results found"),e.qZA())}function Ce(o,m){if(1&o&&e._UZ(0,"mfmp-query-head",13),2&o){const R=e.oxw(2);e.Q6J("resultType","results")("inputResults",R.reactionResults)}}function ve(o,m){1&o&&e.GkF(0)}function we(o,m){1&o&&(e.TgZ(0,"h3"),e._uU(1,"No results found"),e.qZA())}function Te(o,m){if(1&o&&e._UZ(0,"mfmp-query-head",13),2&o){const R=e.oxw(2);e.Q6J("resultType","nuclides")("inputResults",R.nuclideResults)}}function Ae(o,m){1&o&&e.GkF(0)}function Fe(o,m){1&o&&(e.TgZ(0,"h3"),e._uU(1,"No results found"),e.qZA())}function Se(o,m){if(1&o&&e._UZ(0,"mfmp-query-head",13),2&o){const R=e.oxw(2);e.Q6J("resultType","elements")("inputResults",R.elementResults)}}function xe(o,m){if(1&o&&(e.TgZ(0,"mat-tab-group",5)(1,"mat-tab",6),e.ALo(2,"async"),e.YNc(3,Re,1,0,"ng-container",1),e.YNc(4,ye,2,0,"ng-template",null,7,e.W1O),e.YNc(6,Ce,1,2,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(8,"mat-tab",6),e.ALo(9,"async"),e.YNc(10,ve,1,0,"ng-container",1),e.YNc(11,we,2,0,"ng-template",null,9,e.W1O),e.YNc(13,Te,1,2,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(15,"mat-tab",6),e.ALo(16,"async"),e.YNc(17,Ae,1,0,"ng-container",1),e.YNc(18,Fe,2,0,"ng-template",null,11,e.W1O),e.YNc(20,Se,1,2,"ng-template",null,12,e.W1O),e.qZA()()),2&o){const R=e.MAs(5),t=e.MAs(7),l=e.MAs(12),C=e.MAs(14),I=e.MAs(19),U=e.MAs(21),Q=e.oxw();e.xp6(1),e.MGl("label","Results (",e.lcZ(2,12,Q.reactionRows),")"),e.xp6(2),e.Q6J("ngIf",Q.reactionResults)("ngIfThen",t)("ngIfElse",R),e.xp6(5),e.MGl("label","Nuclides (",e.lcZ(9,14,Q.nuclideRows),")"),e.xp6(2),e.Q6J("ngIf",Q.nuclideResults)("ngIfThen",C)("ngIfElse",l),e.xp6(5),e.MGl("label","ELements (",e.lcZ(16,16,Q.elementRows),")"),e.xp6(2),e.Q6J("ngIf",Q.elementResults)("ngIfThen",U)("ngIfElse",I)}}let Ee=(()=>{var o;class m{constructor(){this.query=new e.vpe,this.store=(0,e.f3M)(u.yh),this.router=(0,e.f3M)(n.F0),this.url=""}ngAfterContentInit(){}ngOnInit(){this.url=this.router.routerState.snapshot.url}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["mfmp-report-pages-face"]],inputs:{parameters:"parameters",reactionResults:"reactionResults",nuclideResults:"nuclideResults",elementResults:"elementResults",reactionRows:"reactionRows",nuclideRows:"nuclideRows",elementRows:"elementRows",loading:"loading",ready:"ready"},outputs:{query:"query"},standalone:!0,features:[e.jDz],decls:10,vars:6,consts:[[3,"text"],[4,"ngIf","ngIfThen","ngIfElse"],["waiting",""],["working",""],["mode","indeterminate",1,"progress-spinner"],["mat-stretch-tabs","false","animationDuration","250ms"],[3,"label"],["reactionNo",""],["reactionYes",""],["nuclidesNo",""],["nuclidesYes",""],["elementsNo",""],["elementsYes",""],[3,"resultType","inputResults"]],template:function(t,l){if(1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header"),e._UZ(2,"code-copy",0),e.qZA(),e.TgZ(3,"mat-card-content"),e.YNc(4,fe,1,0,"ng-container",1),e.ALo(5,"async"),e.YNc(6,ge,1,0,"ng-template",null,2,e.W1O),e.YNc(8,xe,22,18,"ng-template",null,3,e.W1O),e.qZA()()),2&t){const C=e.MAs(7),I=e.MAs(9);e.xp6(2),e.Q6J("text",null==l.parameters?null:l.parameters.query),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,4,l.loading))("ngIfThen",C)("ngIfElse",I)}},dependencies:[g.ot,f.QW,f.a8,f.dn,f.dk,r.Cq,r.Ou,b.Nh,b.uX,b.SP,se,i.Ov,i.O5,he],styles:[".mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.progress-spinner[_ngcontent-%COMP%]{margin-top:3em;margin-left:auto;margin-right:auto}"]}),m})(),Me=(()=>{var o;class m{constructor(){this.router=(0,e.f3M)(n.F0),this.store=(0,e.f3M)(u.yh),this.subscriptions=new x.w0,this.provideReports=t=>{switch(t){case c.k.Fusion:this.reactions=this.store.select(A.RB.selectReactionResults),this.nuclides=this.store.select(A.RB.selectNuclideResults),this.elements=this.store.select(A.RB.selectElementResults),this.reactionRows=this.store.select(A.RB.selectReactionRows),this.nuclideRows=this.store.select(A.RB.selectNuclideRows),this.elementRows=this.store.select(A.RB.selectElementRows),this.loading=this.store.select(A.RB.selectLoading),this.ready=this.store.select(A.RB.selectReady);break;case c.k.Fission:this.reactions=this.store.select(T.TO.selectReactionResults),this.nuclides=this.store.select(T.TO.selectNuclideResults),this.elements=this.store.select(T.TO.selectElementResults),this.reactionRows=this.store.select(T.TO.selectReactionRows),this.nuclideRows=this.store.select(T.TO.selectNuclideRows),this.elementRows=this.store.select(T.TO.selectElementRows),this.loading=this.store.select(T.TO.selectLoading),this.ready=this.store.select(T.TO.selectReady);break;case c.k.TwoUp:this.reactions=this.store.select(p.mY.selectReactionResults),this.nuclides=this.store.select(p.mY.selectNuclideResults),this.elements=this.store.select(p.mY.selectElementResults),this.reactionRows=this.store.select(p.mY.selectReactionRows),this.nuclideRows=this.store.select(p.mY.selectNuclideRows),this.elementRows=this.store.select(p.mY.selectElementRows),this.loading=this.store.select(p.mY.selectLoading),this.ready=this.store.select(p.mY.selectReady);break;case c.k.CascadesAll:this.reactions=this.store.select(y.DH.selectReactionResults),this.nuclides=this.store.select(y.DH.selectNuclideResults),this.elements=this.store.select(y.DH.selectElementResults),this.reactionRows=this.store.select(y.DH.selectReactionRows),this.nuclideRows=this.store.select(y.DH.selectNuclideRows),this.elementRows=this.store.select(y.DH.selectElementRows);break;default:console.log(`ReactionType '${t}' is undefined.`)}}}ngOnInit(){this.subscriptions.add(this.store.select(h.dS.selectReportParameters).subscribe(t=>{this.parameters=t,this.returnUrl=t.url,this.provideReports(this.parameters.reactionType)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["mfmp-report-pages"]],standalone:!0,features:[e.jDz],decls:2,vars:9,consts:[[3,"parameters","reactionResults","nuclideResults","elementResults","reactionRows","nuclideRows","elementRows","loading","ready"]],template:function(t,l){1&t&&(e.ynx(0),e._UZ(1,"mfmp-report-pages-face",0),e.BQk()),2&t&&(e.xp6(1),e.Q6J("parameters",l.parameters)("reactionResults",l.reactions)("nuclideResults",l.nuclides)("elementResults",l.elements)("reactionRows",l.reactionRows)("nuclideRows",l.nuclideRows)("elementRows",l.elementRows)("loading",l.loading)("ready",l.ready))},dependencies:[Ee],encapsulation:2}),m})()},5010:(Y,N,s)=>{s.d(N,{A2:()=>u,DH:()=>h,Sz:()=>e});var e={};s.r(e),s.d(e,{fetchAllResultsErrorAlert:()=>B,loadAllResultsEffect:()=>M,requestAllResultsEffect:()=>J,requesthAllResultsErrorAlert:()=>F});var n=s(4221);const u=(0,n.R7)({source:"CascadesAll API",events:{Reset:(0,n.uZ)(),"Request All Results":(0,n.Ky)(),"Request All Results Success":(0,n.Ky)(),"Request All Results Failure":S=>({error:S}),"Fetch All Results":(0,n.Ky)(),"Fetch All Results Success":(0,n.Ky)(),"Fetch All Results Failure":S=>({error:S}),"Load All Results":(0,n.Ky)(),"Load All Results Success":(0,n.Ky)(),"Load All Results Failure":S=>({error:S}),"Load ElementResults":(0,n.uZ)(),"Load FusionResults":(0,n.uZ)(),"Load NuclideResults":(0,n.uZ)()}}),x={formData:null,loading:!1,ready:!1,error:null,link:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},c=(0,n.Lq)(x,(0,n.on)(u.reset,()=>({...x})),(0,n.on)(u.requestAllResults,(S,D)=>({...S,formData:D.payload,loading:!0,ready:!1,error:null})),(0,n.on)(u.requestAllResultsSuccess,(S,D)=>({...S,loading:!1,ready:!0,formData:D.payload})),(0,n.on)(u.requestAllResultsFailure,(S,D)=>({...S,loading:!1,ready:!1,error:D})),(0,n.on)(u.loadAllResults,(S,D)=>({...S,loading:!0,ready:!1,error:null,link:D.url,reactionRows:0,nuclideRows:0,elementRows:0})),(0,n.on)(u.loadAllResultsSuccess,(S,D)=>({...S,ready:!0,loading:!1,reactionResults:D.payload.reactionResults,nuclideResults:D.payload.nuclideResults,elementResults:D.payload.elementResults,reactionRows:D.payload.reactionRows,nuclideRows:D.payload.nuclideRows,elementRows:D.payload.elementRows})),(0,n.on)(u.loadAllResultsFailure,(S,D)=>({...S,loading:!1,error:D.error}))),h=(0,n.Tz)({name:"cascades-all",reducer:c});var v=s(5879),_=s(7483),O=s(4664),E=s(7398),w=s(9397),a=s(6306),d=s(2096),W=s(7331),z=s(2744);const J=(0,_.GW)((S=(0,v.f3M)(_.eX))=>{const D=(0,v.f3M)(W.o);return S.pipe((0,_.l4)(u.requestAllResults),(0,O.w)(G=>D.getCascadesAllResponse(G.payload).pipe((0,E.U)(L=>D.parseCascadesAllResponse(L)),(0,w.b)(L=>console.log("dto",L)),(0,E.U)(L=>u.requestAllResultsSuccess({payload:L})),(0,a.K)(L=>(0,d.of)(u.requestAllResultsFailure({error:L}))))))},{functional:!0}),M=(0,_.GW)((S=(0,v.f3M)(_.eX))=>{const D=(0,v.f3M)(W.o);return S.pipe((0,_.l4)(u.loadAllResults),(0,O.w)(G=>D.loadCascadesAllResponse(G.url).pipe((0,E.U)(L=>D.parseCascadesAllTables(L)),(0,E.U)(L=>L.ok?u.loadAllResultsSuccess({payload:L}):u.loadAllResultsFailure({error:L.errors})),(0,a.K)(L=>(0,d.of)(u.loadAllResultsFailure({error:L}))))))},{functional:!0}),F=(0,_.GW)(()=>{const S=(0,v.f3M)(z.c);return(0,v.f3M)(_.eX).pipe((0,_.l4)(u.requestAllResultsFailure),(0,w.b)(()=>S.showClientError("No results found.")))},{functional:!0,dispatch:!1}),B=(0,_.GW)(()=>{const S=(0,v.f3M)(z.c);return(0,v.f3M)(_.eX).pipe((0,_.l4)(u.fetchAllResultsFailure),(0,w.b)(()=>S.showClientError("No results found.")))},{functional:!0,dispatch:!1})},9306:(Y,N,s)=>{s.d(N,{HC:()=>g,Sz:()=>e,TO:()=>P});var e={};s.r(e),s.d(e,{fetchAllResultsEffect:()=>f,loadAllResultsErrorAlert:()=>r});var n=s(5879),u=s(7483),x=s(4664),c=s(7398),h=s(6306),y=s(2096),T=s(9397),A=s(2744),p=s(2200),i=s(4221);const g=(0,i.R7)({source:"Fission API",events:{Reset:(0,i.uZ)(),"Fetch All Results":(0,i.Ky)(),"Load All Results Success":(0,i.Ky)(),"Load All Results Failure":M=>({error:M}),"Load ElementResults":(0,i.uZ)(),"Load FissionResults":(0,i.uZ)(),"Load NuclideResults":(0,i.uZ)()}}),f=(0,u.GW)((M=(0,n.f3M)(u.eX))=>{const F=(0,n.f3M)(p.z);return M.pipe((0,u.l4)(g.fetchAllResults),(0,x.w)(B=>F.getFissionResults(B.payload).pipe((0,c.U)(S=>F.parseFissionResults(S)),(0,c.U)(S=>g.loadAllResultsSuccess({results:S})),(0,h.K)(S=>(0,y.of)(g.loadAllResultsFailure({error:S}))))))},{functional:!0}),r=(0,u.GW)(()=>{const M=(0,n.f3M)(A.c);return(0,n.f3M)(u.eX).pipe((0,u.l4)(g.loadAllResultsFailure),(0,T.b)(()=>M.showClientError("No results found.")))},{functional:!0,dispatch:!1}),b={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Z=(0,i.Lq)(b,(0,i.on)(g.reset,()=>({...b})),(0,i.on)(g.fetchAllResults,(M,F)=>({...M,formData:F.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,i.on)(g.loadAllResultsFailure,(M,F)=>({...M,loading:!1,error:F.error,ready:!1})),(0,i.on)(g.loadAllResultsSuccess,(M,F)=>({...M,elementResults:F.results.elementResults,reactionResults:F.results.reactionResults,nuclideResults:F.results.nuclideResults,reactionRows:F.results.reactionResults.length-1,nuclideRows:F.results.nuclideResults.length-1,elementRows:F.results.elementResults.length-1,loading:!1,ready:!0}))),P=(0,i.Tz)({name:"fission",reducer:Z})},5498:(Y,N,s)=>{s.d(N,{tc:()=>g,Sz:()=>e,RB:()=>P});var e={};s.r(e),s.d(e,{fetchAllResultsEffect:()=>f,loadAllResultsErrorAlert:()=>r});var n=s(5879),u=s(7483),x=s(4664),c=s(7398),h=s(6306),y=s(2096),T=s(9397),A=s(2744),p=s(9783),i=s(4221);const g=(0,i.R7)({source:"Fusion API",events:{Reset:(0,i.uZ)(),"Fetch All Results":(0,i.Ky)(),"Load All Results Success":(0,i.Ky)(),"Load All Results Failure":M=>({error:M}),"Load ElementResults":(0,i.uZ)(),"Load FusionResults":(0,i.uZ)(),"Load NuclideResults":(0,i.uZ)()}}),f=(0,u.GW)((M=(0,n.f3M)(u.eX))=>{const F=(0,n.f3M)(p.I);return M.pipe((0,u.l4)(g.fetchAllResults),(0,x.w)(B=>F.getFusionResults(B.payload).pipe((0,c.U)(S=>F.parseFusionResults(S)),(0,c.U)(S=>g.loadAllResultsSuccess({results:S})),(0,h.K)(S=>(0,y.of)(g.loadAllResultsFailure({error:S}))))))},{functional:!0}),r=(0,u.GW)(()=>{const M=(0,n.f3M)(A.c);return(0,n.f3M)(u.eX).pipe((0,u.l4)(g.loadAllResultsFailure),(0,T.b)(()=>M.showClientError("No results found.")))},{functional:!0,dispatch:!1}),b={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Z=(0,i.Lq)(b,(0,i.on)(g.reset,()=>({...b})),(0,i.on)(g.fetchAllResults,(M,F)=>({...M,formData:F.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0})),(0,i.on)(g.loadAllResultsFailure,(M,F)=>({...M,loading:!1,error:F.error,ready:!1})),(0,i.on)(g.loadAllResultsSuccess,(M,F)=>({...M,elementResults:F.results.elementResults,reactionResults:F.results.reactionResults,nuclideResults:F.results.nuclideResults,reactionRows:F.results.reactionResults.length-1,nuclideRows:F.results.nuclideResults.length-1,elementRows:F.results.elementResults.length-1,loading:!1,ready:!0}))),P=(0,i.Tz)({name:"fusion",reducer:Z})},8472:(Y,N,s)=>{s.d(N,{qx:()=>g,Sz:()=>e,mY:()=>P});var e={};s.r(e),s.d(e,{fetchAllResultsEffect:()=>f,loadAllResultsErrorAlert:()=>r});var n=s(5879),u=s(7483),x=s(4664),c=s(7398),h=s(6306),y=s(2096),T=s(9397),A=s(2744),p=s(3142),i=s(4221);const g=(0,i.R7)({source:"TwoUp API",events:{Reset:(0,i.uZ)(),"Fetch All Results":(0,i.Ky)(),"Load All Results Success":(0,i.Ky)(),"Load All Results Failure":M=>({error:M}),"Load ElementResults":(0,i.uZ)(),"Load FusionResults":(0,i.uZ)(),"Load NuclideResults":(0,i.uZ)()}}),f=(0,u.GW)((M=(0,n.f3M)(u.eX))=>{const F=(0,n.f3M)(p.F);return M.pipe((0,u.l4)(g.fetchAllResults),(0,x.w)(B=>F.getTwoUpResults(B.payload).pipe((0,c.U)(S=>F.parseTwoUpResults(S)),(0,c.U)(S=>g.loadAllResultsSuccess({results:S})),(0,h.K)(S=>(0,y.of)(g.loadAllResultsFailure({error:S}))))))},{functional:!0}),r=(0,u.GW)(()=>{const M=(0,n.f3M)(A.c);return(0,n.f3M)(u.eX).pipe((0,u.l4)(g.loadAllResultsFailure),(0,T.b)(()=>M.showClientError("No results found.")))},{functional:!0,dispatch:!1}),b={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Z=(0,i.Lq)(b,(0,i.on)(g.reset,()=>({...b})),(0,i.on)(g.fetchAllResults,(M,F)=>({...M,formData:F.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,i.on)(g.loadAllResultsFailure,(M,F)=>({...M,loading:!1,error:F.error,ready:!1})),(0,i.on)(g.loadAllResultsSuccess,(M,F)=>({...M,elementResults:F.results.elementResults,reactionResults:F.results.reactionResults,nuclideResults:F.results.nuclideResults,reactionRows:F.results.reactionResults.length-1,nuclideRows:F.results.nuclideResults.length-1,elementRows:F.results.elementResults.length-1,loading:!1,ready:!0}))),P=(0,i.Tz)({name:"twoup",reducer:Z})},3142:(Y,N,s)=>{s.d(N,{F:()=>h});var e=s(5879),n=s(6414),u=s(9862),x=s(8045),c=s(5158);let h=(()=>{var y;class T{constructor(){this.crud=(0,e.f3M)(n.I),this.page="TwoToTwo.php",this.getTwoUpResults=p=>((new u.WM).set("Accept","text/html").set("Content-Type","application/x-www-form-urlencoded"),this.crud.postPage(this.page,x.iD(p))),this.parseTwoUpResults=p=>{let i={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const g=(0,c.s)(p);for(let f=0;f<3;f++){const r=g[f];i=this.parseTwoUpTable(r[0],r,i)}return i.ok=i.reactionResults.length>0&&i.nuclideResults.length>0&&i.elementResults.length>0,i},this.parseTwoUpTable=(p,i,g)=>(x.VZ(p,["id","neutrino"])?g.reactionResults=i:x.VZ(p,["id","A","Z"])?g.nuclideResults=i:x.VZ(p,["Z","E","EName"])&&(g.elementResults=i),g)}}return(y=T).\u0275fac=function(p){return new(p||y)},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac}),T})()}}]);