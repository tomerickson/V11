"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[31],{31:(he,U,s)=>{s.r(U),s.d(U,{TWO_UP_ROUTES:()=>ue});var E=s(7483),F=s(4221),f=s(8472),b=s(6814),e=s(5879),v=s(2655),$=s(5619),O=s(7394),z=s(5177),D=s(6414),w=s(8675),Z=s(902),j=s(9862),i=s(6223),q=s(2296),T=s(5195),P=s(5986),C=s(3305),Q=s(5683),V=s(3176),G=s(617),M=s(2032),S=s(7466),B=s(8525),H=s(2202),X=s(8057),Y=s(7837),W=s(3131);const K=u=>{const m=u.get("leftNuclides")?.get("selectedElements")?.value||[],c=u.get("rightNuclides")?.get("selectedElements")?.value||[];return 0===m.length&&0===c.length?{missingElements:!0}:null};var ee=s(3680);function te(u,m){if(1&u&&(e.TgZ(0,"mat-option",36),e._uU(1),e.qZA()),2&u){const c=m.$implicit;e.Q6J("value",c.code),e.xp6(1),e.hij(" ",c.code," ")}}const ne=function(){return["/fission"]},oe=function(){return["/fusion"]},se=function(){return["/all-tables"]};let ie=(()=>{var u;class m{set coreQuery(n){this._coreQuery=n,this.sqlForm&&this.sqlForm.get("coreQuery")?.patchValue(n,{emitEvents:!1})}get coreQuery(){return this._coreQuery}set fullQuery(n){this._fullQuery=n,this.sqlForm&&this.sqlForm.get("fullQuery")?.patchValue(n,{emitEvents:!1})}get fullQuery(){return this._fullQuery}get elementJoin(){return this.twoupForm.get("elementJoin")?.value}constructor(){this._coreQuery="",this._fullQuery="",this.fb=(0,e.f3M)(i.qu),this.router=(0,e.f3M)(v.F0),this.subscriptions=new O.w0,this.submittable=!1,this.sortBy="",this.sortOrder="",this.doit=new e.vpe,this.formChanges=new e.vpe,this.sqlChanges=new e.vpe,this.description="This program enables SQL commands to query the TwoToTwo (2-2) tables originally created from Dr Parkhomov's spreadsheets.",this.initialCoreQuery=" order by MeV desc limit 1000",this.tablesText="Select 2-2 data table from TwoToTwoAll (original: MeV >= 0.0; 1,215,374 rows; based on the 'Nuclides' table, 293 nuclides), or TwoToTwoAllNewPlus (MeV = +/- any; 3,650,058 rows; based on the 'NuclidesPlus' table, 324 nuclides)",this.buildForm=()=>{this.twoupForm=this.fb.nonNullable.group({tableSet:new i.NI("TwoToTwoAll",{nonNullable:!0}),resultLimit:new i.NI(1e3),orderBy:new i.NI("MeV"),elementJoin:new i.NI("and"),sortDescending:new i.NI("desc"),inputNeutrinos:new i.NI(!0),outputNeutrinos:new i.NI(!0),noNeutrinos:new i.NI(!0),leftNuclides:this.fb.nonNullable.group({selectedElements:new i.NI([]),nuclearSpin:new i.NI("bf"),atomicSpin:new i.NI("bf")}),rightNuclides:this.fb.nonNullable.group({selectedElements:new i.NI([]),nuclearSpin:new i.NI("bf"),atomicSpin:new i.NI("bf")}),leftResults:this.fb.nonNullable.group({selectedElements:new i.NI([]),nuclearSpin:new i.NI("bf"),atomicSpin:new i.NI("bf")}),rightResults:this.fb.nonNullable.group({selectedElements:new i.NI([]),nuclearSpin:new i.NI("bf"),atomicSpin:new i.NI("bf")})},{validators:K}),this.subscriptions.add(this.twoupForm.valueChanges.subscribe(n=>this.handleTwoUpformChanges(n))),this.subscriptions.add(this.sqlForm.valueChanges.subscribe(n=>this.handleSqlFormChanges(n))),this.resetForm(!1)},this.resetForm=(n=!0)=>{this.sqlForm.reset({coreQuery:this.initialCoreQuery}),this.twoupForm.reset({tableSet:"TwoToTwoAll",orderBy:"MeV",elementJoin:"and",sortDescending:!0,resultLimit:1e3,inputNeutrinos:!0,outputNeutrinos:!0,noNeutrinos:!0,leftNuclides:{selectedElements:[],atomicSpin:"bf",nuclearSpin:"bf"},rightNuclides:{selectedElements:[],atomicSpin:"bf",nuclearSpin:"bf"},leftResults:{selectedElements:[],atomicSpin:"bf",nuclearSpin:"bf"},rightResults:{selectedElements:[],atomicSpin:"bf",nuclearSpin:"bf"}},{emitEvent:n})},this.resetResults=()=>{},this.handleTwoUpformChanges=n=>{this.buildResultElements(n.leftNuclides.selectedElements,n.rightNuclides.selectedElements),this.formChanges.emit(n),this.setSubmittable()},this.toggleJoin=()=>{let n=this.twoupForm.get("elementJoin")?.value;n="and"===n?"or":"and",this.twoupForm.get("elementJoin")?.patchValue(n)},this.handleSqlFormChanges=n=>{this.sqlChanges.emit(n),this.setSubmittable()},this.getResultLimit=()=>this.twoupForm.get("resultLimit")?.value,this.setResultLimit=n=>{this.twoupForm.get("resultLimit")?.patchValue(n)},this.setSubmittable=()=>{this.submittable=this.twoupForm.valid||!this.coreQuery.trimStart().startsWith("order")},this.buildResultElements=(n,t)=>{let o=this.combineElements(n,t);this.twoupForm.get("leftResults.selectedElements")?.patchValue(o,{onlySelf:!0,emitEvents:!1}),this.twoupForm.get("rightResults.selectedElements")?.patchValue(o,{onlySelf:!0,emitEvents:!1})},this.combineElements=(n,t,o=!1)=>{const r=n.concat(t.filter(l=>n.indexOf(l)<0));return o?`('${r.join("','")}')`:r},this.route=this.router.routerState.snapshot.url,this.sqlForm=this.fb.nonNullable.group({coreQuery:new i.NI(this.initialCoreQuery),fullQuery:new i.NI(this.fullQuery)})}buildRequestForm(){this.doit.emit([this.twoupForm,this.sqlForm])}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.buildForm()}}return(u=m).\u0275fac=function(n){return new(n||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["mfmp-two-up-face"]],inputs:{elements:"elements",sortFields:"sortFields",coreQuery:"coreQuery",fullQuery:"fullQuery"},outputs:{doit:"doit",formChanges:"formChanges",sqlChanges:"sqlChanges"},standalone:!0,features:[e._Bn([],[C.ib]),e.jDz],decls:98,vars:44,consts:[["expanded","false"],[1,"header"],[3,"routerLink"],["href","",3,"routerLink"],[3,"formGroup"],[1,"children","mat-elevation-z2"],[1,"start"],[1,"nuclides"],[1,"elements"],[3,"role","title","multiselect","formGroupName","caption","elementsList"],[1,"join"],["mat-flat-button","","formControlName","elementJoin","ngDefaultControl","",1,"mat-elevation-z2",3,"click"],[1,"results"],[1,"neutrinos"],["formControlName","inputNeutrinos","value","left"],["formControlName","noNeutrinos","value","none"],["formControlName","outputNeutrinos","value","right"],[1,"coreQuery"],[3,"caption","text"],[1,"sql"],["labelPosition","before","formControlName","tableSet","name","tableSet","value","TwoToTwoAll"],["value","TwoToTwoAll","selected",""],["value","TwoToTwoAllNewPlus"],["id","orderBy","formControlName","orderBy","value","orderBy","ngDefaultControl",""],["title","Order by","formControlName","orderBy"],[3,"value",4,"ngFor","ngForOf"],["title","when checked.","formControlName","sortDescending","value","sortDescending"],[1,"flexrow"],[1,"fullQuery",3,"formGroup"],["matInput","","formControlName","fullQuery","title","'full query'","value","fullQuery","rows","4"],[1,"coreQuery",3,"formGroup"],["matInput","","formControlName","coreQuery","title","'core query'","value","coreQuery","rows","4"],[3,"defaultLimit","minimum","maximum","step","limitVerbiage","limitSize"],["align","end"],["type","button","mat-raised-button","",3,"click"],["type","button","mat-raised-button","","color","primary","tooltip","(submittable) ? '' : 'Select elements to continue.'",3,"disabled","click"],[3,"value"]],template:function(n,t){if(1&n&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"p",1),e._uU(3),e.qZA()(),e.TgZ(4,"p"),e._uU(5," To make full use of this and the other database tables, a good grasp of SQL is essential. "),e.qZA(),e.TgZ(6,"p"),e._uU(7," But note that it and "),e.TgZ(8,"a",2),e._uU(9,"Fission"),e.qZA(),e._uU(10," and "),e.TgZ(11,"a",3),e._uU(12,"Fusion"),e.qZA(),e._uU(13," is each dedicated to querying only one of two tables. "),e.qZA(),e.TgZ(14,"p"),e._uU(15,' The "universal" program '),e.TgZ(16,"a",3),e._uU(17,"All Tables"),e.qZA(),e._uU(18,' can accept full SQL commands that query any of the 12 "Parkhomov" tables, together with the "ElementProperties", "Nuclides", "RadioNuclides" and "Atomic Radii" tables as well. '),e.qZA(),e.TgZ(19,"p"),e._uU(20,' You may indicate which of the three neutrino conditions to include: "left" and/or "none" and/or "right". The default condition is include all three. '),e.qZA(),e.TgZ(21,"p"),e._uU(22," In all the above tables, except the Periodic, each atom, in either the input or the output, as well as its 'A' and 'Z' numbers now also has a 'nBorF' ('nuclear Boson or Fermion') and a 'aBorF' ('atomic Boson or Fermion') parameter associated with it. "),e.qZA(),e.TgZ(23,"p"),e._uU(24," An atom's nucleus is considered a Boson ('b') if its A number is even; if odd a Fermion ('f'). The atom itself is considered a Boson ('b') if its number of neutrons (A - Z) is even; if odd a Fermion ('f'). "),e.qZA(),e.TgZ(25,"p"),e._uU(26," These parameters can be used either passively, by observing the distributions of 'b' and 'f' in inputs and/or outputs, and/or actively, by selecting 'b only', 'f only' or 'either' in the boxes below. "),e.qZA(),e.TgZ(27,"p"),e._uU(28," NB: To avoid unnecessary duplication in all TwoToTwo tables, two rules independently apply: A1 <= A2 and A3 <= A4. These rules also apply implicitly in that, if the input side of the Core Query only involves E1 and E2, only rows whose associated mass numbers obey A1 <= A2 will appear in the results. Similarly with E3 and E4 on the output side, only rows whose associated mass numbers obey A3 <= A4 will appear in the results. "),e.qZA(),e.TgZ(29,"p"),e._uU(30,' To protect the table, only SQL-compatible "selection" queries can be allowed and you must enter only the CORE part of that query. Once you do this and click on the "Execute Query" button, the front part (here "select * from TwoToTwoAll where ") will be automatically prepended and the full query sent to the database. '),e.qZA(),e.TgZ(31,"p"),e._uU(32,' Once you do this and click on the "Execute Query" button, the front part (here "select * from TwoToTwoAll where ") will be automatically prepended and the full query sent to the database. '),e.qZA(),e.TgZ(33,"p"),e._uU(34," Latest: All queries will now be limited to 1000 possible rows of results; any requested 'limit' greater than 1000 will be reset to 1000; to any core query not including any 'limit' command will be appended 'limit 1000'. "),e.qZA(),e.TgZ(35,"p"),e._uU(36," This TwoToTwo Core Query can refer to any and all of E1, A1, nBorF1, Z1, aBorF1, E2, A2, nBorF2, Z2 or aBorF2 (the inputs) and to any and all of E3, A3, nBorF3, Z3, aBorF3, E4, A4, nBorF4, Z4 or aBorF4 (the outputs). "),e.qZA()(),e.TgZ(37,"form",4)(38,"div",5)(39,"h3",6),e._uU(40," Select elements from the 'Input (E1)' and/or the 'Input (E2)' to begin. "),e.qZA(),e.TgZ(41,"div",7)(42,"div",8),e._UZ(43,"mfmp-nuclide-picker",9),e.TgZ(44,"div",10)(45,"button",11),e.NdJ("click",function(){return t.toggleJoin()}),e._uU(46),e.qZA()(),e._UZ(47,"mfmp-nuclide-picker",9),e.qZA(),e.TgZ(48,"div",12),e._UZ(49,"mfmp-nuclide-picker",9),e.qZA(),e.TgZ(50,"div",12),e._UZ(51,"mfmp-nuclide-picker",9),e.qZA()(),e.TgZ(52,"div",13)(53,"div")(54,"p"),e._uU(55," Tick neutrino (nu) contributions to be included (default is all three). "),e.qZA()(),e.TgZ(56,"div")(57,"mat-checkbox",14),e._uU(58," Left "),e.qZA(),e.TgZ(59,"mat-checkbox",15),e._uU(60," None "),e.qZA(),e.TgZ(61,"mat-checkbox",16),e._uU(62," Right "),e.qZA()()()(),e.TgZ(63,"mat-card",17)(64,"mat-card-content"),e._UZ(65,"mfmp-expandable-box",18),e.TgZ(66,"div",19)(67,"div")(68,"mat-radio-group",20)(69,"mat-radio-button",21),e._uU(70," TwoToTwoAll "),e.qZA(),e.TgZ(71,"mat-radio-button",22),e._uU(72," TwoToTwoAllNewPlus "),e.qZA()()(),e.TgZ(73,"div")(74,"div")(75,"mat-form-field",23)(76,"mat-label"),e._uU(77,"Order By:"),e.qZA(),e.TgZ(78,"mat-select",24),e.YNc(79,te,2,2,"mat-option",25),e.qZA()()(),e.TgZ(80,"div")(81,"mat-checkbox",26),e._uU(82," Descending "),e.qZA()()()(),e.TgZ(83,"div",27)(84,"div",28)(85,"mat-label"),e._uU(86,"Full Query"),e.qZA(),e._UZ(87,"textarea",29),e.qZA(),e.TgZ(88,"div",30)(89,"mat-label"),e._uU(90,"Core Query"),e.qZA(),e._UZ(91,"textarea",31),e.qZA(),e.TgZ(92,"mfmp-resultsize-picker",32),e.NdJ("limitSize",function(r){return t.setResultLimit(r)}),e.qZA()()(),e.TgZ(93,"mat-card-actions",33)(94,"button",34),e.NdJ("click",function(){return t.resetForm()}),e._uU(95," RESET "),e.qZA(),e.TgZ(96,"button",35),e.NdJ("click",function(){return t.buildRequestForm()}),e._uU(97," SUBMIT "),e.qZA()()()()),2&n){let o;e.xp6(3),e.Oqu(t.description),e.xp6(5),e.Q6J("routerLink",e.DdM(41,ne)),e.xp6(3),e.Q6J("routerLink",e.DdM(42,oe)),e.xp6(5),e.Q6J("routerLink",e.DdM(43,se)),e.xp6(21),e.Q6J("formGroup",t.twoupForm),e.xp6(6),e.Q6J("role","query")("title","Input (E1)")("multiselect",!0)("formGroupName","leftNuclides")("caption","Left")("elementsList",t.elements),e.xp6(3),e.hij(" ",null==(o=t.twoupForm.get("elementJoin"))?null:o.value," "),e.xp6(1),e.Q6J("role","query")("title","Input (E2)")("multiselect",!0)("formGroupName","rightNuclides")("caption","Right")("elementsList",t.elements),e.xp6(2),e.Q6J("role","result")("title","Output (E3)")("multiselect",!0)("formGroupName","leftResults")("caption","E3")("elementsList",t.elements),e.xp6(2),e.Q6J("role","result")("title","Output (E4)")("multiselect",!0)("formGroupName","rightResults")("caption","E4")("elementsList",t.elements),e.xp6(14),e.Q6J("caption","Tables:")("text",t.tablesText),e.xp6(14),e.Q6J("ngForOf",t.sortFields),e.xp6(5),e.Q6J("formGroup",t.sqlForm),e.xp6(4),e.Q6J("formGroup",t.sqlForm),e.xp6(4),e.Q6J("defaultLimit",1e3)("minimum",0)("maximum",1e3)("step",50)("limitVerbiage","Limit results to ... rows."),e.xp6(4),e.Q6J("disabled",!t.submittable)}},dependencies:[b.ez,b.sg,j.JF,q.ot,q.lW,T.QW,T.a8,T.hq,T.dn,P.p9,P.oG,C.To,C.ib,C.yz,V.N6,G.Ps,M.c,M.Nt,Q.KE,Q.hX,S.Fk,S.VQ,S.U0,B.LD,B.gD,ee.ey,H.KP,Q.lN,W.g,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,i.x0,Y.X,v.Bz,v.rH,X.t],styles:[".mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%], .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:hover{background-color:transparent}.mat-card-content[_ngcontent-%COMP%]{width:100%}mat-expansion-panel#blurb[_ngcontent-%COMP%]{margin-bottom:1ex}h3.start[_ngcontent-%COMP%]{margin-top:2ex;width:100%;font-weight:500;text-align:center}div.children[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:1em}div.children[_ngcontent-%COMP%]   div.nuclides[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-evenly;margin-bottom:1ex}div.children[_ngcontent-%COMP%]   div.nuclides[_ngcontent-%COMP%]   div.elements[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}div.children[_ngcontent-%COMP%]   div.nuclides[_ngcontent-%COMP%]   div.elements[_ngcontent-%COMP%]   div.join[_ngcontent-%COMP%]{margin:1em}div.neutrinos[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:baseline;margin-bottom:1ex}div.sql[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around}div.sql[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:flex;flex-direction:row}mat-card.coreQuery[_ngcontent-%COMP%]{background-color:transparent}mat-card.coreQuery[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}div.fullQuery[_ngcontent-%COMP%]{display:none}div.coreQuery[_ngcontent-%COMP%]{padding:1em;display:flex;flex-direction:row;justify-content:stretch}div.coreQuery[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{display:block;flex:1}div.coreQuery[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:block;flex:3;border-radius:5px;border:1px solid #ccc;box-shadow:1px 1px 1px #999}mat-form-field#orderBy[_ngcontent-%COMP%]{flex-direction:row!important}span.resultLimitHeader[_ngcontent-%COMP%]{display:flex;flex-direction:row}span.resultLimitHeader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;flex:1;font-size:smaller}div.flexrow[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:stretch;align-items:baseline}div.flexrow[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){flex:3}.fill[_ngcontent-%COMP%]{margin:1em}div.resultLimit[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:stretch}div.resultLimit[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:30%}p.header[_ngcontent-%COMP%]{text-overflow:ellipsis;padding-right:2em}"],changeDetection:0}),m})();var a=s(5220);let le=(()=>{var u;class m{constructor(n){this.headerService=n,this.store=(0,e.f3M)(F.yh),this.http=(0,e.f3M)(D.I),this.router=(0,e.f3M)(v.F0),this.coreQuery="",this.fullQuery="",this.route=this.router.routerState.root,this.ready=new $.X(!1),this.subscriptions=new O.w0,this.submittable=!1,this.description="This program enables SQL commands to query the TwoToTwo (2-2) tables originally created from Dr Parkhomov's spreadsheets.",this.buildCoreQuery=t=>{const o=t.resultLimit,r=t.orderBy,l=t.elementJoin,p=t.sortDescending,pe="from "+t.tableSet,J=this.buildNeutrinoClause(t.inputNeutrinos,t.noNeutrinos,t.outputNeutrinos),g=[],d=[];let h="",x="",_="",N="",A="";"bf"!==t.leftNuclides.nuclearSpin&&d.push(`nBorF1 = '${t.leftNuclides.nuclearSpin}'`),"bf"!==t.leftNuclides.atomicSpin&&d.push(`aBorF1 = '${t.leftNuclides.atomicSpin}'`),"bf"!==t.rightNuclides.nuclearSpin&&d.push(`nBorF2 = '${t.rightNuclides.nuclearSpin}'`),"bf"!==t.rightNuclides.atomicSpin&&d.push(`aBorF2 = '${t.rightNuclides.atomicSpin}'`),"bf"!==t.leftResults.nuclearSpin&&d.push(`nBorF3 = '${t.leftResults.nuclearSpin}'`),"bf"!==t.leftResults.atomicSpin&&d.push(`aBorF3 = '${t.leftResults.atomicSpin}'`),"bf"!==t.rightResults.nuclearSpin&&d.push(`nBorF4 = '${t.rightResults.nuclearSpin}'`),"bf"!==t.rightResults.atomicSpin&&d.push(`aBorF4 = '${t.rightResults.atomicSpin}'`),d.length>0&&(x=d.join(" and "));const I=t.leftNuclides.selectedElements??[],k=t.rightNuclides.selectedElements??[];I.length>0&&g.push(`E1 in ${this.combineElements(I,[],!0)}`),k.length>0&&g.push(`E2 in ${this.combineElements(k,[],!0)}`),g.length>0&&(h=g[0]),g.length>1&&(h+=` ${l} `,h+=g[1],"or"===l&&(h=`(${h})`));let y=[];J&&y.push(J),h&&y.push(h),x&&y.push(x),y.length>0&&(_=y.join(" and ")),r&&(N=`order by ${r}`,!0===p&&(N+=" desc"),console.log("descending",p)),o&&(A=`limit ${o}`),this.coreQuery=`${h} ${N} ${A}`.trim().replace(/\s\s/g," "),this.fullQuery=`select * ${pe} where ${_} ${N} ${A}`},this.submit_coreQuery=t=>{const o=this.buildRequestForm(t);this.store.dispatch(Z.N.setReportParameters({payload:{url:"two-up",reactionType:z.k.TwoUp,query:this.coreQuery,tables:3}})),this.store.dispatch(f.Nw.fetchAllResults({payload:o})),this.router.navigate(["/two-up/reports"])},this.buildRequestForm=t=>{const o=t[0].value,r=t[1],l=[],p=r.get("coreQuery")?.value;return l.push(new a.C({key:"doit",value:"execute_query"})),l.push(new a.C({key:"query",value:p})),l.push(new a.C({key:"table_name",value:o.tableSet})),o.inputNeutrinos&&l.push(new a.C({key:"sql_tables[]",value:"left"})),o.noNeutrinos&&l.push(new a.C({key:"sql_tables[]",value:"none"})),o.outputNeutrinos&&l.push(new a.C({key:"sql_tables[]",value:"right"})),l.push(new a.C({key:"nBorF1_filter",value:o.leftNuclides.nuclearSpin})),l.push(new a.C({key:"aBorF1_filter",value:o.leftNuclides.atomicSpin})),l.push(new a.C({key:"nBorF2_filter",value:o.rightNuclides.nuclearSpin})),l.push(new a.C({key:"aBorF2_filter",value:o.rightNuclides.atomicSpin})),l.push(new a.C({key:"nBorF3_filter",value:o.leftResults.nuclearSpin})),l.push(new a.C({key:"aBorF3_filter",value:o.leftResults.atomicSpin})),l.push(new a.C({key:"nBorF4_filter",value:o.rightResults.nuclearSpin})),l.push(new a.C({key:"aBorF4_filter",value:o.rightResults.atomicSpin})),l},this.buildNeutrinoClause=(t,o,r)=>{let l=[],p="";return t&&l.push("neutrino = 'left'"),o&&l.push("neutrino = 'none'"),r&&l.push("neutrino = 'right'"),l.length>0&&l.length<3&&(p=`(${l.join(" or ")})`),p},this.combineElements=(t,o,r=!1)=>{const l=t.concat(o.filter(p=>t.indexOf(p)<0));return r?`('${l.join("','")}')`:l}}sql_changes(n){if(console.log("form",n),n){const t=n.coreQuery,r=new RegExp(/select\s+(.*?)\s+from\s+(.*?)\s+where\s+(.*?)\s+\order\sby\s+(.*?)\s+\limit\s+(.*?)/i).exec(t);console.log("clauses",r)}}form_changes(n){this.buildCoreQuery(n)}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.router.lastSuccessfulNavigation?.extractedUrl.queryParamMap.get("reset")&&this.store.dispatch(f.Nw.reset()),this.elements=this.store.select(Z.z.selectElements),this.sortFields=this.store.select(Z.z.selectReactionSortFields),this.headerService.buildPageHeader("two-up"),this.ready.next(!0)}}return(u=m).\u0275fac=function(n){return new(n||u)(e.Y36(w.d))},u.\u0275cmp=e.Xpm({type:u,selectors:[["mfmp-two-up"]],standalone:!0,features:[e._Bn([{provide:w.d}]),e.jDz],decls:3,vars:8,consts:[[3,"elements","sortFields","coreQuery","fullQuery","doit","formChanges","sqlChanges"]],template:function(n,t){1&n&&(e.TgZ(0,"mfmp-two-up-face",0),e.NdJ("doit",function(r){return t.submit_coreQuery(r)})("formChanges",function(r){return t.form_changes(r)})("sqlChanges",function(r){return t.sql_changes(r)}),e.ALo(1,"async"),e.ALo(2,"async"),e.qZA()),2&n&&e.Q6J("elements",e.lcZ(1,4,t.elements))("sortFields",e.lcZ(2,6,t.sortFields))("coreQuery",t.coreQuery)("fullQuery",t.fullQuery)},dependencies:[b.ez,b.Ov,ie],encapsulation:2}),m})();var re=s(2678),R=s(2600),L=s(3142);const ue=[{path:"",component:le,providers:[(0,F.oY)(f.zL),(0,E.y3)([f.Sz]),{provide:L.F,useClass:L.F},{provide:w.d,useClass:w.d}]},{path:"reports",component:re.a,providers:[(0,F.oY)(f.zL),(0,E.y3)([f.Sz]),{provide:R.K,useClass:R.K}]}]}}]);