"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[678],{7294:(j,I,s)=>{s.d(I,{M:()=>y});var t=s(5879),e=s(2401);class l extends e.C{constructor(r,o){super(r,o,1)}}var F=s(287),h=s(6414),m=s(8045);let y=(()=>{var f;class r{constructor(){this.config=(0,t.f3M)(F._Z),this.crud=(0,t.f3M)(h.I),this.page="AllTables.php",this.getAllTablesPage=()=>this.crud.getPage(this.page),this.extractAllTablesQuery=n=>(new DOMParser).parseFromString(n,"text/html").body.querySelector("textarea").innerText,this.getAllTablesResults=n=>{const i=new FormData;i.append("doit","execute_query"),i.append("sql_start",n);const R=(0,m.Fj)(i);return this.crud.postPage(this.page,R)},this.extractAllTablesResults=n=>{const E=(new DOMParser).parseFromString(n,"text/html").body.querySelector("table.results").rows[0].cells[0].innerText;return new l(n,[E])}}}return(f=r).\u0275fac=function(n){return new(n||f)},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac}),r})()},7331:(j,I,s)=>{s.d(I,{o:()=>r});var t=s(5879),e=s(2096),l=s(9397),F=s(6414),h=s(8045),m=s(287),y=s(2401);class f extends y.C{constructor(n,i){super(n,i)}}let r=(()=>{var o;class n{constructor(){this.config=(0,t.f3M)(m._Z),this.crud=(0,t.f3M)(F.I),this.page="CascadesAll.php",this.equalScan="=\\s*(.+)",this.colonScan=":\\s*(.+)",this.quoteScan='"(.+)"\\.\\s+?(.+)\\.',this.loadCascadesAllResponse=R=>{if(this.config.production)return this.crud.getPage(R);{const c=localStorage.getItem(R);return c?(0,e.of)(c):this.crud.getPage(R).pipe((0,l.b)(E=>localStorage.setItem(R,E)))}},this.parseCascadesAllTables=R=>new f(R,["id","Type","Tid"]),this.getCascadesAllResponse=R=>{const c=this.asCascadesAllFormData(R),E=(0,h.Fj)(c);if(this.config.production)return this.crud.postPage(this.page,E);{const Q=localStorage.getItem(this.page);return Q?(0,e.of)(Q):this.crud.postPage(this.page,E).pipe((0,l.b)(J=>localStorage.setItem(this.page,J)))}},this.parseCascadesAllResponse=R=>{const c={},Q=(new DOMParser).parseFromString(R,"text/html"),J=Q.body.querySelector("form#f");J&&Q.body.removeChild(J);const N=Array.from(Q.body.getElementsByTagName("p"));let D=Q.body.querySelector('a[href*="/results"]').href.split("/");D=D.splice(D.length-2,2);const b=D.join("/");c.resultsLink=b;const T=[];for(let p of N)p.textContent&&T.push(p.textContent);let a=T.find(p=>p.startsWith("Full Starting Query on the Fusion"));if(a){const p=(0,h.Ol)(a,this.quoteScan);c.fusionQuery=p[0],c.fusionResults=p[1]}if(a=T.find(p=>p.startsWith("Full Starting Query on the TwoToTwo")),a){const p=(0,h.Ol)(a,this.quoteScan);c.twoUpQuery=p[0],c.twoUpResults=p[1]}return a=T.find(p=>p.startsWith("Core Fuel List")),a&&(c.startingFuel=(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Fusion Table used")),a&&(c.fusionTable=(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("2-2 Table used")),a&&(c.twoUpTable=(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Maximmum number of nuclei allowed")),a&&(c.maxNuclei=+(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Maximum number of loops")),a&&(c.maxLoops=+(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Maximum Reactor Temperature")),a&&(c.maxReactorTemp=+(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Elements that will NOT have MELTED")),a&&(c.meltingSwitch=(0,h.pw)(a,this.colonScan)),a=T.find(p=>p.startsWith("Elements that WILL have BOILED")),a&&(c.boilingSwitch=(0,h.pw)(a,this.colonScan)),a=T.find(p=>p.startsWith("Minimum energy (MeV) for any Fusion reaction")),a&&(c.fusionMinEnergy=+(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Minimum energy (MeV) for any 2-2 reaction")),a&&(c.twoUpMinEnergy=+(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Radioactive Isotopes")),a&&(c.isotopeSwitch=(0,h.pw)(a,this.colonScan)),a=T.find(p=>p.startsWith("LHL threshold")),a&&(c.halfLifeThreshold=+(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("Nuclear Fermions")),a&&(c.nuclearFermionSwitch=(0,h.pw)(a,this.colonScan)),a=T.find(p=>p.startsWith("Atomic Fermions")),a&&(c.atomicFermionSwitch=(0,h.pw)(a,this.colonScan)),a=T.find(p=>p.includes("Dimers")),a&&(c.dimersSwitch=(0,h.pw)(a,this.colonScan)),a=T.find(p=>p.includes("order by which the Nuclei Table")),a&&(c.nuclidesSort=(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.includes("order by which the Reactions Table")),a&&(c.reactionSort=(0,h.pw)(a,this.equalScan)),a=T.find(p=>p.startsWith("The program looked for")),a&&(c.progressMessageOne=a),a=T.find(p=>p.startsWith("Thus the program looked for")),a&&(c.progressMessageTwo=a),a=T.find(p=>p.startsWith("Duration")),a&&(c.duration=(0,h.pw)(a,this.equalScan)),console.log("result",c),c},this.asCascadesAllFormData=R=>{const c=new FormData;c.append("doit","execute_query"),c.append("table_set",R.tableSet),c.append("max_nuclei",String(R.maxNuclei)),c.append("max_loops",String(R.maxLoops)),c.append("max_reactor_temp",String(R.maxReactorTemp)),c.append("Melting_switch",R.meltingSwitch),c.append("Boiling_switch",R.boilingSwitch),c.append("min_MeV_F",String(R.fusionMinEnergy)),c.append("min_MeV_T",String(R.twoUpMinEnergy)),c.append("Isotope_switch",R.isotopeSwitch),c.append("LHL_threshold",String(R.halfLifeThreshold)),c.append("NF_switch",R.nuclearFermionSwitch),c.append("AF_switch",R.atomicFermionSwitch),c.append("Dimer_switch",R.dimersSwitch),c.append("order_by_N",R.nuclidesSort),c.append("order_by_R",R.reactionSort),c.append("query",R.coreQuery);let E=0;return R.leftElements&&c.append(`sql_tables[${E++}]`,"left"),R.originalElements&&c.append(`sql_tables[${E++}]`,"none"),R.rightElements&&c.append(`sql_tables[${E++}]`,"right"),c}}}return(o=n).\u0275fac=function(R){return new(R||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),n})()},2401:(j,I,s)=>{s.d(I,{C:()=>e});class e{get reactionRows(){return this.reactionResults.length-1}get nuclideRows(){return this.nuclideResults.length-1}get elementRows(){return this.elementResults.length-1}get radioNuclideRows(){return this.radioNuclideResults.length-1}constructor(F,h,m=3){this.html=F,this.reactionTemplate=h,this.numberOfTablesExpected=m,this.reactionResults=[],this.nuclideResults=[],this.elementResults=[],this.radioNuclideResults=[],this.queries=[],this.errors=[],this.elementsTemplate=["Z","E","EName"],this.nuclidesTemplate=["id","A","Z"],this.radioNuclidesTemplate=["id","A","E","Z"],this.modelMatches=(y,f)=>{let r=0;for(let o=0;o<f.length;o++)f[o]===y[o]&&r++;return r===f.length},this.parseTableContent=(y,f)=>{if(this.modelMatches(y,this.reactionTemplate))this.reactionResults=f;else if(this.modelMatches(y,this.nuclidesTemplate))this.nuclideResults=f;else if(this.modelMatches(y,this.elementsTemplate))this.elementResults=f;else if(this.modelMatches(y,this.radioNuclidesTemplate))this.radioNuclideResults=f;else{const r=`table with this thead: "${y.join(",")}" couldn't be matched to any template.`;this.errors.push(r)}},this.parseReactionResults=()=>{const y=this.extractTablesFromPage();console.log("reactionTemplate",this.reactionTemplate),console.log("nuclidesTemplate",this.nuclidesTemplate),console.log("elementsTemplate",this.elementsTemplate),console.log("radioNuclidesTemplate",this.radioNuclidesTemplate);for(let r=0;r<y.length;r++)if(y.length>0){const o=y[r];this.parseTableContent(o[0],o)}let f=0;f+=this.reactionResults.length>0?1:0,f+=this.nuclideResults.length>0?1:0,f+=this.elementResults.length>0?1:0,f+=this.radioNuclideResults.length>0?1:0,this.ok=f>=this.numberOfTablesExpected,this.ok||(0==this.reactionResults.length&&this.errors.push("Reaction table is missing"),0==this.nuclideResults.length&&this.errors.push("Nuclides table is missing"),0==this.elementResults.length&&this.errors.push("Elements table is missing"))},this.convertTablesToResultSet=y=>{let f=[];return y.forEach(r=>{let o=Array.prototype.map.call(r.querySelectorAll("tr"),n=>Array.prototype.map.call(n.querySelectorAll("td"),i=>i.innerHTML));o.length>0&&f.push(o)}),f},this.extractTablesFromPage=()=>{let y=[];const o=(new DOMParser).parseFromString(this.html,"text/html").querySelectorAll("table.results");return this.validateTables(o)&&(y=this.convertTablesToResultSet(o)),y},this.validateTables=y=>{let f=y.length>=this.numberOfTablesExpected;return f&&y.forEach(r=>{r.childElementCount>0&&r.childElementCount<3&&(f=f&&"TBODY"==r.lastElementChild?.tagName)}),f},this.parseReactionResults()}}},5177:(j,I,s)=>{s.d(I,{k:()=>t});var t=function(e){return e.AllTables="all-tables",e.CascadesAll="cascades-all",e.Fission="fission",e.Fusion="fusion",e.TwoUp="two-up",e.TBD="undefined",e}(t||{})},5158:(j,I,s)=>{s.d(I,{s:()=>t});const t=F=>{let h=[];const f=(new DOMParser).parseFromString(F,"text/html").querySelectorAll("table.results");return e(3,f)&&(h=l(f)),h},e=(F,h)=>{let m=h.length===F;return m&&h.forEach(y=>{m=m&&y.childElementCount>0&&y.childElementCount<3,m=m&&"TBODY"==y.lastElementChild?.tagName}),m},l=F=>{let h=[];return F.forEach(m=>{let y=Array.prototype.map.call(m.querySelectorAll("tr"),f=>Array.prototype.map.call(f.querySelectorAll("td"),r=>r.innerHTML));h.push(y)}),h}},2200:(j,I,s)=>{s.d(I,{z:()=>h});var t=s(5879),e=s(5158),l=s(6414),F=s(8045);let h=(()=>{var m;class y{constructor(){this.crud=(0,t.f3M)(l.I),this.page="Fission.php",this.getFissionResults=r=>this.crud.postPage(this.page,F.iD(r)),this.parseFissionTable=(r,o,n)=>(F.VZ(r,["id","neutrino"])?n.reactionResults=o:F.VZ(r,["id","A","Z"])?n.nuclideResults=o:F.VZ(r,["Z","E","EName"])&&(n.elementResults=o),n),this.parseFissionResults=r=>{let o={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const n=(0,e.s)(r);for(let i=0;i<3;i++){const R=n[i];o=this.parseFissionTable(R[0],R,o)}for(let i=0;i<3;i++)o.ok=o.reactionResults.length>0&&o.nuclideResults.length>0&&o.elementResults.length>0;return o}}}return(m=y).\u0275fac=function(r){return new(r||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),y})()},9783:(j,I,s)=>{s.d(I,{I:()=>h});var t=s(5879),e=s(6414),l=s(5158),F=s(8045);let h=(()=>{var m;class y{constructor(){this.crud=(0,t.f3M)(e.I),this.page="Fusion.php",this.parseFusionResults=r=>{let o={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const n=(0,l.s)(r);for(let i=0;i<3;i++){const R=n[i];o=this.parseFusionTable(R[0],R,o)}return o.ok=o.reactionResults.length>0&&o.nuclideResults.length>0&&o.elementResults.length>0,o},this.parseFusionTable=(r,o,n)=>(F.VZ(r,["id","neutrino"])?n.reactionResults=o:F.VZ(r,["id","A","Z"])?n.nuclideResults=o:F.VZ(r,["Z","E","EName"])&&(n.elementResults=o),n)}getFusionResults(r){const o=F.iD(r);return this.crud.postPage(this.page,o)}}return(m=y).\u0275fac=function(r){return new(r||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),y})()},4364:(j,I,s)=>{s.d(I,{L:()=>Q});var t=s(6814),e=s(5879),l=s(6223),F=s(2296),h=s(5683),m=s(617),y=s(2032),f=s(8525),r=s(7394);const o=[{id:0,key:"csv",name:"Comma-delimited",extension:".csv",type:"text/csv"},{id:1,key:"tab",name:"Tab-delimited",extension:".tsv",type:"text/tab-separated-values"},{id:2,key:"txt",name:"Text",extension:".txt",type:"text/html"},{id:3,key:"prettyjson",name:"Pretty JSON",extension:".json",type:"application/json"},{id:4,key:"json",name:"Compressed JSON",extension:".json",type:"application/json"}],n=N=>{const L=N.get("fileType")?.value||null,D=N.get("fileName")?.value;return null!==L&&null!==D&&D.length>0?null:{missingElements:!0}};var i=s(2600),R=s(3680);function c(N,L){if(1&N&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&N){const D=L.$implicit;e.Q6J("value",D),e.xp6(1),e.hij(" ",D.name," ")}}function E(N,L){if(1&N){const D=e.EpF();e.TgZ(0,"form",3)(1,"div",0)(2,"mat-form-field")(3,"label"),e._uU(4,"File type"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,c,2,2,"mat-option",5),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"mat-form-field")(9,"label"),e._uU(10,"File Name"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"mat-form-field")(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){e.CHM(D);const T=e.oxw();return e.KtG(T.downloadBlob())}),e._uU(16," Download "),e.qZA(),e._UZ(17,"input",6),e.qZA(),e.TgZ(18,"a",9,10),e.NdJ("change",function(T){e.CHM(D);const a=e.oxw();return e.KtG(a.onFileInput(T))}),e.qZA(),e._UZ(20,"input",11,12),e.qZA()()}if(2&N){const D=e.oxw();e.Q6J("formGroup",D.downloadForm),e.xp6(6),e.Q6J("ngForOf",D.downloadOptions),e.xp6(8),e.hij("",D.fullNameSignal(),"\xa0"),e.xp6(1),e.Q6J("disabled",!D.goodForm())}}let Q=(()=>{var N;class L{constructor(){this.title="",this.url="",this.format="",this.showForm=(0,e.tdS)(!1),this.goodForm=(0,e.tdS)(!1),this.fileNameSignal=(0,e.tdS)(""),this.fileExtSignal=(0,e.tdS)(null),this.fullNameSignal=(0,e.Flj)(()=>{const b=this.fileNameSignal(),T=this.fileExtSignal()?.extension||"";let a;return a=b.length>0&&T.length>0?b+T:0==T.length?b:"",a}),this.downloadOptions=o,this.floatLabelControl=new l.NI("auto"),this.fb=(0,e.f3M)(l.qu),this.downloadService=(0,e.f3M)(i.K),this.setfileExtension=b=>{const T=b.extension;let a=this.downloadForm.get("fileName")?.value;if(a){const p=a.indexOf(".",-1);if(p>=0){const K=a.substring(p);a.replace(K,T)}else a+=T;this.downloadForm.get("fileName")?.patchValue(a,{emitEvent:!1})}},this.setFileName=b=>{const T=this.downloadForm.get("fileType")?.value,a=this.downloadOptions[T].extension;let p;if(""!==a){const K=b.indexOf(".",-1);p=K>0?b.substring(0,K-1):b,p+=a,this.downloadForm.get("fileName")?.patchValue(p,{emitEvent:!1})}},this.onFileInput=b=>{console.log(b),b.stopPropagation()},this.toggleDownload=()=>{this.showForm.set(!this.showForm())},this.downloadBlob=()=>{const b=this.downloadForm.get("fileType")?.value;this.downloadService.downloadBlob(b,this.data,this.fullNameSignal())},this.subscriptions=new r.w0}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.downloadForm=this.fb.group({fileName:["",l.kI.required],fileType:[null,l.kI.required],dummy:[""]},{validators:n}),this.subscriptions.add(this.downloadForm.get("fileType")?.valueChanges.subscribe(b=>this.fileExtSignal.set(b))),this.subscriptions.add(this.downloadForm.get("fileName")?.valueChanges.subscribe(b=>this.fileNameSignal.set(b))),this.subscriptions.add(this.downloadForm.statusChanges.subscribe(b=>this.goodForm.set("VALID"===b)))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}}return(N=L).\u0275fac=function(b){return new(b||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["mfmp-download"]],inputs:{data:"data",resultType:"resultType",ready:"ready"},standalone:!0,features:[e._Bn([i.K]),e.jDz],decls:5,vars:2,consts:[[1,"flexrow"],["type","button","mat-icon-button","",3,"title","click"],["id","download",3,"formGroup",4,"ngIf"],["id","download",3,"formGroup"],["formControlName","fileType","placeholder","Select a file type."],[3,"value",4,"ngFor","ngForOf"],["matInput","","title","hidden","formControlName","dummy",1,"hidden"],["matInput","","formControlName","fileName","placeholder","Enter a file name."],["mat-raised-button","","type","button",3,"disabled","click"],["href","x","type","file","title","hidden","download","",1,"hidden",3,"change"],["fileInput",""],["type","file","title","picker","value","",1,"hidden"],["filePicker",""],[3,"value"]],template:function(b,T){1&b&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return T.toggleDownload()}),e.TgZ(2,"mat-icon"),e._uU(3,"download"),e.qZA()(),e.YNc(4,E,22,4,"form",2),e.qZA()),2&b&&(e.xp6(1),e.MGl("title","Download ",T.resultType,""),e.xp6(3),e.Q6J("ngIf",T.showForm()))},dependencies:[t.sg,t.ez,t.O5,F.ot,F.lW,F.RK,h.lN,h.KE,m.Ps,m.Hw,y.c,y.Nt,f.LD,f.gD,R.ey,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".hidden[_ngcontent-%COMP%]{display:none!important}.flexrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}.disabled[_ngcontent-%COMP%]{visibility:hidden}label.block[_ngcontent-%COMP%]{display:block;margin:auto}"]}),L})()},2603:(j,I,s)=>{s.d(I,{O:()=>se});var t=s(6814),e=s(5879),l=s(5195),F=s(1476),h=s(3566),m=s(5313),y=s(4221),f=s(2096),r=s(7394),o=s(8645),n=s(4364),i=s(2655),R=s(2296),c=s(902);let E=(()=>{var C;class _{constructor(){this.router=(0,e.f3M)(i.F0),this.store=(0,e.f3M)(y.yh),this.subscriptions=new r.w0,this.reset=()=>{this.router.navigate([this.returnUrl],{queryParams:{reset:!0}}).catch(d=>console.error(d))}}ngOnInit(){this.subscriptions.add(this.store.select(c.z.selectReportParameters).subscribe(d=>{this.parameters=d,this.returnUrl=d.url}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(C=_).\u0275fac=function(d){return new(d||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["mfmp-restart-feature"]],standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(d,g){1&d&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return g.reset()}),e._uU(1," Again?\n"),e.qZA())},dependencies:[t.ez,R.ot,R.lW]}),_})();const Q=["paginator"];function J(C,_){if(1&C&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&C){const Z=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",Z," ")}}function N(C,_){1&C&&(e.ynx(0),e.YNc(1,J,2,1,"th",14),e.BQk())}function L(C,_){if(1&C&&(e.TgZ(0,"th",17),e._uU(1),e.qZA()),2&C){const Z=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",Z," ")}}function D(C,_){1&C&&(e.ynx(0),e.YNc(1,L,2,1,"th",16),e.BQk())}function b(C,_){if(1&C&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&C){const Z=_.$implicit,d=e.oxw().index,g=e.oxw();e.Q6J("ngClass",g.columnStyles[d]),e.xp6(1),e.hij(" ",Z[d]," ")}}function T(C,_){if(1&C&&(e.ynx(0,11),e.YNc(1,N,2,0,"ng-container",12),e.YNc(2,D,2,0,"ng-container",12),e.YNc(3,b,2,2,"td",13),e.BQk()),2&C){const Z=_.$implicit,d=_.index,g=e.oxw();e.Q6J("matColumnDef",Z),e.xp6(1),e.Q6J("ngIf",1==g.sortableColumns[d]),e.xp6(1),e.Q6J("ngIf",0==g.sortableColumns[d])}}function a(C,_){1&C&&e.GkF(0)}function p(C,_){if(1&C&&(e.TgZ(0,"td",19),e.YNc(1,a,1,0,"ng-container",20),e.qZA()),2&C){e.oxw();const Z=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",Z)}}function K(C,_){1&C&&(e.TgZ(0,"td",19),e._uU(1,"\xa0"),e.qZA())}function O(C,_){1&C&&e._UZ(0,"tr",21)}function W(C,_){1&C&&e._UZ(0,"tr",22)}function A(C,_){1&C&&e._UZ(0,"tr",23)}function w(C,_){if(1&C&&(e.TgZ(0,"mat-card-actions",24)(1,"div",25),e.ynx(2),e._UZ(3,"mfmp-download",26),e.BQk(),e.ynx(4),e._UZ(5,"mfmp-restart-feature"),e.BQk(),e.qZA()()),2&C){const Z=e.oxw();e.xp6(3),e.Q6J("data",Z.downloadable(Z.dataSource.data))("resultType",Z.resultType)("ready",Z.ready)}}const X=function(){return[10,25,50,100]};function S(C,_){if(1&C){const Z=e.EpF();e.TgZ(0,"mat-paginator",28,29),e.NdJ("page",function(g){e.CHM(Z);const z=e.oxw(2);return e.KtG(z.handlePageEvent(g))}),e.qZA()}if(2&C){const Z=e.oxw(2);e.Q6J("pageSize",25)("pageSizeOptions",e.DdM(4,X))("length",Z.length)("pageIndex",0)}}function U(C,_){if(1&C&&e.YNc(0,S,2,5,"mat-paginator",27),2&C){const Z=e.oxw();e.Q6J("ngIf",Z.paginate)}}const q=function(){return["paginatorColumn"]},B=function(){return["nullPaginator"]};let te=(()=>{var C;class _{constructor(){this.subscriptions=new r.w0,this.changeDetector=(0,e.f3M)(e.sBO),this.dataSource=new m.by,this.values=[],this.sortedData=[],this.ready=(0,e.tdS)(!1),this.pageSize=20,this.pageIndex=0,this.pageSizeOptions=[10,20,25,50,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.buildDataSource=d=>{this.values=[...d],this.values.shift();const g=new m.by(this.values);g.sort=this.sort,this.dataSource=g,this.ready.set(!0),this.changeDetector.detectChanges()},this.setupPaginator=()=>{this.paginator.pageSize=this.pageSize,this.paginator.pageSizeOptions=this.pageSizeOptions,this.paginator.hidePageSize=!1,this.paginator.showFirstLastButtons=!0,this.paginator.pageIndex=0},this.sortData=d=>{const g=this.dataSource.data;let z=g;if(g){if(!d.active||""===d.direction)return z;const G="asc"===d.direction,H=this.displayColumns?.findIndex($=>$==d.active);let V=this.columnTypes[H];return this.dataSource.data=g.sort(($,k)=>this.compare($[H],k[H],G,V)),this.sortedData}return z},this.compare=(d,g,z,G)=>"string"===G?this.compareStrings(d,g,z):this.compareNumbers(+d,+g,z),this.compareStrings=(d,g,z)=>(d<g?-1:1)*(z?1:-1),this.compareNumbers=(d,g,z)=>(d<g?-1:1)*(z?1:-1),this.downloadable=d=>{const g=[...d];return g.unshift(this.displayColumns),g}}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(d=>{this.buildDataSource(d)}))}ngAfterViewInit(){this.paginate&&(this.setupPaginator(),this.dataSource.paginator=this.paginator,this.dataSource.paginator?.firstPage())}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(d){this.pageEvent=d,this.pageSize=d.pageSize,this.pageIndex=d.pageIndex}setPageSizeOptions(d){d&&(this.pageSizeOptions=d.split(",").map(g=>+g))}}return(C=_).\u0275fac=function(d){return new(d||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["mfmp-query-face"]],viewQuery:function(d,g){if(1&d&&(e.Gf(Q,5),e.Gf(h.YE,5)),2&d){let z;e.iGM(z=e.CRH())&&(g.paginator=z.first),e.iGM(z=e.CRH())&&(g.sort=z.first)}},inputs:{resultType:"resultType",download:"download",displayColumns:"displayColumns",columnTypes:"columnTypes",columnStyles:"columnStyles",sortableColumns:"sortableColumns",inputResults:"inputResults",length:"length",paginate:"paginate"},standalone:!0,features:[e.jDz],decls:15,vars:8,consts:[[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z2",3,"dataSource","matSortChange"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","paginatorColumn"],["mat-footer-cell","","colspan","99",4,"matFooterCellDef"],["matColumnDef","nullPaginator"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["align","end",4,"ngIf"],["footerCell",""],[3,"matColumnDef"],[4,"ngIf"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-footer-cell","","colspan","99"],[4,"ngTemplateOutlet"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["align","end"],[1,"action"],[3,"data","resultType","ready"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page",4,"ngIf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page"],["paginator",""]],template:function(d,g){1&d&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"table",1),e.NdJ("matSortChange",function(G){return g.sortData(G)}),e.YNc(4,T,4,3,"ng-container",2),e.ynx(5,3),e.YNc(6,p,2,1,"td",4),e.BQk(),e.ynx(7,5),e.YNc(8,K,2,0,"td",4),e.BQk(),e.YNc(9,O,1,0,"tr",6),e.YNc(10,W,1,0,"tr",7),e.YNc(11,A,1,0,"tr",8),e.qZA()()(),e.YNc(12,w,6,3,"mat-card-actions",9),e.qZA(),e.YNc(13,U,1,1,"ng-template",null,10,e.W1O)),2&d&&(e.xp6(3),e.Q6J("dataSource",g.dataSource),e.xp6(1),e.Q6J("ngForOf",g.displayColumns),e.xp6(5),e.Q6J("matHeaderRowDef",g.displayColumns),e.xp6(1),e.Q6J("matRowDefColumns",g.displayColumns),e.xp6(1),e.Q6J("matFooterRowDef",!0===g.paginate?e.DdM(6,q):e.DdM(7,B)),e.xp6(1),e.Q6J("ngIf",g.paginate&&g.length>0))},dependencies:[t.O5,t.tP,t.ez,t.mk,t.sg,l.QW,l.a8,l.hq,l.dn,h.JX,h.YE,h.nU,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.mD,m.Ke,m.ge,m.ev,m.yh,m.XQ,m.Gk,m.Q2,F.TU,F.NW,n.L,E],styles:[".mat-column-number[_ngcontent-%COMP%]{text-align:right!important}.mat-column-null[_ngcontent-%COMP%]{text-align:center!important}table.mat-mdc-table[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid lightgray}.mdc-data-table__header-row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__header-cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}.mdc-data-table__row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}div.block[_ngcontent-%COMP%]{vertical-align:middle}div.action[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}div.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}"]}),_})(),se=(()=>{var C;class _{constructor(){this.paginate=!0,this.obj=new m.by,this.dataSource=(0,f.of)(this.obj),this.store=(0,e.f3M)(y.yh),this.changeDetector=(0,e.f3M)(e.sBO),this.sortedData=[],this.columnTypes=[],this.columnStyles=[],this.sortableColumns=[],this.subscriptions=new r.w0,this.ready=(0,e.tdS)(!1),this.pageSize=25,this.pageIndex=0,this.length=(0,e.tdS)(0),this.pageSizeOptions=[5,10,25,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.setSortableColumns=()=>{const d=new Array(this.columnTypes.length);for(let g=0;g<this.columnTypes.length;g++)d[g]="null"!=this.columnTypes[g];this.sortableColumns=d},this.setColumnStyles=()=>{const d=new Array(this.columnTypes.length);for(let H=0;H<this.columnTypes.length;H++){const V=this.columnTypes[H];d[H]="null"===V?"mat-column-null":"number"===V?"mat-column-number":""}this.columnStyles=d},this.setColumnTypes=(d,g)=>{const z=new Array(g.length);for(let G=0;G<g.length;G++){let H=0,V=0,$=0;for(let u=0;u<d.length;u++){let x=d[u][G];$+="null"===x?1:0,H+=null!==x&&isNaN(x)?1:0,V+=null===x||isNaN(x)?0:1}z[G]=$>0?"null":V>0?"number":"string"}this.columnTypes=z},this.download=new o.x}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(d=>{if(d.length>0){const g=[...d[0]];let z=[...d];z.shift(),this.headers=g;const G=new m.by(z);this.download.next(d),this.headers=g,this.setColumnTypes(z,g),this.setColumnStyles(),this.setSortableColumns(),this.dataSource=(0,f.of)(G),this.ready.set(!0),this.length.set(z.length)}}))}ngAfterContentInit(){this.changeDetector.detectChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(d){this.pageEvent=d,this.pageSize=d.pageSize,this.pageIndex=d.pageIndex}}return(C=_).\u0275fac=function(d){return new(d||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["mfmp-query-head"]],inputs:{resultType:"resultType",inputResults:"inputResults",paginate:"paginate"},standalone:!0,features:[e.jDz],decls:2,vars:11,consts:[[3,"resultType","download","sortableColumns","displayColumns","columnTypes","columnStyles","inputResults","length","paginate"]],template:function(d,g){1&d&&(e._UZ(0,"mfmp-query-face",0),e.ALo(1,"async")),2&d&&e.Q6J("resultType",g.resultType)("download",e.lcZ(1,9,g.download))("sortableColumns",g.sortableColumns)("displayColumns",g.headers)("columnTypes",g.columnTypes)("columnStyles",g.columnStyles)("inputResults",g.inputResults)("length",g.length())("paginate",g.paginate)},dependencies:[te,t.Ov,t.ez,l.QW,h.JX,m.p0,F.TU],encapsulation:2}),_})()},2678:(j,I,s)=>{s.d(I,{a:()=>k});var t=s(5879),e=s(2655),l=s(4221),F=s(7394),h=s(2096),m=s(5177),y=s(902),f=s(9001),r=s(5010),o=s(9306),n=s(5498),i=s(8472),R=s(6814),c=s(2296),E=s(5195),Q=s(5940),J=s(4104),N=s(2603);class L{constructor(x,P){this._document=P;const v=this._textarea=this._document.createElement("textarea"),M=v.style;M.position="fixed",M.top=M.opacity="0",M.left="-999em",v.setAttribute("aria-hidden","true"),v.value=x,v.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(v)}copy(){const x=this._textarea;let P=!1;try{if(x){const v=this._document.activeElement;x.select(),x.setSelectionRange(0,x.value.length),P=this._document.execCommand("copy"),v&&v.focus()}}catch{}return P}destroy(){const x=this._textarea;x&&(x.remove(),this._textarea=void 0)}}let D=(()=>{var u;class x{constructor(v){this._document=v}copy(v){const M=this.beginCopy(v),Y=M.copy();return M.destroy(),Y}beginCopy(v){return new L(v,this._document)}}return(u=x).\u0275fac=function(v){return new(v||u)(t.LFG(R.K0))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),x})();const b=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let T=(()=>{var u;class x{constructor(v,M,Y){this._clipboard=v,this._ngZone=M,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,Y&&null!=Y.attempts&&(this.attempts=Y.attempts)}copy(v=this.attempts){if(v>1){let M=v;const Y=this._clipboard.beginCopy(this.text);this._pending.add(Y);const ee=()=>{const ne=Y.copy();ne||! --M||this._destroyed?(this._currentTimeout=null,this._pending.delete(Y),Y.destroy(),this.copied.emit(ne)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(ee,1))};ee()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(v=>v.destroy()),this._pending.clear(),this._destroyed=!0}}return(u=x).\u0275fac=function(v){return new(v||u)(t.Y36(D),t.Y36(t.R0b),t.Y36(b,8))},u.\u0275dir=t.lG2({type:u,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(v,M){1&v&&t.NdJ("click",function(){return M.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),x})(),a=(()=>{var u;class x{}return(u=x).\u0275fac=function(v){return new(v||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({}),x})();var p=s(6223),K=s(617);const O=["button"],W=["icon"],A=["code"],w=function(){return["visibility:hidden"]},X=function(){return["icon-display"]};let S=(()=>{var u;class x{constructor(){this.toolTip="copied",this.getChildren=()=>{this.code=this.codeRef.nativeElement,this.icon=this.iconRef._elementRef.nativeElement},this.mouseEnter=()=>{this.icon&&(this.icon.title=""),this.icon&&(this.icon.style.visibility="visible"),this.code&&(this.code.style.opacity=".5"),console.log("enter")},this.mouseLeave=()=>{this.icon&&(this.icon.style.visibility="hidden"),this.code&&(this.code.style.opacity="1"),console.log("leave")},this.clicked=()=>{this.icon&&(this.icon.title=this.toolTip)}}ngAfterViewInit(){this.getChildren()}}return(u=x).\u0275fac=function(v){return new(v||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["code-copy"]],viewQuery:function(v,M){if(1&v&&(t.Gf(O,5),t.Gf(W,5),t.Gf(A,5)),2&v){let Y;t.iGM(Y=t.CRH())&&(M.buttonRef=Y.first),t.iGM(Y=t.CRH())&&(M.iconRef=Y.first),t.iGM(Y=t.CRH())&&(M.codeRef=Y.first)}},inputs:{text:"text"},standalone:!0,features:[t.jDz],decls:7,vars:8,consts:[[3,"mouseenter","mouseleave"],[3,"className"],["code",""],[3,"classList","cdkCopyToClipboard","click"],["icon",""]],template:function(v,M){1&v&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return M.mouseEnter()})("mouseleave",function(){return M.mouseLeave()}),t.TgZ(1,"code",1,2),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",3,4),t.NdJ("click",function(){return M.clicked()}),t._uU(6," content_copy "),t.qZA()()),2&v&&(t.xp6(1),t.Q6J("className","cold"),t.xp6(2),t.hij(" ",M.text," "),t.xp6(1),t.Akn(t.DdM(6,w)),t.Q6J("classList",t.DdM(7,X))("cdkCopyToClipboard",M.text))},dependencies:[p.u5,a,T,c.ot,K.Ps,K.Hw],styles:['.icon-display[_ngcontent-%COMP%]{transform:scale(.5)}div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}code[_ngcontent-%COMP%]{margin-right:1ex}mat-icon[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(mat-icon){visibility:visible}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(code){opacity:".5"}']}),x})();function U(u,x){1&u&&t.GkF(0)}function q(u,x){1&u&&t._UZ(0,"mat-progress-spinner",5)}function B(u,x){1&u&&t.GkF(0)}function te(u,x){1&u&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function se(u,x){if(1&u&&t._UZ(0,"mfmp-query-head",11),2&u){const P=t.oxw(2);t.Q6J("resultType","results")("inputResults",P.reactionResults)}}function C(u,x){1&u&&t.GkF(0)}function _(u,x){1&u&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function Z(u,x){if(1&u&&t._UZ(0,"mfmp-query-head",11),2&u){const P=t.oxw(3);t.Q6J("resultType","nuclides")("inputResults",P.nuclideResults)}}function d(u,x){if(1&u&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"async"),t.YNc(2,C,1,0,"ng-container",2),t.YNc(3,_,2,0,"ng-template",null,12,t.W1O),t.YNc(5,Z,1,2,"ng-template",null,13,t.W1O),t.qZA()),2&u){const P=t.MAs(4),v=t.MAs(6),M=t.oxw(2);t.MGl("label","Nuclides (",t.lcZ(1,4,M.nuclideRows),")"),t.xp6(2),t.Q6J("ngIf",M.nuclideResults)("ngIfThen",v)("ngIfElse",P)}}function g(u,x){1&u&&t.GkF(0)}function z(u,x){1&u&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function G(u,x){if(1&u&&t._UZ(0,"mfmp-query-head",11),2&u){const P=t.oxw(3);t.Q6J("resultType","elements")("inputResults",P.elementResults)}}function H(u,x){if(1&u&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"async"),t.YNc(2,g,1,0,"ng-container",2),t.YNc(3,z,2,0,"ng-template",null,14,t.W1O),t.YNc(5,G,1,2,"ng-template",null,15,t.W1O),t.qZA()),2&u){const P=t.MAs(4),v=t.MAs(6),M=t.oxw(2);t.MGl("label","ELements (",t.lcZ(1,4,M.elementRows),")"),t.xp6(2),t.Q6J("ngIf",M.elementResults)("ngIfThen",v)("ngIfElse",P)}}function V(u,x){if(1&u&&(t.TgZ(0,"mat-tab-group",6)(1,"mat-tab",7),t.ALo(2,"async"),t.YNc(3,B,1,0,"ng-container",2),t.YNc(4,te,2,0,"ng-template",null,8,t.W1O),t.YNc(6,se,1,2,"ng-template",null,9,t.W1O),t.qZA(),t.YNc(8,d,7,6,"mat-tab",10),t.YNc(9,H,7,6,"mat-tab",10),t.qZA()),2&u){const P=t.MAs(5),v=t.MAs(7),M=t.oxw();t.xp6(1),t.MGl("label","Results (",t.lcZ(2,6,M.reactionRows),")"),t.xp6(2),t.Q6J("ngIf",M.reactionResults)("ngIfThen",v)("ngIfElse",P),t.xp6(5),t.Q6J("ngIf",M.parameters.tables>1),t.xp6(1),t.Q6J("ngIf",M.parameters.tables>2)}}let $=(()=>{var u;class x{constructor(){this.query=new t.vpe,this.store=(0,t.f3M)(l.yh),this.router=(0,t.f3M)(e.F0),this.url=""}ngAfterContentInit(){}ngOnInit(){this.url=this.router.routerState.snapshot.url}}return(u=x).\u0275fac=function(v){return new(v||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["mfmp-report-pages-face"]],inputs:{parameters:"parameters",reactionResults:"reactionResults",nuclideResults:"nuclideResults",elementResults:"elementResults",reactionRows:"reactionRows",nuclideRows:"nuclideRows",elementRows:"elementRows",loading:"loading",ready:"ready"},outputs:{query:"query"},standalone:!0,features:[t.jDz],decls:10,vars:6,consts:[[1,"wrapper"],[3,"text"],[4,"ngIf","ngIfThen","ngIfElse"],["waiting",""],["working",""],["mode","indeterminate",1,"progress-spinner"],["mat-stretch-tabs","false","animationDuration","250ms"],[3,"label"],["reactionNo",""],["reactionYes",""],[3,"label",4,"ngIf"],[3,"resultType","inputResults"],["nuclidesNo",""],["nuclidesYes",""],["elementsNo",""],["elementsYes",""]],template:function(v,M){if(1&v&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header"),t._UZ(2,"code-copy",1),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,U,1,0,"ng-container",2),t.ALo(5,"async"),t.YNc(6,q,1,0,"ng-template",null,3,t.W1O),t.YNc(8,V,10,8,"ng-template",null,4,t.W1O),t.qZA()()),2&v){const Y=t.MAs(7),ee=t.MAs(9);t.xp6(2),t.Q6J("text",M.parameters.query),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,M.loading))("ngIfThen",Y)("ngIfElse",ee)}},dependencies:[c.ot,E.QW,E.a8,E.dn,E.dk,Q.Cq,Q.Ou,J.Nh,J.uX,J.SP,N.O,R.Ov,R.O5,S],styles:[".wrapper[_ngcontent-%COMP%]{width:100%}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.progress-spinner[_ngcontent-%COMP%]{margin-top:3em;margin-left:auto;margin-right:auto}"]}),x})(),k=(()=>{var u;class x{constructor(){this.router=(0,t.f3M)(e.F0),this.store=(0,t.f3M)(l.yh),this.subscriptions=new F.w0,this.provideReports=v=>{switch(v){case m.k.AllTables:this.reactions=this.store.select(f.zL.selectResults),this.reactionRows=this.store.select(f.zL.selectRows),this.nuclides=(0,h.of)([]),this.elements=(0,h.of)([]),this.nuclideRows=(0,h.of)(0),this.elementRows=(0,h.of)(0),this.loading=this.store.select(f.zL.selectLoading),this.ready=this.store.select(f.zL.selectReady);break;case m.k.Fusion:this.reactions=this.store.select(n.zL.selectReactionResults),this.nuclides=this.store.select(n.zL.selectNuclideResults),this.elements=this.store.select(n.zL.selectElementResults),this.reactionRows=this.store.select(n.zL.selectReactionRows),this.nuclideRows=this.store.select(n.zL.selectNuclideRows),this.elementRows=this.store.select(n.zL.selectElementRows),this.loading=this.store.select(n.zL.selectLoading),this.ready=this.store.select(n.zL.selectReady);break;case m.k.Fission:this.reactions=this.store.select(o.zL.selectReactionResults),this.nuclides=this.store.select(o.zL.selectNuclideResults),this.elements=this.store.select(o.zL.selectElementResults),this.reactionRows=this.store.select(o.zL.selectReactionRows),this.nuclideRows=this.store.select(o.zL.selectNuclideRows),this.elementRows=this.store.select(o.zL.selectElementRows),this.loading=this.store.select(o.zL.selectLoading),this.ready=this.store.select(o.zL.selectReady);break;case m.k.TwoUp:this.reactions=this.store.select(i.zL.selectReactionResults),this.nuclides=this.store.select(i.zL.selectNuclideResults),this.elements=this.store.select(i.zL.selectElementResults),this.reactionRows=this.store.select(i.zL.selectReactionRows),this.nuclideRows=this.store.select(i.zL.selectNuclideRows),this.elementRows=this.store.select(i.zL.selectElementRows),this.loading=this.store.select(i.zL.selectLoading),this.ready=this.store.select(i.zL.selectReady);break;case m.k.CascadesAll:this.reactions=this.store.select(r.zL.selectReactionResults),this.nuclides=this.store.select(r.zL.selectNuclideResults),this.elements=this.store.select(r.zL.selectElementResults),this.reactionRows=this.store.select(r.zL.selectReactionRows),this.nuclideRows=this.store.select(r.zL.selectNuclideRows),this.elementRows=this.store.select(r.zL.selectElementRows);break;default:console.log(`ReactionType '${v}' is undefined.`)}}}ngOnInit(){this.subscriptions.add(this.store.select(y.z.selectReportParameters).subscribe(v=>{this.parameters=v,this.returnUrl=v.url,this.provideReports(this.parameters.reactionType)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(u=x).\u0275fac=function(v){return new(v||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["mfmp-report-pages"]],standalone:!0,features:[t.jDz],decls:2,vars:9,consts:[[3,"parameters","reactionResults","nuclideResults","elementResults","reactionRows","nuclideRows","elementRows","loading","ready"]],template:function(v,M){1&v&&(t.ynx(0),t._UZ(1,"mfmp-report-pages-face",0),t.BQk()),2&v&&(t.xp6(1),t.Q6J("parameters",M.parameters)("reactionResults",M.reactions)("nuclideResults",M.nuclides)("elementResults",M.elements)("reactionRows",M.reactionRows)("nuclideRows",M.nuclideRows)("elementRows",M.elementRows)("loading",M.loading)("ready",M.ready))},dependencies:[$],encapsulation:2}),x})()},9001:(j,I,s)=>{s.d(I,{Nw:()=>o,Sz:()=>t,zL:()=>L});var t={};s.r(t),s.d(t,{fetchAllResultsErrorAlert:()=>Q,loadAllResultsEffect:()=>c,requestPageEffect:()=>R,requesthAllResultsErrorAlert:()=>E});var e=s(5879),l=s(7483),F=s(4664),h=s(7398),m=s(6306),y=s(2096),f=s(9397),r=s(4221);const o=(0,r.R7)({source:"AllTables API",events:{Reset:(0,r.uZ)(),"Request Page":(0,r.uZ)(),"Request Page Success":(0,r.Ky)(),"Request Page Failure":O=>({error:O}),"Load Results":(0,r.Ky)(),"Load Results Success":(0,r.Ky)(),"Load Results Failure":O=>({error:O})}});var n=s(2744),i=s(7294);const R=(0,l.GW)((O=(0,e.f3M)(l.eX))=>{const W=(0,e.f3M)(i.M);return O.pipe((0,l.l4)(o.requestPage),(0,F.w)(()=>W.getAllTablesPage().pipe((0,h.U)(A=>W.extractAllTablesQuery(A)),(0,h.U)(A=>o.requestPageSuccess({payload:A})),(0,m.K)(A=>(0,y.of)(o.requestPageFailure({error:A}))))))},{functional:!0}),c=(0,l.GW)((O=(0,e.f3M)(l.eX))=>{const W=(0,e.f3M)(i.M);return O.pipe((0,l.l4)(o.loadResults),(0,F.w)(A=>W.getAllTablesResults(A.query).pipe((0,h.U)(w=>W.extractAllTablesResults(w)),(0,h.U)(w=>o.loadResultsSuccess({payload:w})),(0,m.K)(w=>(0,y.of)(o.loadResultsFailure({error:w}))))))},{functional:!0}),E=(0,l.GW)(()=>{const O=(0,e.f3M)(n.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(o.requestPageFailure),(0,f.b)(()=>O.showClientError("No results found.")))},{functional:!0,dispatch:!1}),Q=(0,l.GW)(()=>{const O=(0,e.f3M)(n.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(o.loadResultsFailure),(0,f.b)(()=>O.showClientError("No results found.")))},{functional:!0,dispatch:!1}),J={query:"",loading:!1,ready:!1,error:null,results:[],rows:0},N=(0,r.Lq)(J,(0,r.on)(o.reset,()=>({...J})),(0,r.on)(o.requestPage,O=>({...O,query:"",loading:!0,ready:!1,error:null})),(0,r.on)(o.requestPageSuccess,(O,W)=>({...O,loading:!1,ready:!0,query:W.payload})),(0,r.on)(o.requestPageFailure,(O,W)=>({...O,loading:!1,ready:!1,error:W})),(0,r.on)(o.loadResults,(O,W)=>({...O,query:W.query,loading:!0,ready:!1,error:null,results:[],rows:0})),(0,r.on)(o.loadResultsSuccess,(O,W)=>({...O,ready:!0,loading:!1,results:W.payload.reactionResults,rows:W.payload.reactionRows})),(0,r.on)(o.loadResultsFailure,(O,W)=>({...O,loading:!1,error:W.error}))),L=(0,r.Tz)({name:"all-tables",reducer:N})},5010:(j,I,s)=>{s.d(I,{Nw:()=>l,Sz:()=>t,zL:()=>m});var t={};s.r(t),s.d(t,{fetchAllResultsErrorAlert:()=>X,loadAllResultsEffect:()=>A,requestAllResultsEffect:()=>W,requesthAllResultsErrorAlert:()=>w});var e=s(4221);const l=(0,e.R7)({source:"CascadesAll API",events:{Reset:(0,e.uZ)(),"Request All Results":(0,e.Ky)(),"Request All Results Success":(0,e.Ky)(),"Request All Results Failure":S=>({error:S}),"Fetch All Results":(0,e.Ky)(),"Fetch All Results Success":(0,e.Ky)(),"Fetch All Results Failure":S=>({error:S}),"Load All Results":(0,e.Ky)(),"Load All Results Success":(0,e.Ky)(),"Load All Results Failure":S=>({error:S}),"Load ElementResults":(0,e.uZ)(),"Load FusionResults":(0,e.uZ)(),"Load NuclideResults":(0,e.uZ)()}}),F={formData:null,loading:!1,ready:!1,error:null,link:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},h=(0,e.Lq)(F,(0,e.on)(l.reset,()=>({...F})),(0,e.on)(l.requestAllResults,(S,U)=>({...S,formData:U.payload,loading:!0,ready:!1,error:null})),(0,e.on)(l.requestAllResultsSuccess,(S,U)=>({...S,loading:!1,ready:!0,formData:U.payload})),(0,e.on)(l.requestAllResultsFailure,(S,U)=>({...S,loading:!1,ready:!1,error:U})),(0,e.on)(l.loadAllResults,(S,U)=>({...S,loading:!0,ready:!1,error:null,link:U.url,reactionRows:0,nuclideRows:0,elementRows:0})),(0,e.on)(l.loadAllResultsSuccess,(S,U)=>({...S,ready:!0,loading:!1,reactionResults:U.payload.reactionResults,nuclideResults:U.payload.nuclideResults,elementResults:U.payload.elementResults,reactionRows:U.payload.reactionRows,nuclideRows:U.payload.nuclideRows,elementRows:U.payload.elementRows})),(0,e.on)(l.loadAllResultsFailure,(S,U)=>({...S,loading:!1,error:U.error}))),m=(0,e.Tz)({name:"cascades-all",reducer:h});var N=s(5879),L=s(7483),D=s(4664),b=s(7398),T=s(9397),a=s(6306),p=s(2096),K=s(7331),O=s(2744);const W=(0,L.GW)((S=(0,N.f3M)(L.eX))=>{const U=(0,N.f3M)(K.o);return S.pipe((0,L.l4)(l.requestAllResults),(0,D.w)(q=>U.getCascadesAllResponse(q.payload).pipe((0,b.U)(B=>U.parseCascadesAllResponse(B)),(0,T.b)(B=>console.log("dto",B)),(0,b.U)(B=>l.requestAllResultsSuccess({payload:B})),(0,a.K)(B=>(0,p.of)(l.requestAllResultsFailure({error:B}))))))},{functional:!0}),A=(0,L.GW)((S=(0,N.f3M)(L.eX))=>{const U=(0,N.f3M)(K.o);return S.pipe((0,L.l4)(l.loadAllResults),(0,D.w)(q=>U.loadCascadesAllResponse(q.url).pipe((0,b.U)(B=>U.parseCascadesAllTables(B)),(0,b.U)(B=>B.ok?l.loadAllResultsSuccess({payload:B}):l.loadAllResultsFailure({error:B.errors})),(0,a.K)(B=>(0,p.of)(l.loadAllResultsFailure({error:B}))))))},{functional:!0}),w=(0,L.GW)(()=>{const S=(0,N.f3M)(O.c);return(0,N.f3M)(L.eX).pipe((0,L.l4)(l.requestAllResultsFailure),(0,T.b)(()=>S.showClientError("No results found.")))},{functional:!0,dispatch:!1}),X=(0,L.GW)(()=>{const S=(0,N.f3M)(O.c);return(0,N.f3M)(L.eX).pipe((0,L.l4)(l.fetchAllResultsFailure),(0,T.b)(()=>S.showClientError("No results found.")))},{functional:!0,dispatch:!1})},9306:(j,I,s)=>{s.d(I,{Nw:()=>i,Sz:()=>t,zL:()=>J});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>R,loadAllResultsErrorAlert:()=>c});var e=s(5879),l=s(7483),F=s(4664),h=s(7398),m=s(6306),y=s(2096),f=s(9397),r=s(2744),o=s(2200),n=s(4221);const i=(0,n.R7)({source:"Fission API",events:{Reset:(0,n.uZ)(),"Fetch All Results":(0,n.Ky)(),"Load All Results Success":(0,n.Ky)(),"Load All Results Failure":A=>({error:A}),"Load ElementResults":(0,n.uZ)(),"Load FissionResults":(0,n.uZ)(),"Load NuclideResults":(0,n.uZ)()}}),R=(0,l.GW)((A=(0,e.f3M)(l.eX))=>{const w=(0,e.f3M)(o.z);return A.pipe((0,l.l4)(i.fetchAllResults),(0,F.w)(X=>w.getFissionResults(X.payload).pipe((0,h.U)(S=>w.parseFissionResults(S)),(0,h.U)(S=>i.loadAllResultsSuccess({results:S})),(0,m.K)(S=>(0,y.of)(i.loadAllResultsFailure({error:S}))))))},{functional:!0}),c=(0,l.GW)(()=>{const A=(0,e.f3M)(r.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(i.loadAllResultsFailure),(0,f.b)(()=>A.showClientError("No results found.")))},{functional:!0,dispatch:!1}),E={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Q=(0,n.Lq)(E,(0,n.on)(i.reset,()=>({...E})),(0,n.on)(i.fetchAllResults,(A,w)=>({...A,formData:w.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,n.on)(i.loadAllResultsFailure,(A,w)=>({...A,loading:!1,error:w.error,ready:!1})),(0,n.on)(i.loadAllResultsSuccess,(A,w)=>({...A,elementResults:w.results.elementResults,reactionResults:w.results.reactionResults,nuclideResults:w.results.nuclideResults,reactionRows:w.results.reactionResults.length-1,nuclideRows:w.results.nuclideResults.length-1,elementRows:w.results.elementResults.length-1,loading:!1,ready:!0}))),J=(0,n.Tz)({name:"fission",reducer:Q})},5498:(j,I,s)=>{s.d(I,{Nw:()=>i,Sz:()=>t,zL:()=>J});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>R,loadAllResultsErrorAlert:()=>c});var e=s(5879),l=s(7483),F=s(4664),h=s(7398),m=s(6306),y=s(2096),f=s(9397),r=s(2744),o=s(9783),n=s(4221);const i=(0,n.R7)({source:"Fusion API",events:{Reset:(0,n.uZ)(),"Fetch All Results":(0,n.Ky)(),"Load All Results Success":(0,n.Ky)(),"Load All Results Failure":A=>({error:A}),"Load ElementResults":(0,n.uZ)(),"Load FusionResults":(0,n.uZ)(),"Load NuclideResults":(0,n.uZ)()}}),R=(0,l.GW)((A=(0,e.f3M)(l.eX))=>{const w=(0,e.f3M)(o.I);return A.pipe((0,l.l4)(i.fetchAllResults),(0,F.w)(X=>w.getFusionResults(X.payload).pipe((0,h.U)(S=>w.parseFusionResults(S)),(0,h.U)(S=>i.loadAllResultsSuccess({results:S})),(0,m.K)(S=>(0,y.of)(i.loadAllResultsFailure({error:S}))))))},{functional:!0}),c=(0,l.GW)(()=>{const A=(0,e.f3M)(r.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(i.loadAllResultsFailure),(0,f.b)(()=>A.showClientError("No results found.")))},{functional:!0,dispatch:!1}),E={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Q=(0,n.Lq)(E,(0,n.on)(i.reset,()=>({...E})),(0,n.on)(i.fetchAllResults,(A,w)=>({...A,formData:w.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0})),(0,n.on)(i.loadAllResultsFailure,(A,w)=>({...A,loading:!1,error:w.error,ready:!1})),(0,n.on)(i.loadAllResultsSuccess,(A,w)=>({...A,elementResults:w.results.elementResults,reactionResults:w.results.reactionResults,nuclideResults:w.results.nuclideResults,reactionRows:w.results.reactionResults.length-1,nuclideRows:w.results.nuclideResults.length-1,elementRows:w.results.elementResults.length-1,loading:!1,ready:!0}))),J=(0,n.Tz)({name:"fusion",reducer:Q})},8472:(j,I,s)=>{s.d(I,{Nw:()=>i,Sz:()=>t,zL:()=>J});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>R,loadAllResultsErrorAlert:()=>c});var e=s(5879),l=s(7483),F=s(4664),h=s(7398),m=s(6306),y=s(2096),f=s(9397),r=s(2744),o=s(3142),n=s(4221);const i=(0,n.R7)({source:"TwoUp API",events:{Reset:(0,n.uZ)(),"Fetch All Results":(0,n.Ky)(),"Load All Results Success":(0,n.Ky)(),"Load All Results Failure":A=>({error:A}),"Load ElementResults":(0,n.uZ)(),"Load FusionResults":(0,n.uZ)(),"Load NuclideResults":(0,n.uZ)()}}),R=(0,l.GW)((A=(0,e.f3M)(l.eX))=>{const w=(0,e.f3M)(o.F);return A.pipe((0,l.l4)(i.fetchAllResults),(0,F.w)(X=>w.getTwoUpResults(X.payload).pipe((0,h.U)(S=>w.parseTwoUpResults(S)),(0,h.U)(S=>i.loadAllResultsSuccess({results:S})),(0,m.K)(S=>(0,y.of)(i.loadAllResultsFailure({error:S}))))))},{functional:!0}),c=(0,l.GW)(()=>{const A=(0,e.f3M)(r.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(i.loadAllResultsFailure),(0,f.b)(()=>A.showClientError("No results found.")))},{functional:!0,dispatch:!1}),E={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Q=(0,n.Lq)(E,(0,n.on)(i.reset,()=>({...E})),(0,n.on)(i.fetchAllResults,(A,w)=>({...A,formData:w.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,n.on)(i.loadAllResultsFailure,(A,w)=>({...A,loading:!1,error:w.error,ready:!1})),(0,n.on)(i.loadAllResultsSuccess,(A,w)=>({...A,elementResults:w.results.elementResults,reactionResults:w.results.reactionResults,nuclideResults:w.results.nuclideResults,reactionRows:w.results.reactionResults.length-1,nuclideRows:w.results.nuclideResults.length-1,elementRows:w.results.elementResults.length-1,loading:!1,ready:!0}))),J=(0,n.Tz)({name:"twoup",reducer:Q})},3142:(j,I,s)=>{s.d(I,{F:()=>m});var t=s(5879),e=s(6414),l=s(9862),F=s(8045),h=s(5158);let m=(()=>{var y;class f{constructor(){this.crud=(0,t.f3M)(e.I),this.page="TwoToTwo.php",this.getTwoUpResults=o=>((new l.WM).set("Accept","text/html").set("Content-Type","application/x-www-form-urlencoded"),this.crud.postPage(this.page,F.iD(o))),this.parseTwoUpResults=o=>{let n={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const i=(0,h.s)(o);for(let R=0;R<3;R++){const c=i[R];n=this.parseTwoUpTable(c[0],c,n)}return n.ok=n.reactionResults.length>0&&n.nuclideResults.length>0&&n.elementResults.length>0,n},this.parseTwoUpTable=(o,n,i)=>(F.VZ(o,["id","neutrino"])?i.reactionResults=n:F.VZ(o,["id","A","Z"])?i.nuclideResults=n:F.VZ(o,["Z","E","EName"])&&(i.elementResults=n),i)}}return(y=f).\u0275fac=function(o){return new(o||y)},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac}),f})()}}]);