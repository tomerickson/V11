"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[678],{7294:(j,I,s)=>{s.d(I,{M:()=>f});var t=s(5879),e=s(2401);class r extends e.C{constructor(i,a){super(i,a,1)}}var F=s(5281),h=s(6414),o=s(8045);let f=(()=>{var v;class i{constructor(){this.config=(0,t.f3M)(F._),this.crud=(0,t.f3M)(h.I),this.page="AllTables.php",this.getAllTablesPage=()=>this.crud.getPage(this.page),this.extractAllTablesQuery=l=>(new DOMParser).parseFromString(l,"text/html").body.querySelector("textarea").innerText,this.getAllTablesResults=l=>{const d=new FormData;d.append("doit","execute_query"),d.append("sql_start",l);const R=(0,o.Fj)(d);return this.crud.postPage(this.page,R)},this.extractAllTablesResults=l=>{const E=(new DOMParser).parseFromString(l,"text/html").body.querySelector("table.results").rows[0].cells[0].innerText;return new r(l,[E])}}}return(v=i).\u0275fac=function(l){return new(l||v)},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac}),i})()},7331:(j,I,s)=>{s.d(I,{o:()=>i});var t=s(5879),e=s(2096),r=s(9397),F=s(6414),h=s(8045),o=s(5281),f=s(2401);class v extends f.C{constructor(l,d){super(l,d)}}let i=(()=>{var a;class l{constructor(){this.config=(0,t.f3M)(o._),this.crud=(0,t.f3M)(F.I),this.page="CascadesAll.php",this.equalScan="=\\s*(.+)",this.colonScan=":\\s*(.+)",this.quoteScan='"(.+)"\\.\\s+?(.+)\\.',this.loadCascadesAllResponse=R=>{if(this.config.production)return this.crud.getPage(R);{const c=localStorage.getItem(R);return c?(0,e.of)(c):this.crud.getPage(R).pipe((0,r.b)(E=>localStorage.setItem(R,E)))}},this.parseCascadesAllTables=R=>new v(R,["id","Type","Tid"]),this.getCascadesAllResponse=R=>{const c=this.asCascadesAllFormData(R),E=(0,h.Fj)(c);if(this.config.production)return this.crud.postPage(this.page,E);{const Q=localStorage.getItem(this.page);return Q?(0,e.of)(Q):this.crud.postPage(this.page,E).pipe((0,r.b)(J=>localStorage.setItem(this.page,J)))}},this.parseCascadesAllResponse=R=>{const c={},Q=(new DOMParser).parseFromString(R,"text/html"),J=Q.body.querySelector("form#f");J&&Q.body.removeChild(J);const N=Array.from(Q.body.getElementsByTagName("p"));let D=Q.body.querySelector('a[href*="/results"]').href.split("/");D=D.splice(D.length-2,2);const M=D.join("/");c.resultsLink=M;const w=[];for(let p of N)p.textContent&&w.push(p.textContent);let n=w.find(p=>p.startsWith("Full Starting Query on the Fusion"));if(n){const p=(0,h.Ol)(n,this.quoteScan);c.fusionQuery=p[0],c.fusionResults=p[1]}if(n=w.find(p=>p.startsWith("Full Starting Query on the TwoToTwo")),n){const p=(0,h.Ol)(n,this.quoteScan);c.twoUpQuery=p[0],c.twoUpResults=p[1]}return n=w.find(p=>p.startsWith("Core Fuel List")),n&&(c.startingFuel=(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Fusion Table used")),n&&(c.fusionTable=(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("2-2 Table used")),n&&(c.twoUpTable=(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Maximmum number of nuclei allowed")),n&&(c.maxNuclei=+(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Maximum number of loops")),n&&(c.maxLoops=+(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Maximum Reactor Temperature")),n&&(c.maxReactorTemp=+(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Elements that will NOT have MELTED")),n&&(c.meltingSwitch=(0,h.pw)(n,this.colonScan)),n=w.find(p=>p.startsWith("Elements that WILL have BOILED")),n&&(c.boilingSwitch=(0,h.pw)(n,this.colonScan)),n=w.find(p=>p.startsWith("Minimum energy (MeV) for any Fusion reaction")),n&&(c.fusionMinEnergy=+(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Minimum energy (MeV) for any 2-2 reaction")),n&&(c.twoUpMinEnergy=+(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Radioactive Isotopes")),n&&(c.isotopeSwitch=(0,h.pw)(n,this.colonScan)),n=w.find(p=>p.startsWith("LHL threshold")),n&&(c.halfLifeThreshold=+(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("Nuclear Fermions")),n&&(c.nuclearFermionSwitch=(0,h.pw)(n,this.colonScan)),n=w.find(p=>p.startsWith("Atomic Fermions")),n&&(c.atomicFermionSwitch=(0,h.pw)(n,this.colonScan)),n=w.find(p=>p.includes("Dimers")),n&&(c.dimersSwitch=(0,h.pw)(n,this.colonScan)),n=w.find(p=>p.includes("order by which the Nuclei Table")),n&&(c.nuclidesSort=(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.includes("order by which the Reactions Table")),n&&(c.reactionSort=(0,h.pw)(n,this.equalScan)),n=w.find(p=>p.startsWith("The program looked for")),n&&(c.progressMessageOne=n),n=w.find(p=>p.startsWith("Thus the program looked for")),n&&(c.progressMessageTwo=n),n=w.find(p=>p.startsWith("Duration")),n&&(c.duration=(0,h.pw)(n,this.equalScan)),console.log("result",c),c},this.asCascadesAllFormData=R=>{const c=new FormData;c.append("doit","execute_query"),c.append("table_set",R.tableSet),c.append("max_nuclei",String(R.maxNuclei)),c.append("max_loops",String(R.maxLoops)),c.append("max_reactor_temp",String(R.maxReactorTemp)),c.append("Melting_switch",R.meltingSwitch),c.append("Boiling_switch",R.boilingSwitch),c.append("min_MeV_F",String(R.fusionMinEnergy)),c.append("min_MeV_T",String(R.twoUpMinEnergy)),c.append("Isotope_switch",R.isotopeSwitch),c.append("LHL_threshold",String(R.halfLifeThreshold)),c.append("NF_switch",R.nuclearFermionSwitch),c.append("AF_switch",R.atomicFermionSwitch),c.append("Dimer_switch",R.dimersSwitch),c.append("order_by_N",R.nuclidesSort),c.append("order_by_R",R.reactionSort),c.append("query",R.coreQuery);let E=0;return R.leftElements&&c.append(`sql_tables[${E++}]`,"left"),R.originalElements&&c.append(`sql_tables[${E++}]`,"none"),R.rightElements&&c.append(`sql_tables[${E++}]`,"right"),c}}}return(a=l).\u0275fac=function(R){return new(R||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),l})()},2401:(j,I,s)=>{s.d(I,{C:()=>t});class t{get reactionRows(){return this.reactionResults.length-1}get nuclideRows(){return this.nuclideResults.length-1}get elementRows(){return this.elementResults.length-1}get radioNuclideRows(){return this.radioNuclideResults.length-1}constructor(r,F,h=3){this.html=r,this.reactionTemplate=F,this.numberOfTablesExpected=h,this.reactionResults=[],this.nuclideResults=[],this.elementResults=[],this.radioNuclideResults=[],this.errors=[],this.elementsTemplate=["Z","E","EName"],this.nuclidesTemplate=["id","A","Z"],this.radioNuclidesTemplate=["id","A","E","Z"],this.modelMatches=(o,f)=>{let v=0;for(let i=0;i<f.length;i++)f[i]===o[i]&&v++;return v===f.length},this.parseTableContent=(o,f)=>{if(this.modelMatches(o,this.reactionTemplate))this.reactionResults=f;else if(this.modelMatches(o,this.nuclidesTemplate))this.nuclideResults=f;else if(this.modelMatches(o,this.elementsTemplate))this.elementResults=f;else if(this.modelMatches(o,this.radioNuclidesTemplate))this.radioNuclideResults=f;else{const v=`table with this thead: "${o.join(",")}" couldn't be matched to any template.`;this.errors.push(v)}},this.parseReactionResults=()=>{const o=this.extractTablesFromPage();console.log("reactionTemplate",this.reactionTemplate),console.log("nuclidesTemplate",this.nuclidesTemplate),console.log("elementsTemplate",this.elementsTemplate),console.log("radioNuclidesTemplate",this.radioNuclidesTemplate);for(let v=0;v<o.length;v++)if(o.length>0){const i=o[v];this.parseTableContent(i[0],i)}let f=0;f+=this.reactionResults.length>0?1:0,f+=this.nuclideResults.length>0?1:0,f+=this.elementResults.length>0?1:0,f+=this.radioNuclideResults.length>0?1:0,this.ok=f>=this.numberOfTablesExpected,this.ok||(0==this.reactionResults.length&&this.errors.push("Reaction table is missing"),0==this.nuclideResults.length&&this.errors.push("Nuclides table is missing"),0==this.elementResults.length&&this.errors.push("Elements table is missing"))},this.convertTablesToResultSet=o=>{let f=[];return o.forEach(v=>{let i=Array.prototype.map.call(v.querySelectorAll("tr"),a=>Array.prototype.map.call(a.querySelectorAll("td"),l=>l.innerHTML));f.push(i)}),f},this.extractTablesFromPage=()=>{let o=[];const i=(new DOMParser).parseFromString(this.html,"text/html").querySelectorAll("table.results");return this.validateTables(i)&&(o=this.convertTablesToResultSet(i)),o},this.validateTables=o=>{let f=o.length>=this.numberOfTablesExpected;return f&&o.forEach(v=>{f=f&&v.childElementCount>0&&v.childElementCount<3,f=f&&"TBODY"==v.lastElementChild?.tagName}),f},this.parseReactionResults()}}},5177:(j,I,s)=>{s.d(I,{k:()=>t});var t=function(e){return e.AllTables="all-tables",e.CascadesAll="cascades-all",e.Fission="fission",e.Fusion="fusion",e.TwoUp="two-up",e.TBD="undefined",e}(t||{})},5158:(j,I,s)=>{s.d(I,{s:()=>t});const t=F=>{let h=[];const v=(new DOMParser).parseFromString(F,"text/html").querySelectorAll("table.results");return e(3,v)&&(h=r(v)),h},e=(F,h)=>{let o=h.length===F;return o&&h.forEach(f=>{o=o&&f.childElementCount>0&&f.childElementCount<3,o=o&&"TBODY"==f.lastElementChild?.tagName}),o},r=F=>{let h=[];return F.forEach(o=>{let f=Array.prototype.map.call(o.querySelectorAll("tr"),v=>Array.prototype.map.call(v.querySelectorAll("td"),i=>i.innerHTML));h.push(f)}),h}},2200:(j,I,s)=>{s.d(I,{z:()=>h});var t=s(5879),e=s(5158),r=s(6414),F=s(8045);let h=(()=>{var o;class f{constructor(){this.crud=(0,t.f3M)(r.I),this.page="Fission.php",this.getFissionResults=i=>this.crud.postPage(this.page,F.iD(i)),this.parseFissionTable=(i,a,l)=>(F.VZ(i,["id","neutrino"])?l.reactionResults=a:F.VZ(i,["id","A","Z"])?l.nuclideResults=a:F.VZ(i,["Z","E","EName"])&&(l.elementResults=a),l),this.parseFissionResults=i=>{let a={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const l=(0,e.s)(i);for(let d=0;d<3;d++){const R=l[d];a=this.parseFissionTable(R[0],R,a)}for(let d=0;d<3;d++)a.ok=a.reactionResults.length>0&&a.nuclideResults.length>0&&a.elementResults.length>0;return a}}}return(o=f).\u0275fac=function(i){return new(i||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),f})()},9783:(j,I,s)=>{s.d(I,{I:()=>h});var t=s(5879),e=s(6414),r=s(5158),F=s(8045);let h=(()=>{var o;class f{constructor(){this.crud=(0,t.f3M)(e.I),this.page="Fusion.php",this.parseFusionResults=i=>{let a={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const l=(0,r.s)(i);for(let d=0;d<3;d++){const R=l[d];a=this.parseFusionTable(R[0],R,a)}return a.ok=a.reactionResults.length>0&&a.nuclideResults.length>0&&a.elementResults.length>0,a},this.parseFusionTable=(i,a,l)=>(F.VZ(i,["id","neutrino"])?l.reactionResults=a:F.VZ(i,["id","A","Z"])?l.nuclideResults=a:F.VZ(i,["Z","E","EName"])&&(l.elementResults=a),l)}getFusionResults(i){const a=F.iD(i);return this.crud.postPage(this.page,a)}}return(o=f).\u0275fac=function(i){return new(i||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),f})()},4364:(j,I,s)=>{s.d(I,{L:()=>Q});var t=s(6814),e=s(5879),r=s(6223),F=s(2296),h=s(5683),o=s(617),f=s(2032),v=s(8525),i=s(7394);const a=[{id:0,key:"csv",name:"Comma-delimited",extension:".csv",type:"text/csv"},{id:1,key:"tab",name:"Tab-delimited",extension:".tsv",type:"text/tab-separated-values"},{id:2,key:"txt",name:"Text",extension:".txt",type:"text/html"},{id:3,key:"prettyjson",name:"Pretty JSON",extension:".json",type:"application/json"},{id:4,key:"json",name:"Compressed JSON",extension:".json",type:"application/json"}],l=N=>{const L=N.get("fileType")?.value||null,D=N.get("fileName")?.value;return null!==L&&null!==D&&D.length>0?null:{missingElements:!0}};var d=s(2600),R=s(3680);function c(N,L){if(1&N&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&N){const D=L.$implicit;e.Q6J("value",D),e.xp6(1),e.hij(" ",D.name," ")}}function E(N,L){if(1&N){const D=e.EpF();e.TgZ(0,"form",3)(1,"div",0)(2,"mat-form-field")(3,"label"),e._uU(4,"File type"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,c,2,2,"mat-option",5),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"mat-form-field")(9,"label"),e._uU(10,"File Name"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"mat-form-field")(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){e.CHM(D);const w=e.oxw();return e.KtG(w.downloadBlob())}),e._uU(16," Download "),e.qZA(),e._UZ(17,"input",6),e.qZA(),e.TgZ(18,"a",9,10),e.NdJ("change",function(w){e.CHM(D);const n=e.oxw();return e.KtG(n.onFileInput(w))}),e.qZA(),e._UZ(20,"input",11,12),e.qZA()()}if(2&N){const D=e.oxw();e.Q6J("formGroup",D.downloadForm),e.xp6(6),e.Q6J("ngForOf",D.downloadOptions),e.xp6(8),e.hij("",D.fullNameSignal(),"\xa0"),e.xp6(1),e.Q6J("disabled",!D.goodForm())}}let Q=(()=>{var N;class L{constructor(){this.title="",this.url="",this.format="",this.showForm=(0,e.tdS)(!1),this.goodForm=(0,e.tdS)(!1),this.fileNameSignal=(0,e.tdS)(""),this.fileExtSignal=(0,e.tdS)(null),this.fullNameSignal=(0,e.Flj)(()=>{const M=this.fileNameSignal(),w=this.fileExtSignal()?.extension||"";let n;return n=M.length>0&&w.length>0?M+w:0==w.length?M:"",n}),this.downloadOptions=a,this.floatLabelControl=new r.NI("auto"),this.fb=(0,e.f3M)(r.qu),this.downloadService=(0,e.f3M)(d.K),this.setfileExtension=M=>{const w=M.extension;let n=this.downloadForm.get("fileName")?.value;if(n){const p=n.indexOf(".",-1);if(p>=0){const K=n.substring(p);n.replace(K,w)}else n+=w;this.downloadForm.get("fileName")?.patchValue(n,{emitEvent:!1})}},this.setFileName=M=>{const w=this.downloadForm.get("fileType")?.value,n=this.downloadOptions[w].extension;let p;if(""!==n){const K=M.indexOf(".",-1);p=K>0?M.substring(0,K-1):M,p+=n,this.downloadForm.get("fileName")?.patchValue(p,{emitEvent:!1})}},this.onFileInput=M=>{console.log(M),M.stopPropagation()},this.toggleDownload=()=>{this.showForm.set(!this.showForm())},this.downloadBlob=()=>{const M=this.downloadForm.get("fileType")?.value;this.downloadService.downloadBlob(M,this.data,this.fullNameSignal())},this.subscriptions=new i.w0}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.downloadForm=this.fb.group({fileName:["",r.kI.required],fileType:[null,r.kI.required],dummy:[""]},{validators:l}),this.subscriptions.add(this.downloadForm.get("fileType")?.valueChanges.subscribe(M=>this.fileExtSignal.set(M))),this.subscriptions.add(this.downloadForm.get("fileName")?.valueChanges.subscribe(M=>this.fileNameSignal.set(M))),this.subscriptions.add(this.downloadForm.statusChanges.subscribe(M=>this.goodForm.set("VALID"===M)))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}}return(N=L).\u0275fac=function(M){return new(M||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["mfmp-download"]],inputs:{data:"data",resultType:"resultType",ready:"ready"},standalone:!0,features:[e._Bn([d.K]),e.jDz],decls:5,vars:2,consts:[[1,"flexrow"],["type","button","mat-icon-button","",3,"title","click"],["id","download",3,"formGroup",4,"ngIf"],["id","download",3,"formGroup"],["formControlName","fileType","placeholder","Select a file type."],[3,"value",4,"ngFor","ngForOf"],["matInput","","title","hidden","formControlName","dummy",1,"hidden"],["matInput","","formControlName","fileName","placeholder","Enter a file name."],["mat-raised-button","","type","button",3,"disabled","click"],["href","x","type","file","title","hidden","download","",1,"hidden",3,"change"],["fileInput",""],["type","file","title","picker","value","",1,"hidden"],["filePicker",""],[3,"value"]],template:function(M,w){1&M&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return w.toggleDownload()}),e.TgZ(2,"mat-icon"),e._uU(3,"download"),e.qZA()(),e.YNc(4,E,22,4,"form",2),e.qZA()),2&M&&(e.xp6(1),e.MGl("title","Download ",w.resultType,""),e.xp6(3),e.Q6J("ngIf",w.showForm()))},dependencies:[t.sg,t.ez,t.O5,F.ot,F.lW,F.RK,h.lN,h.KE,o.Ps,o.Hw,f.c,f.Nt,v.LD,v.gD,R.ey,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".hidden[_ngcontent-%COMP%]{display:none!important}.flexrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}.disabled[_ngcontent-%COMP%]{visibility:hidden}label.block[_ngcontent-%COMP%]{display:block;margin:auto}"]}),L})()},2603:(j,I,s)=>{s.d(I,{O:()=>se});var t=s(6814),e=s(5879),r=s(5195),F=s(1476),h=s(3566),o=s(5313),f=s(4221),v=s(2096),i=s(7394),a=s(8645),l=s(4364),d=s(1303),R=s(2296),c=s(902);let E=(()=>{var C;class _{constructor(){this.router=(0,e.f3M)(d.F0),this.store=(0,e.f3M)(f.yh),this.subscriptions=new i.w0,this.reset=()=>{this.router.navigate([this.returnUrl],{queryParams:{reset:!0}}).catch(m=>console.error(m))}}ngOnInit(){this.subscriptions.add(this.store.select(c.z.selectReportParameters).subscribe(m=>{this.parameters=m,this.returnUrl=m.url}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(C=_).\u0275fac=function(m){return new(m||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["mfmp-restart-feature"]],standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(m,g){1&m&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return g.reset()}),e._uU(1," Again?\n"),e.qZA())},dependencies:[t.ez,R.ot,R.lW]}),_})();const Q=["paginator"];function J(C,_){if(1&C&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&C){const Z=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",Z," ")}}function N(C,_){1&C&&(e.ynx(0),e.YNc(1,J,2,1,"th",14),e.BQk())}function L(C,_){if(1&C&&(e.TgZ(0,"th",17),e._uU(1),e.qZA()),2&C){const Z=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",Z," ")}}function D(C,_){1&C&&(e.ynx(0),e.YNc(1,L,2,1,"th",16),e.BQk())}function M(C,_){if(1&C&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&C){const Z=_.$implicit,m=e.oxw().index,g=e.oxw();e.Q6J("ngClass",g.columnStyles[m]),e.xp6(1),e.hij(" ",Z[m]," ")}}function w(C,_){if(1&C&&(e.ynx(0,11),e.YNc(1,N,2,0,"ng-container",12),e.YNc(2,D,2,0,"ng-container",12),e.YNc(3,M,2,2,"td",13),e.BQk()),2&C){const Z=_.$implicit,m=_.index,g=e.oxw();e.Q6J("matColumnDef",Z),e.xp6(1),e.Q6J("ngIf",1==g.sortableColumns[m]),e.xp6(1),e.Q6J("ngIf",0==g.sortableColumns[m])}}function n(C,_){1&C&&e.GkF(0)}function p(C,_){if(1&C&&(e.TgZ(0,"td",19),e.YNc(1,n,1,0,"ng-container",20),e.qZA()),2&C){e.oxw();const Z=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",Z)}}function K(C,_){1&C&&(e.TgZ(0,"td",19),e._uU(1,"\xa0"),e.qZA())}function O(C,_){1&C&&e._UZ(0,"tr",21)}function W(C,_){1&C&&e._UZ(0,"tr",22)}function A(C,_){1&C&&e._UZ(0,"tr",23)}function T(C,_){if(1&C&&(e.TgZ(0,"mat-card-actions",24)(1,"div",25),e.ynx(2),e._UZ(3,"mfmp-download",26),e.BQk(),e.ynx(4),e._UZ(5,"mfmp-restart-feature"),e.BQk(),e.qZA()()),2&C){const Z=e.oxw();e.xp6(3),e.Q6J("data",Z.downloadable(Z.dataSource.data))("resultType",Z.resultType)("ready",Z.ready)}}const X=function(){return[10,25,50,100]};function S(C,_){if(1&C){const Z=e.EpF();e.TgZ(0,"mat-paginator",28,29),e.NdJ("page",function(g){e.CHM(Z);const z=e.oxw(2);return e.KtG(z.handlePageEvent(g))}),e.qZA()}if(2&C){const Z=e.oxw(2);e.Q6J("pageSize",25)("pageSizeOptions",e.DdM(4,X))("length",Z.length)("pageIndex",0)}}function U(C,_){if(1&C&&e.YNc(0,S,2,5,"mat-paginator",27),2&C){const Z=e.oxw();e.Q6J("ngIf",Z.paginate)}}const q=function(){return["paginatorColumn"]},B=function(){return["nullPaginator"]};let te=(()=>{var C;class _{constructor(){this.subscriptions=new i.w0,this.changeDetector=(0,e.f3M)(e.sBO),this.dataSource=new o.by,this.values=[],this.sortedData=[],this.ready=(0,e.tdS)(!1),this.pageSize=20,this.pageIndex=0,this.pageSizeOptions=[10,20,25,50,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.buildDataSource=m=>{this.values=[...m],this.values.shift();const g=new o.by(this.values);g.sort=this.sort,this.dataSource=g,this.ready.set(!0),this.changeDetector.detectChanges()},this.setupPaginator=()=>{this.paginator.pageSize=this.pageSize,this.paginator.pageSizeOptions=this.pageSizeOptions,this.paginator.hidePageSize=!1,this.paginator.showFirstLastButtons=!0,this.paginator.pageIndex=0},this.sortData=m=>{const g=this.dataSource.data;let z=g;if(g){if(!m.active||""===m.direction)return z;const G="asc"===m.direction,H=this.displayColumns?.findIndex($=>$==m.active);let V=this.columnTypes[H];return this.dataSource.data=g.sort(($,k)=>this.compare($[H],k[H],G,V)),this.sortedData}return z},this.compare=(m,g,z,G)=>"string"===G?this.compareStrings(m,g,z):this.compareNumbers(+m,+g,z),this.compareStrings=(m,g,z)=>(m<g?-1:1)*(z?1:-1),this.compareNumbers=(m,g,z)=>(m<g?-1:1)*(z?1:-1),this.downloadable=m=>{const g=[...m];return g.unshift(this.displayColumns),g}}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(m=>{this.buildDataSource(m)}))}ngAfterViewInit(){this.paginate&&(this.setupPaginator(),this.dataSource.paginator=this.paginator,this.dataSource.paginator?.firstPage())}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(m){this.pageEvent=m,this.pageSize=m.pageSize,this.pageIndex=m.pageIndex}setPageSizeOptions(m){m&&(this.pageSizeOptions=m.split(",").map(g=>+g))}}return(C=_).\u0275fac=function(m){return new(m||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["mfmp-query-face"]],viewQuery:function(m,g){if(1&m&&(e.Gf(Q,5),e.Gf(h.YE,5)),2&m){let z;e.iGM(z=e.CRH())&&(g.paginator=z.first),e.iGM(z=e.CRH())&&(g.sort=z.first)}},inputs:{resultType:"resultType",download:"download",displayColumns:"displayColumns",columnTypes:"columnTypes",columnStyles:"columnStyles",sortableColumns:"sortableColumns",inputResults:"inputResults",length:"length",paginate:"paginate"},standalone:!0,features:[e.jDz],decls:15,vars:8,consts:[[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z2",3,"dataSource","matSortChange"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","paginatorColumn"],["mat-footer-cell","","colspan","99",4,"matFooterCellDef"],["matColumnDef","nullPaginator"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["align","end",4,"ngIf"],["footerCell",""],[3,"matColumnDef"],[4,"ngIf"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-footer-cell","","colspan","99"],[4,"ngTemplateOutlet"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["align","end"],[1,"action"],[3,"data","resultType","ready"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page",4,"ngIf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page"],["paginator",""]],template:function(m,g){1&m&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"table",1),e.NdJ("matSortChange",function(G){return g.sortData(G)}),e.YNc(4,w,4,3,"ng-container",2),e.ynx(5,3),e.YNc(6,p,2,1,"td",4),e.BQk(),e.ynx(7,5),e.YNc(8,K,2,0,"td",4),e.BQk(),e.YNc(9,O,1,0,"tr",6),e.YNc(10,W,1,0,"tr",7),e.YNc(11,A,1,0,"tr",8),e.qZA()()(),e.YNc(12,T,6,3,"mat-card-actions",9),e.qZA(),e.YNc(13,U,1,1,"ng-template",null,10,e.W1O)),2&m&&(e.xp6(3),e.Q6J("dataSource",g.dataSource),e.xp6(1),e.Q6J("ngForOf",g.displayColumns),e.xp6(5),e.Q6J("matHeaderRowDef",g.displayColumns),e.xp6(1),e.Q6J("matRowDefColumns",g.displayColumns),e.xp6(1),e.Q6J("matFooterRowDef",!0===g.paginate?e.DdM(6,q):e.DdM(7,B)),e.xp6(1),e.Q6J("ngIf",g.paginate&&g.length>0))},dependencies:[t.O5,t.tP,t.ez,t.mk,t.sg,r.QW,r.a8,r.hq,r.dn,h.JX,h.YE,h.nU,o.p0,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.mD,o.Ke,o.ge,o.ev,o.yh,o.XQ,o.Gk,o.Q2,F.TU,F.NW,l.L,E],styles:[".mat-column-number[_ngcontent-%COMP%]{text-align:right!important}.mat-column-null[_ngcontent-%COMP%]{text-align:center!important}table.mat-mdc-table[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid lightgray}.mdc-data-table__header-row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__header-cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}.mdc-data-table__row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}div.block[_ngcontent-%COMP%]{vertical-align:middle}div.action[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}div.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}"]}),_})(),se=(()=>{var C;class _{constructor(){this.paginate=!0,this.obj=new o.by,this.dataSource=(0,v.of)(this.obj),this.store=(0,e.f3M)(f.yh),this.changeDetector=(0,e.f3M)(e.sBO),this.sortedData=[],this.columnTypes=[],this.columnStyles=[],this.sortableColumns=[],this.subscriptions=new i.w0,this.ready=(0,e.tdS)(!1),this.pageSize=25,this.pageIndex=0,this.length=(0,e.tdS)(0),this.pageSizeOptions=[5,10,25,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.setSortableColumns=()=>{const m=new Array(this.columnTypes.length);for(let g=0;g<this.columnTypes.length;g++)m[g]="null"!=this.columnTypes[g];this.sortableColumns=m},this.setColumnStyles=()=>{const m=new Array(this.columnTypes.length);for(let H=0;H<this.columnTypes.length;H++){const V=this.columnTypes[H];m[H]="null"===V?"mat-column-null":"number"===V?"mat-column-number":""}this.columnStyles=m},this.setColumnTypes=(m,g)=>{const z=new Array(g.length);for(let G=0;G<g.length;G++){let H=0,V=0,$=0;for(let u=0;u<m.length;u++){let x=m[u][G];$+="null"===x?1:0,H+=null!==x&&isNaN(x)?1:0,V+=null===x||isNaN(x)?0:1}z[G]=$>0?"null":V>0?"number":"string"}this.columnTypes=z},this.download=new a.x}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(m=>{if(m.length>0){const g=[...m[0]];let z=[...m];z.shift(),this.headers=g;const G=new o.by(z);this.download.next(m),this.headers=g,this.setColumnTypes(z,g),this.setColumnStyles(),this.setSortableColumns(),this.dataSource=(0,v.of)(G),this.ready.set(!0),this.length.set(z.length)}}))}ngAfterContentInit(){this.changeDetector.detectChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(m){this.pageEvent=m,this.pageSize=m.pageSize,this.pageIndex=m.pageIndex}}return(C=_).\u0275fac=function(m){return new(m||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["mfmp-query-head"]],inputs:{resultType:"resultType",inputResults:"inputResults",paginate:"paginate"},standalone:!0,features:[e.jDz],decls:2,vars:11,consts:[[3,"resultType","download","sortableColumns","displayColumns","columnTypes","columnStyles","inputResults","length","paginate"]],template:function(m,g){1&m&&(e._UZ(0,"mfmp-query-face",0),e.ALo(1,"async")),2&m&&e.Q6J("resultType",g.resultType)("download",e.lcZ(1,9,g.download))("sortableColumns",g.sortableColumns)("displayColumns",g.headers)("columnTypes",g.columnTypes)("columnStyles",g.columnStyles)("inputResults",g.inputResults)("length",g.length())("paginate",g.paginate)},dependencies:[te,t.Ov,t.ez,r.QW,h.JX,o.p0,F.TU],encapsulation:2}),_})()},2678:(j,I,s)=>{s.d(I,{a:()=>k});var t=s(5879),e=s(1303),r=s(4221),F=s(7394),h=s(2096),o=s(5177),f=s(902),v=s(9001),i=s(5010),a=s(9306),l=s(5498),d=s(8472),R=s(6814),c=s(2296),E=s(5195),Q=s(5940),J=s(4104),N=s(2603);class L{constructor(x,P){this._document=P;const y=this._textarea=this._document.createElement("textarea"),b=y.style;b.position="fixed",b.top=b.opacity="0",b.left="-999em",y.setAttribute("aria-hidden","true"),y.value=x,y.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(y)}copy(){const x=this._textarea;let P=!1;try{if(x){const y=this._document.activeElement;x.select(),x.setSelectionRange(0,x.value.length),P=this._document.execCommand("copy"),y&&y.focus()}}catch{}return P}destroy(){const x=this._textarea;x&&(x.remove(),this._textarea=void 0)}}let D=(()=>{var u;class x{constructor(y){this._document=y}copy(y){const b=this.beginCopy(y),Y=b.copy();return b.destroy(),Y}beginCopy(y){return new L(y,this._document)}}return(u=x).\u0275fac=function(y){return new(y||u)(t.LFG(R.K0))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),x})();const M=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let w=(()=>{var u;class x{constructor(y,b,Y){this._clipboard=y,this._ngZone=b,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,Y&&null!=Y.attempts&&(this.attempts=Y.attempts)}copy(y=this.attempts){if(y>1){let b=y;const Y=this._clipboard.beginCopy(this.text);this._pending.add(Y);const ee=()=>{const le=Y.copy();le||! --b||this._destroyed?(this._currentTimeout=null,this._pending.delete(Y),Y.destroy(),this.copied.emit(le)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(ee,1))};ee()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(y=>y.destroy()),this._pending.clear(),this._destroyed=!0}}return(u=x).\u0275fac=function(y){return new(y||u)(t.Y36(D),t.Y36(t.R0b),t.Y36(M,8))},u.\u0275dir=t.lG2({type:u,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(y,b){1&y&&t.NdJ("click",function(){return b.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),x})(),n=(()=>{var u;class x{}return(u=x).\u0275fac=function(y){return new(y||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({}),x})();var p=s(6223),K=s(617);const O=["button"],W=["icon"],A=["code"],T=function(){return["visibility:hidden"]},X=function(){return["icon-display"]};let S=(()=>{var u;class x{constructor(){this.toolTip="copied",this.getChildren=()=>{this.code=this.codeRef.nativeElement,this.icon=this.iconRef._elementRef.nativeElement},this.mouseEnter=()=>{this.icon&&(this.icon.title=""),this.icon&&(this.icon.style.visibility="visible"),this.code&&(this.code.style.opacity=".5"),console.log("enter")},this.mouseLeave=()=>{this.icon&&(this.icon.style.visibility="hidden"),this.code&&(this.code.style.opacity="1"),console.log("leave")},this.clicked=()=>{this.icon&&(this.icon.title=this.toolTip)}}ngAfterViewInit(){this.getChildren()}}return(u=x).\u0275fac=function(y){return new(y||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["code-copy"]],viewQuery:function(y,b){if(1&y&&(t.Gf(O,5),t.Gf(W,5),t.Gf(A,5)),2&y){let Y;t.iGM(Y=t.CRH())&&(b.buttonRef=Y.first),t.iGM(Y=t.CRH())&&(b.iconRef=Y.first),t.iGM(Y=t.CRH())&&(b.codeRef=Y.first)}},inputs:{text:"text"},standalone:!0,features:[t.jDz],decls:7,vars:8,consts:[[3,"mouseenter","mouseleave"],[3,"className"],["code",""],[3,"classList","cdkCopyToClipboard","click"],["icon",""]],template:function(y,b){1&y&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return b.mouseEnter()})("mouseleave",function(){return b.mouseLeave()}),t.TgZ(1,"code",1,2),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",3,4),t.NdJ("click",function(){return b.clicked()}),t._uU(6," content_copy "),t.qZA()()),2&y&&(t.xp6(1),t.Q6J("className","cold"),t.xp6(2),t.hij(" ",b.text," "),t.xp6(1),t.Akn(t.DdM(6,T)),t.Q6J("classList",t.DdM(7,X))("cdkCopyToClipboard",b.text))},dependencies:[p.u5,n,w,c.ot,K.Ps,K.Hw],styles:['.icon-display[_ngcontent-%COMP%]{transform:scale(.5)}div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}code[_ngcontent-%COMP%]{margin-right:1ex}mat-icon[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(mat-icon){visibility:visible}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(code){opacity:".5"}']}),x})();function U(u,x){1&u&&t.GkF(0)}function q(u,x){1&u&&t._UZ(0,"mat-progress-spinner",4)}function B(u,x){1&u&&t.GkF(0)}function te(u,x){1&u&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function se(u,x){if(1&u&&t._UZ(0,"mfmp-query-head",10),2&u){const P=t.oxw(2);t.Q6J("resultType","results")("inputResults",P.reactionResults)}}function C(u,x){1&u&&t.GkF(0)}function _(u,x){1&u&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function Z(u,x){if(1&u&&t._UZ(0,"mfmp-query-head",10),2&u){const P=t.oxw(3);t.Q6J("resultType","nuclides")("inputResults",P.nuclideResults)}}function m(u,x){if(1&u&&(t.TgZ(0,"mat-tab",6),t.ALo(1,"async"),t.YNc(2,C,1,0,"ng-container",1),t.YNc(3,_,2,0,"ng-template",null,11,t.W1O),t.YNc(5,Z,1,2,"ng-template",null,12,t.W1O),t.qZA()),2&u){const P=t.MAs(4),y=t.MAs(6),b=t.oxw(2);t.MGl("label","Nuclides (",t.lcZ(1,4,b.nuclideRows),")"),t.xp6(2),t.Q6J("ngIf",b.nuclideResults)("ngIfThen",y)("ngIfElse",P)}}function g(u,x){1&u&&t.GkF(0)}function z(u,x){1&u&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function G(u,x){if(1&u&&t._UZ(0,"mfmp-query-head",10),2&u){const P=t.oxw(3);t.Q6J("resultType","elements")("inputResults",P.elementResults)}}function H(u,x){if(1&u&&(t.TgZ(0,"mat-tab",6),t.ALo(1,"async"),t.YNc(2,g,1,0,"ng-container",1),t.YNc(3,z,2,0,"ng-template",null,13,t.W1O),t.YNc(5,G,1,2,"ng-template",null,14,t.W1O),t.qZA()),2&u){const P=t.MAs(4),y=t.MAs(6),b=t.oxw(2);t.MGl("label","ELements (",t.lcZ(1,4,b.elementRows),")"),t.xp6(2),t.Q6J("ngIf",b.elementResults)("ngIfThen",y)("ngIfElse",P)}}function V(u,x){if(1&u&&(t.TgZ(0,"mat-tab-group",5)(1,"mat-tab",6),t.ALo(2,"async"),t.YNc(3,B,1,0,"ng-container",1),t.YNc(4,te,2,0,"ng-template",null,7,t.W1O),t.YNc(6,se,1,2,"ng-template",null,8,t.W1O),t.qZA(),t.YNc(8,m,7,6,"mat-tab",9),t.YNc(9,H,7,6,"mat-tab",9),t.qZA()),2&u){const P=t.MAs(5),y=t.MAs(7),b=t.oxw();t.xp6(1),t.MGl("label","Results (",t.lcZ(2,6,b.reactionRows),")"),t.xp6(2),t.Q6J("ngIf",b.reactionResults)("ngIfThen",y)("ngIfElse",P),t.xp6(5),t.Q6J("ngIf",b.parameters.tables>1),t.xp6(1),t.Q6J("ngIf",b.parameters.tables>2)}}let $=(()=>{var u;class x{constructor(){this.query=new t.vpe,this.store=(0,t.f3M)(r.yh),this.router=(0,t.f3M)(e.F0),this.url=""}ngAfterContentInit(){}ngOnInit(){this.url=this.router.routerState.snapshot.url}}return(u=x).\u0275fac=function(y){return new(y||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["mfmp-report-pages-face"]],inputs:{parameters:"parameters",reactionResults:"reactionResults",nuclideResults:"nuclideResults",elementResults:"elementResults",reactionRows:"reactionRows",nuclideRows:"nuclideRows",elementRows:"elementRows",loading:"loading",ready:"ready"},outputs:{query:"query"},standalone:!0,features:[t.jDz],decls:10,vars:6,consts:[[3,"text"],[4,"ngIf","ngIfThen","ngIfElse"],["waiting",""],["working",""],["mode","indeterminate",1,"progress-spinner"],["mat-stretch-tabs","false","animationDuration","250ms"],[3,"label"],["reactionNo",""],["reactionYes",""],[3,"label",4,"ngIf"],[3,"resultType","inputResults"],["nuclidesNo",""],["nuclidesYes",""],["elementsNo",""],["elementsYes",""]],template:function(y,b){if(1&y&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t._UZ(2,"code-copy",0),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,U,1,0,"ng-container",1),t.ALo(5,"async"),t.YNc(6,q,1,0,"ng-template",null,2,t.W1O),t.YNc(8,V,10,8,"ng-template",null,3,t.W1O),t.qZA()()),2&y){const Y=t.MAs(7),ee=t.MAs(9);t.xp6(2),t.Q6J("text",b.parameters.query),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,b.loading))("ngIfThen",Y)("ngIfElse",ee)}},dependencies:[c.ot,E.QW,E.a8,E.dn,E.dk,Q.Cq,Q.Ou,J.Nh,J.uX,J.SP,N.O,R.Ov,R.O5,S],styles:[".mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.progress-spinner[_ngcontent-%COMP%]{margin-top:3em;margin-left:auto;margin-right:auto}"]}),x})(),k=(()=>{var u;class x{constructor(){this.router=(0,t.f3M)(e.F0),this.store=(0,t.f3M)(r.yh),this.subscriptions=new F.w0,this.provideReports=y=>{switch(y){case o.k.AllTables:this.reactions=this.store.select(v.zL.selectResults),this.reactionRows=this.store.select(v.zL.selectRows),this.nuclides=(0,h.of)([]),this.elements=(0,h.of)([]),this.nuclideRows=(0,h.of)(0),this.elementRows=(0,h.of)(0),this.loading=this.store.select(v.zL.selectLoading),this.ready=this.store.select(v.zL.selectReady);break;case o.k.Fusion:this.reactions=this.store.select(l.zL.selectReactionResults),this.nuclides=this.store.select(l.zL.selectNuclideResults),this.elements=this.store.select(l.zL.selectElementResults),this.reactionRows=this.store.select(l.zL.selectReactionRows),this.nuclideRows=this.store.select(l.zL.selectNuclideRows),this.elementRows=this.store.select(l.zL.selectElementRows),this.loading=this.store.select(l.zL.selectLoading),this.ready=this.store.select(l.zL.selectReady);break;case o.k.Fission:this.reactions=this.store.select(a.zL.selectReactionResults),this.nuclides=this.store.select(a.zL.selectNuclideResults),this.elements=this.store.select(a.zL.selectElementResults),this.reactionRows=this.store.select(a.zL.selectReactionRows),this.nuclideRows=this.store.select(a.zL.selectNuclideRows),this.elementRows=this.store.select(a.zL.selectElementRows),this.loading=this.store.select(a.zL.selectLoading),this.ready=this.store.select(a.zL.selectReady);break;case o.k.TwoUp:this.reactions=this.store.select(d.zL.selectReactionResults),this.nuclides=this.store.select(d.zL.selectNuclideResults),this.elements=this.store.select(d.zL.selectElementResults),this.reactionRows=this.store.select(d.zL.selectReactionRows),this.nuclideRows=this.store.select(d.zL.selectNuclideRows),this.elementRows=this.store.select(d.zL.selectElementRows),this.loading=this.store.select(d.zL.selectLoading),this.ready=this.store.select(d.zL.selectReady);break;case o.k.CascadesAll:this.reactions=this.store.select(i.zL.selectReactionResults),this.nuclides=this.store.select(i.zL.selectNuclideResults),this.elements=this.store.select(i.zL.selectElementResults),this.reactionRows=this.store.select(i.zL.selectReactionRows),this.nuclideRows=this.store.select(i.zL.selectNuclideRows),this.elementRows=this.store.select(i.zL.selectElementRows);break;default:console.log(`ReactionType '${y}' is undefined.`)}}}ngOnInit(){this.subscriptions.add(this.store.select(f.z.selectReportParameters).subscribe(y=>{this.parameters=y,this.returnUrl=y.url,this.provideReports(this.parameters.reactionType)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(u=x).\u0275fac=function(y){return new(y||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["mfmp-report-pages"]],standalone:!0,features:[t.jDz],decls:2,vars:9,consts:[[3,"parameters","reactionResults","nuclideResults","elementResults","reactionRows","nuclideRows","elementRows","loading","ready"]],template:function(y,b){1&y&&(t.ynx(0),t._UZ(1,"mfmp-report-pages-face",0),t.BQk()),2&y&&(t.xp6(1),t.Q6J("parameters",b.parameters)("reactionResults",b.reactions)("nuclideResults",b.nuclides)("elementResults",b.elements)("reactionRows",b.reactionRows)("nuclideRows",b.nuclideRows)("elementRows",b.elementRows)("loading",b.loading)("ready",b.ready))},dependencies:[$],encapsulation:2}),x})()},9001:(j,I,s)=>{s.d(I,{Nw:()=>a,Sz:()=>t,zL:()=>L});var t={};s.r(t),s.d(t,{fetchAllResultsErrorAlert:()=>Q,loadAllResultsEffect:()=>c,requestPageEffect:()=>R,requesthAllResultsErrorAlert:()=>E});var e=s(5879),r=s(7483),F=s(4664),h=s(7398),o=s(6306),f=s(2096),v=s(9397),i=s(4221);const a=(0,i.R7)({source:"AllTables API",events:{Reset:(0,i.uZ)(),"Request Page":(0,i.uZ)(),"Request Page Success":(0,i.Ky)(),"Request Page Failure":O=>({error:O}),"Load Results":(0,i.Ky)(),"Load Results Success":(0,i.Ky)(),"Load Results Failure":O=>({error:O})}});var l=s(2744),d=s(7294);const R=(0,r.GW)((O=(0,e.f3M)(r.eX))=>{const W=(0,e.f3M)(d.M);return O.pipe((0,r.l4)(a.requestPage),(0,F.w)(()=>W.getAllTablesPage().pipe((0,h.U)(A=>W.extractAllTablesQuery(A)),(0,h.U)(A=>a.requestPageSuccess({payload:A})),(0,o.K)(A=>(0,f.of)(a.requestPageFailure({error:A}))))))},{functional:!0}),c=(0,r.GW)((O=(0,e.f3M)(r.eX))=>{const W=(0,e.f3M)(d.M);return O.pipe((0,r.l4)(a.loadResults),(0,F.w)(A=>W.getAllTablesResults(A.query).pipe((0,h.U)(T=>W.extractAllTablesResults(T)),(0,h.U)(T=>a.loadResultsSuccess({payload:T})),(0,o.K)(T=>(0,f.of)(a.loadResultsFailure({error:T}))))))},{functional:!0}),E=(0,r.GW)(()=>{const O=(0,e.f3M)(l.c);return(0,e.f3M)(r.eX).pipe((0,r.l4)(a.requestPageFailure),(0,v.b)(()=>O.showClientError("No results found.")))},{functional:!0,dispatch:!1}),Q=(0,r.GW)(()=>{const O=(0,e.f3M)(l.c);return(0,e.f3M)(r.eX).pipe((0,r.l4)(a.loadResultsFailure),(0,v.b)(()=>O.showClientError("No results found.")))},{functional:!0,dispatch:!1}),J={query:"",loading:!1,ready:!1,error:null,results:[],rows:0},N=(0,i.Lq)(J,(0,i.on)(a.reset,()=>({...J})),(0,i.on)(a.requestPage,O=>({...O,query:"",loading:!0,ready:!1,error:null})),(0,i.on)(a.requestPageSuccess,(O,W)=>({...O,loading:!1,ready:!0,query:W.payload})),(0,i.on)(a.requestPageFailure,(O,W)=>({...O,loading:!1,ready:!1,error:W})),(0,i.on)(a.loadResults,(O,W)=>({...O,query:W.query,loading:!0,ready:!1,error:null,results:[],rows:0})),(0,i.on)(a.loadResultsSuccess,(O,W)=>({...O,ready:!0,loading:!1,results:W.payload.reactionResults,rows:W.payload.reactionRows})),(0,i.on)(a.loadResultsFailure,(O,W)=>({...O,loading:!1,error:W.error}))),L=(0,i.Tz)({name:"all-tables",reducer:N})},5010:(j,I,s)=>{s.d(I,{Nw:()=>r,Sz:()=>t,zL:()=>o});var t={};s.r(t),s.d(t,{fetchAllResultsErrorAlert:()=>X,loadAllResultsEffect:()=>A,requestAllResultsEffect:()=>W,requesthAllResultsErrorAlert:()=>T});var e=s(4221);const r=(0,e.R7)({source:"CascadesAll API",events:{Reset:(0,e.uZ)(),"Request All Results":(0,e.Ky)(),"Request All Results Success":(0,e.Ky)(),"Request All Results Failure":S=>({error:S}),"Fetch All Results":(0,e.Ky)(),"Fetch All Results Success":(0,e.Ky)(),"Fetch All Results Failure":S=>({error:S}),"Load All Results":(0,e.Ky)(),"Load All Results Success":(0,e.Ky)(),"Load All Results Failure":S=>({error:S}),"Load ElementResults":(0,e.uZ)(),"Load FusionResults":(0,e.uZ)(),"Load NuclideResults":(0,e.uZ)()}}),F={formData:null,loading:!1,ready:!1,error:null,link:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},h=(0,e.Lq)(F,(0,e.on)(r.reset,()=>({...F})),(0,e.on)(r.requestAllResults,(S,U)=>({...S,formData:U.payload,loading:!0,ready:!1,error:null})),(0,e.on)(r.requestAllResultsSuccess,(S,U)=>({...S,loading:!1,ready:!0,formData:U.payload})),(0,e.on)(r.requestAllResultsFailure,(S,U)=>({...S,loading:!1,ready:!1,error:U})),(0,e.on)(r.loadAllResults,(S,U)=>({...S,loading:!0,ready:!1,error:null,link:U.url,reactionRows:0,nuclideRows:0,elementRows:0})),(0,e.on)(r.loadAllResultsSuccess,(S,U)=>({...S,ready:!0,loading:!1,reactionResults:U.payload.reactionResults,nuclideResults:U.payload.nuclideResults,elementResults:U.payload.elementResults,reactionRows:U.payload.reactionRows,nuclideRows:U.payload.nuclideRows,elementRows:U.payload.elementRows})),(0,e.on)(r.loadAllResultsFailure,(S,U)=>({...S,loading:!1,error:U.error}))),o=(0,e.Tz)({name:"cascades-all",reducer:h});var N=s(5879),L=s(7483),D=s(4664),M=s(7398),w=s(9397),n=s(6306),p=s(2096),K=s(7331),O=s(2744);const W=(0,L.GW)((S=(0,N.f3M)(L.eX))=>{const U=(0,N.f3M)(K.o);return S.pipe((0,L.l4)(r.requestAllResults),(0,D.w)(q=>U.getCascadesAllResponse(q.payload).pipe((0,M.U)(B=>U.parseCascadesAllResponse(B)),(0,w.b)(B=>console.log("dto",B)),(0,M.U)(B=>r.requestAllResultsSuccess({payload:B})),(0,n.K)(B=>(0,p.of)(r.requestAllResultsFailure({error:B}))))))},{functional:!0}),A=(0,L.GW)((S=(0,N.f3M)(L.eX))=>{const U=(0,N.f3M)(K.o);return S.pipe((0,L.l4)(r.loadAllResults),(0,D.w)(q=>U.loadCascadesAllResponse(q.url).pipe((0,M.U)(B=>U.parseCascadesAllTables(B)),(0,M.U)(B=>B.ok?r.loadAllResultsSuccess({payload:B}):r.loadAllResultsFailure({error:B.errors})),(0,n.K)(B=>(0,p.of)(r.loadAllResultsFailure({error:B}))))))},{functional:!0}),T=(0,L.GW)(()=>{const S=(0,N.f3M)(O.c);return(0,N.f3M)(L.eX).pipe((0,L.l4)(r.requestAllResultsFailure),(0,w.b)(()=>S.showClientError("No results found.")))},{functional:!0,dispatch:!1}),X=(0,L.GW)(()=>{const S=(0,N.f3M)(O.c);return(0,N.f3M)(L.eX).pipe((0,L.l4)(r.fetchAllResultsFailure),(0,w.b)(()=>S.showClientError("No results found.")))},{functional:!0,dispatch:!1})},9306:(j,I,s)=>{s.d(I,{Nw:()=>d,Sz:()=>t,zL:()=>J});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>R,loadAllResultsErrorAlert:()=>c});var e=s(5879),r=s(7483),F=s(4664),h=s(7398),o=s(6306),f=s(2096),v=s(9397),i=s(2744),a=s(2200),l=s(4221);const d=(0,l.R7)({source:"Fission API",events:{Reset:(0,l.uZ)(),"Fetch All Results":(0,l.Ky)(),"Load All Results Success":(0,l.Ky)(),"Load All Results Failure":A=>({error:A}),"Load ElementResults":(0,l.uZ)(),"Load FissionResults":(0,l.uZ)(),"Load NuclideResults":(0,l.uZ)()}}),R=(0,r.GW)((A=(0,e.f3M)(r.eX))=>{const T=(0,e.f3M)(a.z);return A.pipe((0,r.l4)(d.fetchAllResults),(0,F.w)(X=>T.getFissionResults(X.payload).pipe((0,h.U)(S=>T.parseFissionResults(S)),(0,h.U)(S=>d.loadAllResultsSuccess({results:S})),(0,o.K)(S=>(0,f.of)(d.loadAllResultsFailure({error:S}))))))},{functional:!0}),c=(0,r.GW)(()=>{const A=(0,e.f3M)(i.c);return(0,e.f3M)(r.eX).pipe((0,r.l4)(d.loadAllResultsFailure),(0,v.b)(()=>A.showClientError("No results found.")))},{functional:!0,dispatch:!1}),E={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Q=(0,l.Lq)(E,(0,l.on)(d.reset,()=>({...E})),(0,l.on)(d.fetchAllResults,(A,T)=>({...A,formData:T.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,l.on)(d.loadAllResultsFailure,(A,T)=>({...A,loading:!1,error:T.error,ready:!1})),(0,l.on)(d.loadAllResultsSuccess,(A,T)=>({...A,elementResults:T.results.elementResults,reactionResults:T.results.reactionResults,nuclideResults:T.results.nuclideResults,reactionRows:T.results.reactionResults.length-1,nuclideRows:T.results.nuclideResults.length-1,elementRows:T.results.elementResults.length-1,loading:!1,ready:!0}))),J=(0,l.Tz)({name:"fission",reducer:Q})},5498:(j,I,s)=>{s.d(I,{Nw:()=>d,Sz:()=>t,zL:()=>J});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>R,loadAllResultsErrorAlert:()=>c});var e=s(5879),r=s(7483),F=s(4664),h=s(7398),o=s(6306),f=s(2096),v=s(9397),i=s(2744),a=s(9783),l=s(4221);const d=(0,l.R7)({source:"Fusion API",events:{Reset:(0,l.uZ)(),"Fetch All Results":(0,l.Ky)(),"Load All Results Success":(0,l.Ky)(),"Load All Results Failure":A=>({error:A}),"Load ElementResults":(0,l.uZ)(),"Load FusionResults":(0,l.uZ)(),"Load NuclideResults":(0,l.uZ)()}}),R=(0,r.GW)((A=(0,e.f3M)(r.eX))=>{const T=(0,e.f3M)(a.I);return A.pipe((0,r.l4)(d.fetchAllResults),(0,F.w)(X=>T.getFusionResults(X.payload).pipe((0,h.U)(S=>T.parseFusionResults(S)),(0,h.U)(S=>d.loadAllResultsSuccess({results:S})),(0,o.K)(S=>(0,f.of)(d.loadAllResultsFailure({error:S}))))))},{functional:!0}),c=(0,r.GW)(()=>{const A=(0,e.f3M)(i.c);return(0,e.f3M)(r.eX).pipe((0,r.l4)(d.loadAllResultsFailure),(0,v.b)(()=>A.showClientError("No results found.")))},{functional:!0,dispatch:!1}),E={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Q=(0,l.Lq)(E,(0,l.on)(d.reset,()=>({...E})),(0,l.on)(d.fetchAllResults,(A,T)=>({...A,formData:T.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0})),(0,l.on)(d.loadAllResultsFailure,(A,T)=>({...A,loading:!1,error:T.error,ready:!1})),(0,l.on)(d.loadAllResultsSuccess,(A,T)=>({...A,elementResults:T.results.elementResults,reactionResults:T.results.reactionResults,nuclideResults:T.results.nuclideResults,reactionRows:T.results.reactionResults.length-1,nuclideRows:T.results.nuclideResults.length-1,elementRows:T.results.elementResults.length-1,loading:!1,ready:!0}))),J=(0,l.Tz)({name:"fusion",reducer:Q})},8472:(j,I,s)=>{s.d(I,{Nw:()=>d,Sz:()=>t,zL:()=>J});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>R,loadAllResultsErrorAlert:()=>c});var e=s(5879),r=s(7483),F=s(4664),h=s(7398),o=s(6306),f=s(2096),v=s(9397),i=s(2744),a=s(3142),l=s(4221);const d=(0,l.R7)({source:"TwoUp API",events:{Reset:(0,l.uZ)(),"Fetch All Results":(0,l.Ky)(),"Load All Results Success":(0,l.Ky)(),"Load All Results Failure":A=>({error:A}),"Load ElementResults":(0,l.uZ)(),"Load FusionResults":(0,l.uZ)(),"Load NuclideResults":(0,l.uZ)()}}),R=(0,r.GW)((A=(0,e.f3M)(r.eX))=>{const T=(0,e.f3M)(a.F);return A.pipe((0,r.l4)(d.fetchAllResults),(0,F.w)(X=>T.getTwoUpResults(X.payload).pipe((0,h.U)(S=>T.parseTwoUpResults(S)),(0,h.U)(S=>d.loadAllResultsSuccess({results:S})),(0,o.K)(S=>(0,f.of)(d.loadAllResultsFailure({error:S}))))))},{functional:!0}),c=(0,r.GW)(()=>{const A=(0,e.f3M)(i.c);return(0,e.f3M)(r.eX).pipe((0,r.l4)(d.loadAllResultsFailure),(0,v.b)(()=>A.showClientError("No results found.")))},{functional:!0,dispatch:!1}),E={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},Q=(0,l.Lq)(E,(0,l.on)(d.reset,()=>({...E})),(0,l.on)(d.fetchAllResults,(A,T)=>({...A,formData:T.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,l.on)(d.loadAllResultsFailure,(A,T)=>({...A,loading:!1,error:T.error,ready:!1})),(0,l.on)(d.loadAllResultsSuccess,(A,T)=>({...A,elementResults:T.results.elementResults,reactionResults:T.results.reactionResults,nuclideResults:T.results.nuclideResults,reactionRows:T.results.reactionResults.length-1,nuclideRows:T.results.nuclideResults.length-1,elementRows:T.results.elementResults.length-1,loading:!1,ready:!0}))),J=(0,l.Tz)({name:"twoup",reducer:Q})},3142:(j,I,s)=>{s.d(I,{F:()=>o});var t=s(5879),e=s(6414),r=s(9862),F=s(8045),h=s(5158);let o=(()=>{var f;class v{constructor(){this.crud=(0,t.f3M)(e.I),this.page="TwoToTwo.php",this.getTwoUpResults=a=>((new r.WM).set("Accept","text/html").set("Content-Type","application/x-www-form-urlencoded"),this.crud.postPage(this.page,F.iD(a))),this.parseTwoUpResults=a=>{let l={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const d=(0,h.s)(a);for(let R=0;R<3;R++){const c=d[R];l=this.parseTwoUpTable(c[0],c,l)}return l.ok=l.reactionResults.length>0&&l.nuclideResults.length>0&&l.elementResults.length>0,l},this.parseTwoUpTable=(a,l,d)=>(F.VZ(a,["id","neutrino"])?d.reactionResults=l:F.VZ(a,["id","A","Z"])?d.nuclideResults=l:F.VZ(a,["Z","E","EName"])&&(d.elementResults=l),d)}}return(f=v).\u0275fac=function(a){return new(a||f)},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac}),v})()}}]);