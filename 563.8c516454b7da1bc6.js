"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[563],{4563:(ie,A,a)=>{a.r(A),a.d(A,{ELEMENT_DATA_ROUTES:()=>re});var v={};a.r(v),a.d(v,{fetchAllResultsErrorAlert:()=>j,loadAllResultsEffect:()=>W,loadAllResultsErrorAlert:()=>P});var i=a(7483),c=a(4221),g=a(8675),M=a(2678);const m=(0,c.R7)({source:"ElementData API",events:{Reset:(0,c.uZ)(),loadAllResults:(0,c.Ky)(),loadAllResultsSuccess:(0,c.Ky)(),loadAllResultsFailure:t=>({error:t}),LoadElement:(0,c.uZ)(),LoadNuclides:(0,c.uZ)(),LoadRadioNuclides:(0,c.uZ)()}}),C={formData:null,loading:!1,ready:!1,error:null,link:null,radioNuclides:[],nuclides:[],elements:[]},I=(0,c.Lq)(C,(0,c.on)(m.reset,()=>({...C})),(0,c.on)(m.loadAllResults,t=>({...t,loading:!0,ready:!1,error:null,radioNuclides:[],nuclides:[],elements:[]})),(0,c.on)(m.loadAllResultsSuccess,(t,l)=>({...t,ready:!0,loading:!1,radioNuclides:l.payload.radioNuclideResults,nuclides:l.payload.nuclideResults,elements:l.payload.elementResults})),(0,c.on)(m.loadAllResultsFailure,(t,l)=>({...t,loading:!1,error:l.error}))),p=(0,c.Tz)({name:"element-data",reducer:I,extraSelectors:({selectRadioNuclides:t,selectNuclides:l,selectElements:s})=>({selectRadioNuclideRows:(0,c.P1)(t,n=>n.length),selectNuclideRows:(0,c.P1)(l,n=>n.length),selectElementRows:(0,c.P1)(s,n=>n.length)})});var e=a(5879),S=a(4664),T=a(7398),O=a(6306),Y=a(2096),D=a(9397),x=a(2744),L=a(4665),J=a(2401);class U extends J.C{constructor(l,s){super(l,s,1)}}var Q=a(6414),F=a(8045);let h=(()=>{var t;class l{constructor(){this.config=(0,e.f3M)(L._),this.crud=(0,e.f3M)(Q.I),this.page="ShowElementData.php",this.getElementDataPage=n=>{const o=(0,F.Fj)((0,F.zi)(n));return this.crud.postPage(this.page,o)},this.extractElementDataResults=n=>new U(n,["xxx","xxx","xxx"])}}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),l})();const W=(0,i.GW)((t=(0,e.f3M)(i.eX))=>{const l=(0,e.f3M)(h);return t.pipe((0,i.l4)(m.loadAllResults),(0,S.w)(s=>l.getElementDataPage(s.payload).pipe((0,T.U)(n=>l.extractElementDataResults(n)),(0,T.U)(n=>n.ok?m.loadAllResultsSuccess({payload:n}):m.loadAllResultsFailure({error:n.errors})),(0,O.K)(n=>(0,Y.of)(m.loadAllResultsFailure({error:n}))))))},{functional:!0}),P=(0,i.GW)(()=>{const t=(0,e.f3M)(x.c);return(0,e.f3M)(i.eX).pipe((0,i.l4)(m.loadAllResultsFailure),(0,D.b)(()=>t.showClientError("No results found.")))},{functional:!0,dispatch:!1}),j=(0,i.GW)(()=>{const t=(0,e.f3M)(x.c);return(0,e.f3M)(i.eX).pipe((0,i.l4)(m.loadAllResultsFailure),(0,D.b)(()=>t.showClientError("No results found.")))},{functional:!0,dispatch:!1});var E=a(6814),d=a(6223),G=a(2603),N=a(5195),_=a(2032),Z=a(8525),z=a(5313),H=a(7394),K=a(5683),X=a(3680);function w(t,l){if(1&t){const s=e.EpF();e.TgZ(0,"mat-option",6),e.NdJ("onSelectionChange",function(o){e.CHM(s);const r=e.oxw();return e.KtG(r.postChange(o))}),e._uU(1),e.qZA()}if(2&t){const s=l.$implicit;e.Q6J("value",s.Z),e.xp6(1),e.lnq(" ",s.Z," ",s.E," ",s.EName," ")}}function $(t,l){1&t&&e.GkF(0)}function B(t,l){1&t&&e.GkF(0)}function V(t,l){if(1&t&&e._UZ(0,"mfmp-query-head",13),2&t){const s=e.oxw(2);e.Q6J("resultType","elements")("inputResults",s.elements)("paginate",!1)}}function b(t,l){}function q(t,l){1&t&&e.GkF(0)}function k(t,l){if(1&t&&(e.TgZ(0,"h4"),e._uU(1),e.qZA(),e._UZ(2,"mfmp-query-head",13)),2&t){const s=e.oxw(2);e.xp6(1),e.hij("From NuclidesPlus Table (",s.rows(s.nuclides),"):"),e.xp6(1),e.Q6J("resultType","nuclides")("inputResults",s.nuclides)("paginate",!1)}}function ee(t,l){}function te(t,l){1&t&&e.GkF(0)}function ne(t,l){if(1&t&&(e.TgZ(0,"h4"),e._uU(1),e.qZA(),e._UZ(2,"mfmp-query-head",13)),2&t){const s=e.oxw(2);e.xp6(1),e.hij("From RadioNuclidesPlus Table (",s.rows(s.radioNuclides),"):"),e.xp6(1),e.Q6J("resultType","radionuclides")("inputResults",s.radioNuclides)("paginate",!1)}}function le(t,l){}function se(t,l){if(1&t&&(e.YNc(0,B,1,0,"ng-container",3),e.YNc(1,V,1,3,"ng-template",null,7,e.W1O),e.YNc(3,b,0,0,"ng-template",null,8,e.W1O),e.YNc(5,q,1,0,"ng-container",3),e.YNc(6,k,3,4,"ng-template",null,9,e.W1O),e.YNc(8,ee,0,0,"ng-template",null,10,e.W1O),e.YNc(10,te,1,0,"ng-container",3),e.YNc(11,ne,3,4,"ng-template",null,11,e.W1O),e.YNc(13,le,0,0,"ng-template",null,12,e.W1O)),2&t){const s=e.MAs(2),n=e.MAs(4),o=e.MAs(7),r=e.MAs(9),u=e.MAs(12),y=e.MAs(14),f=e.oxw();e.Q6J("ngIf",f.elements)("ngIfThen",s)("ngIfElse",n),e.xp6(5),e.Q6J("ngIf",f.nuclides)("ngIfThen",o)("ngIfElse",r),e.xp6(5),e.Q6J("ngIf",f.radioNuclides)("ngIfThen",u)("ngIfElse",y)}}function ae(t,l){}let oe=(()=>{var t;class l{constructor(){this.fb=(0,e.f3M)(d.qu),this.change=new e.vpe,this.rows=n=>{const o=new H.w0;let r=0;return o.add(n.subscribe(u=>r=u.length-1)),o.unsubscribe(),r},this.stringify=n=>JSON.stringify(n),this.objectify=n=>{const o=[...n[0]];let r=[];for(let u=1;u<n.length;u++){let y=n[u],f={};for(let R=0;R<o.length;R++)f[o[R]]=y[R];r.push(f)}return console.table(r),r}}ngOnInit(){this.f=this.fb.group({doit:["get_element"],ZKEY:["1",d.kI.required]})}postChange(n){n.isUserInput&&this.change.emit(n.source.value)}}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["mfmp-element-data-face"]],inputs:{elementList:"elementList",results:"results",elements:"elements",nuclides:"nuclides",radioNuclides:"radioNuclides",ready:"ready"},outputs:{change:"change"},standalone:!0,features:[e.jDz],decls:13,vars:5,consts:[[3,"formGroup"],["title","Elements","formControlName","ZKEY"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["readyTemplate",""],["notReady",""],[3,"value","onSelectionChange"],["elementsTemplate",""],["noelements",""],["nuclidesTemplate",""],["nonuclides",""],["radioNuclidesTemplate",""],["noRadioNuclides",""],[3,"resultType","inputResults","paginate"]],template:function(n,o){if(1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0)(3,"mat-form-field")(4,"label"),e._uU(5,"Select Element:"),e.qZA(),e.TgZ(6,"mat-select",1),e.YNc(7,w,2,4,"mat-option",2),e.qZA()()(),e.YNc(8,$,1,0,"ng-container",3),e.YNc(9,se,15,9,"ng-template",null,4,e.W1O),e.YNc(11,ae,0,0,"ng-template",null,5,e.W1O),e.qZA()()),2&n){const r=e.MAs(10),u=e.MAs(12);e.xp6(2),e.Q6J("formGroup",o.f),e.xp6(5),e.Q6J("ngForOf",o.elementList),e.xp6(1),e.Q6J("ngIf",!0===o.ready)("ngIfThen",r)("ngIfElse",u)}},dependencies:[E.ez,E.sg,E.O5,N.QW,N.a8,N.dn,_.c,K.KE,Z.LD,Z.gD,X.ey,z.p0,d.UX,d._Y,d.JJ,d.JL,d.sg,d.u,G.O],styles:["h4[_ngcontent-%COMP%]{font-weight:500;text-align:center;margin-top:1ex}"]}),l})();var ce=a(902);const re=[{path:"",component:(()=>{var t;class l{constructor(){this.store=(0,e.f3M)(c.yh),this.headerService=(0,e.f3M)(g.d)}ngOnInit(){this.headerService.buildPageHeader("element-data"),this.elementsList=this.store.select(ce.z.selectElements),this.elements=this.store.select(p.selectElements),this.nuclides=this.store.select(p.selectNuclides),this.radioNuclides=this.store.select(p.selectRadioNuclides),this.ready=this.store.select(p.selectReady)}handleChange(n){const o={doit:"get_element"};o.ZKEY=n,this.store.dispatch(m.loadAllResults({payload:o}))}}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["mfmp-element-data-head"]],standalone:!0,features:[e.jDz],decls:3,vars:10,consts:[[3,"elementList","results","elements","radioNuclides","nuclides","ready","change"]],template:function(n,o){1&n&&(e.TgZ(0,"mfmp-element-data-face",0),e.NdJ("change",function(u){return o.handleChange(u)}),e.ALo(1,"async"),e.ALo(2,"async"),e.qZA()),2&n&&e.Q6J("elementList",e.lcZ(1,6,o.elementsList))("results",o.results)("elements",o.elements)("radioNuclides",o.radioNuclides)("nuclides",o.nuclides)("ready",e.lcZ(2,8,o.ready))},dependencies:[E.ez,E.Ov,oe],encapsulation:2}),l})(),providers:[(0,c.oY)(p),(0,i.y3)([v]),{provide:h,useClass:h},{provide:g.d,useClass:g.d}]},{path:"reports",component:M.a,providers:[(0,c.oY)(p),(0,i.y3)([v]),{provide:h,useClass:h},{provide:g.d,useClass:g.d}]}]}}]);