"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[678],{7294:(K,D,s)=>{s.d(D,{M:()=>R});var t=s(9212),e=s(2401);class l extends e.C{constructor(a,i){super(a,i,1)}}var S=s(145),f=s(6414),m=s(8045);let R=(()=>{class d{constructor(){this.config=(0,t.f3M)(S._Z),this.crud=(0,t.f3M)(f.I),this.page="AllTables.php",this.getAllTablesPage=()=>this.crud.getPage(this.page),this.extractAllTablesQuery=i=>(new DOMParser).parseFromString(i,"text/html").body.querySelector("textarea").innerText,this.getAllTablesResults=i=>{const r=new FormData;r.append("doit","execute_query"),r.append("sql_start",i);const o=(0,m.Fj)(r);return this.crud.postPage(this.page,o)},this.extractAllTablesResults=i=>{const E=(new DOMParser).parseFromString(i,"text/html").body.querySelector("table.results").rows[0].cells[0].innerText;return new l(i,[E])}}static#e=this.\u0275fac=function(r){return new(r||d)};static#t=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac})}return d})()},7331:(K,D,s)=>{s.d(D,{o:()=>a});var t=s(9212),e=s(2096),l=s(9397),S=s(6414),f=s(8045),m=s(145),R=s(2401);class d extends R.C{constructor(r,o){super(r,o)}}let a=(()=>{class i{constructor(){this.config=(0,t.f3M)(m._Z),this.crud=(0,t.f3M)(S.I),this.page="CascadesAll.php",this.equalScan="=\\s*(.+)",this.colonScan=":\\s*(.+)",this.quoteScan='"(.+)"\\.\\s+?(.+)\\.',this.loadCascadesAllResponse=o=>{if(this.config.production)return this.crud.getPage(o);{const c=localStorage.getItem(o);return c?(0,e.of)(c):this.crud.getPage(o).pipe((0,l.b)(E=>localStorage.setItem(o,E)))}},this.parseCascadesAllTables=o=>new d(o,["id","Type","Tid"]),this.getCascadesAllResponse=o=>{const c=this.asCascadesAllFormData(o),E=(0,f.Fj)(c);if(this.config.production)return this.crud.postPage(this.page,E);{const N=localStorage.getItem(this.page);return N?(0,e.of)(N):this.crud.postPage(this.page,E).pipe((0,l.b)(W=>localStorage.setItem(this.page,W)))}},this.parseCascadesAllResponse=o=>{const c={},N=(new DOMParser).parseFromString(o,"text/html"),W=N.body.querySelector("form#f");W&&N.body.removeChild(W);const U=Array.from(N.body.getElementsByTagName("p"));let L=N.body.querySelector('a[href*="/results"]').href.split("/");L=L.splice(L.length-2,2);const A=L.join("/");c.resultsLink=A;const v=[];for(let h of U)h.textContent&&v.push(h.textContent);let n=v.find(h=>h.startsWith("Full Starting Query on the Fusion"));if(n){const h=(0,f.Ol)(n,this.quoteScan);c.fusionQuery=h[0],c.fusionResults=h[1]}if(n=v.find(h=>h.startsWith("Full Starting Query on the TwoToTwo")),n){const h=(0,f.Ol)(n,this.quoteScan);c.twoUpQuery=h[0],c.twoUpResults=h[1]}return n=v.find(h=>h.startsWith("Core Fuel List")),n&&(c.startingFuel=(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Fusion Table used")),n&&(c.fusionTable=(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("2-2 Table used")),n&&(c.twoUpTable=(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Maximmum number of nuclei allowed")),n&&(c.maxNuclei=+(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Maximum number of loops")),n&&(c.maxLoops=+(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Maximum Reactor Temperature")),n&&(c.maxReactorTemp=+(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Elements that will NOT have MELTED")),n&&(c.meltingSwitch=(0,f.pw)(n,this.colonScan)),n=v.find(h=>h.startsWith("Elements that WILL have BOILED")),n&&(c.boilingSwitch=(0,f.pw)(n,this.colonScan)),n=v.find(h=>h.startsWith("Minimum energy (MeV) for any Fusion reaction")),n&&(c.fusionMinEnergy=+(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Minimum energy (MeV) for any 2-2 reaction")),n&&(c.twoUpMinEnergy=+(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Radioactive Isotopes")),n&&(c.isotopeSwitch=(0,f.pw)(n,this.colonScan)),n=v.find(h=>h.startsWith("LHL threshold")),n&&(c.halfLifeThreshold=+(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("Nuclear Fermions")),n&&(c.nuclearFermionSwitch=(0,f.pw)(n,this.colonScan)),n=v.find(h=>h.startsWith("Atomic Fermions")),n&&(c.atomicFermionSwitch=(0,f.pw)(n,this.colonScan)),n=v.find(h=>h.includes("Dimers")),n&&(c.dimersSwitch=(0,f.pw)(n,this.colonScan)),n=v.find(h=>h.includes("order by which the Nuclei Table")),n&&(c.nuclidesSort=(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.includes("order by which the Reactions Table")),n&&(c.reactionSort=(0,f.pw)(n,this.equalScan)),n=v.find(h=>h.startsWith("The program looked for")),n&&(c.progressMessageOne=n),n=v.find(h=>h.startsWith("Thus the program looked for")),n&&(c.progressMessageTwo=n),n=v.find(h=>h.startsWith("Duration")),n&&(c.duration=(0,f.pw)(n,this.equalScan)),console.log("result",c),c},this.asCascadesAllFormData=o=>{const c=new FormData;c.append("doit","execute_query"),c.append("table_set",o.tableSet),c.append("max_nuclei",String(o.maxNuclei)),c.append("max_loops",String(o.maxLoops)),c.append("max_reactor_temp",String(o.maxReactorTemp)),c.append("Melting_switch",o.meltingSwitch),c.append("Boiling_switch",o.boilingSwitch),c.append("min_MeV_F",String(o.fusionMinEnergy)),c.append("min_MeV_T",String(o.twoUpMinEnergy)),c.append("Isotope_switch",o.isotopeSwitch),c.append("LHL_threshold",String(o.halfLifeThreshold)),c.append("NF_switch",o.nuclearFermionSwitch),c.append("AF_switch",o.atomicFermionSwitch),c.append("Dimer_switch",o.dimersSwitch),c.append("order_by_N",o.nuclidesSort),c.append("order_by_R",o.reactionSort),c.append("query",o.coreQuery);let E=0;return o.leftElements&&c.append(`sql_tables[${E++}]`,"left"),o.originalElements&&c.append(`sql_tables[${E++}]`,"none"),o.rightElements&&c.append(`sql_tables[${E++}]`,"right"),c}}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac})}return i})()},2401:(K,D,s)=>{s.d(D,{C:()=>e});class e{get reactionRows(){return this.reactionResults.length-1}get nuclideRows(){return this.nuclideResults.length-1}get elementRows(){return this.elementResults.length-1}get radioNuclideRows(){return this.radioNuclideResults.length-1}constructor(S,f,m=3){this.html=S,this.reactionTemplate=f,this.numberOfTablesExpected=m,this.reactionResults=[],this.nuclideResults=[],this.elementResults=[],this.radioNuclideResults=[],this.queries=[],this.errors=[],this.elementsTemplate=["Z","E","EName"],this.nuclidesTemplate=["id","A","Z"],this.radioNuclidesTemplate=["id","A","E","Z"],this.modelMatches=(R,d)=>{let a=0;for(let i=0;i<d.length;i++)d[i]===R[i]&&a++;return a===d.length},this.parseTableContent=(R,d)=>{if(this.modelMatches(R,this.reactionTemplate))this.reactionResults=d;else if(this.modelMatches(R,this.nuclidesTemplate))this.nuclideResults=d;else if(this.modelMatches(R,this.elementsTemplate))this.elementResults=d;else if(this.modelMatches(R,this.radioNuclidesTemplate))this.radioNuclideResults=d;else{const a=`table with this thead: "${R.join(",")}" couldn't be matched to any template.`;this.errors.push(a)}},this.parseReactionResults=()=>{const R=this.extractTablesFromPage();console.log("reactionTemplate",this.reactionTemplate),console.log("nuclidesTemplate",this.nuclidesTemplate),console.log("elementsTemplate",this.elementsTemplate),console.log("radioNuclidesTemplate",this.radioNuclidesTemplate);for(let a=0;a<R.length;a++)if(R.length>0){const i=R[a];this.parseTableContent(i[0],i)}let d=0;d+=this.reactionResults.length>0?1:0,d+=this.nuclideResults.length>0?1:0,d+=this.elementResults.length>0?1:0,d+=this.radioNuclideResults.length>0?1:0,this.ok=d>=this.numberOfTablesExpected,this.ok||(0==this.reactionResults.length&&this.errors.push("Reaction table is missing"),0==this.nuclideResults.length&&this.errors.push("Nuclides table is missing"),0==this.elementResults.length&&this.errors.push("Elements table is missing"))},this.convertTablesToResultSet=R=>{let d=[];return R.forEach(a=>{let i=Array.prototype.map.call(a.querySelectorAll("tr"),r=>Array.prototype.map.call(r.querySelectorAll("td"),o=>o.innerHTML));i.length>0&&d.push(i)}),d},this.extractTablesFromPage=()=>{let R=[];const i=(new DOMParser).parseFromString(this.html,"text/html").querySelectorAll("table.results");return this.validateTables(i)&&(R=this.convertTablesToResultSet(i)),R},this.validateTables=R=>{let d=R.length>=this.numberOfTablesExpected;return d&&R.forEach(a=>{a.childElementCount>0&&a.childElementCount<3&&(d=d&&"TBODY"==a.lastElementChild?.tagName)}),d},this.parseReactionResults()}}},5177:(K,D,s)=>{s.d(D,{k:()=>t});var t=function(e){return e.AllTables="all-tables",e.CascadesAll="cascades-all",e.Fission="fission",e.Fusion="fusion",e.TwoUp="two-up",e.TBD="undefined",e}(t||{})},5158:(K,D,s)=>{s.d(D,{s:()=>t});const t=S=>{let f=[];const d=(new DOMParser).parseFromString(S,"text/html").querySelectorAll("table.results");return e(3,d)&&(f=l(d)),f},e=(S,f)=>{let m=f.length===S;return m&&f.forEach(R=>{m=m&&R.childElementCount>0&&R.childElementCount<3,m=m&&"TBODY"==R.lastElementChild?.tagName}),m},l=S=>{let f=[];return S.forEach(m=>{let R=Array.prototype.map.call(m.querySelectorAll("tr"),d=>Array.prototype.map.call(d.querySelectorAll("td"),a=>a.innerHTML));f.push(R)}),f}},2200:(K,D,s)=>{s.d(D,{z:()=>f});var t=s(9212),e=s(5158),l=s(6414),S=s(8045);let f=(()=>{class m{constructor(){this.crud=(0,t.f3M)(l.I),this.page="Fission.php",this.getFissionResults=d=>this.crud.postPage(this.page,S.iD(d)),this.parseFissionTable=(d,a,i)=>(S.VZ(d,["id","neutrino"])?i.reactionResults=a:S.VZ(d,["id","A","Z"])?i.nuclideResults=a:S.VZ(d,["Z","E","EName"])&&(i.elementResults=a),i),this.parseFissionResults=d=>{let a={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const i=(0,e.s)(d);for(let r=0;r<3;r++){const o=i[r];a=this.parseFissionTable(o[0],o,a)}for(let r=0;r<3;r++)a.ok=a.reactionResults.length>0&&a.nuclideResults.length>0&&a.elementResults.length>0;return a}}static#e=this.\u0275fac=function(a){return new(a||m)};static#t=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac})}return m})()},9783:(K,D,s)=>{s.d(D,{I:()=>f});var t=s(9212),e=s(6414),l=s(5158),S=s(8045);let f=(()=>{class m{constructor(){this.crud=(0,t.f3M)(e.I),this.page="Fusion.php",this.parseFusionResults=d=>{let a={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const i=(0,l.s)(d);for(let r=0;r<3;r++){const o=i[r];a=this.parseFusionTable(o[0],o,a)}return a.ok=a.reactionResults.length>0&&a.nuclideResults.length>0&&a.elementResults.length>0,a},this.parseFusionTable=(d,a,i)=>(S.VZ(d,["id","neutrino"])?i.reactionResults=a:S.VZ(d,["id","A","Z"])?i.nuclideResults=a:S.VZ(d,["Z","E","EName"])&&(i.elementResults=a),i)}getFusionResults(d){const a=S.iD(d);return this.crud.postPage(this.page,a)}static#e=this.\u0275fac=function(a){return new(a||m)};static#t=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac})}return m})()},4364:(K,D,s)=>{s.d(D,{L:()=>W});var t=s(6814),e=s(9212),l=s(6223),S=s(2296),f=s(5683),m=s(617),R=s(2032),d=s(8525),a=s(7394);const i=[{id:0,key:"csv",name:"Comma-delimited",extension:".csv",type:"text/csv"},{id:1,key:"tab",name:"Tab-delimited",extension:".tsv",type:"text/tab-separated-values"},{id:2,key:"txt",name:"Text",extension:".txt",type:"text/html"},{id:3,key:"prettyjson",name:"Pretty JSON",extension:".json",type:"application/json"},{id:4,key:"json",name:"Compressed JSON",extension:".json",type:"application/json"}],r=O=>{const L=O.get("fileType")?.value||null,A=O.get("fileName")?.value;return null!==L&&null!==A&&A.length>0?null:{missingElements:!0}};var o=s(2600),c=s(3680);function E(O,L){if(1&O&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&O){const A=L.$implicit;e.Q6J("value",A),e.xp6(1),e.hij(" ",A.name," ")}}function N(O,L){if(1&O){const A=e.EpF();e.TgZ(0,"form",3)(1,"div",0)(2,"mat-form-field")(3,"label"),e._uU(4,"File type"),e.qZA(),e.TgZ(5,"mat-select",4),e.YNc(6,E,2,2,"mat-option",5),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"mat-form-field")(9,"label"),e._uU(10,"File Name"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"mat-form-field")(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.downloadBlob())}),e._uU(16," Download "),e.qZA(),e._UZ(17,"input",6),e.qZA(),e.TgZ(18,"a",9,10),e.NdJ("change",function(n){e.CHM(A);const h=e.oxw();return e.KtG(h.onFileInput(n))}),e.qZA(),e._UZ(20,"input",11,12),e.qZA()()}if(2&O){const A=e.oxw();e.Q6J("formGroup",A.downloadForm),e.xp6(6),e.Q6J("ngForOf",A.downloadOptions),e.xp6(8),e.hij("",A.fullNameSignal(),"\xa0"),e.xp6(1),e.Q6J("disabled",!A.goodForm())}}let W=(()=>{class O{constructor(){this.title="",this.url="",this.format="",this.showForm=(0,e.tdS)(!1),this.goodForm=(0,e.tdS)(!1),this.fileNameSignal=(0,e.tdS)(""),this.fileExtSignal=(0,e.tdS)(null),this.fullNameSignal=(0,e.Flj)(()=>{const A=this.fileNameSignal(),v=this.fileExtSignal()?.extension||"";let n;return n=A.length>0&&v.length>0?A+v:0==v.length?A:"",n}),this.downloadOptions=i,this.floatLabelControl=new l.NI("auto"),this.fb=(0,e.f3M)(l.qu),this.downloadService=(0,e.f3M)(o.K),this.setfileExtension=A=>{const v=A.extension;let n=this.downloadForm.get("fileName")?.value;if(n){const h=n.indexOf(".",-1);if(h>=0){const G=n.substring(h);n.replace(G,v)}else n+=v;this.downloadForm.get("fileName")?.patchValue(n,{emitEvent:!1})}},this.setFileName=A=>{const v=this.downloadForm.get("fileType")?.value,n=this.downloadOptions[v].extension;let h;if(""!==n){const G=A.indexOf(".",-1);h=G>0?A.substring(0,G-1):A,h+=n,this.downloadForm.get("fileName")?.patchValue(h,{emitEvent:!1})}},this.onFileInput=A=>{console.log(A),A.stopPropagation()},this.toggleDownload=()=>{this.showForm.set(!this.showForm())},this.downloadBlob=()=>{const A=this.downloadForm.get("fileType")?.value;this.downloadService.downloadBlob(A,this.data,this.fullNameSignal())},this.subscriptions=new a.w0}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.downloadForm=this.fb.group({fileName:["",l.kI.required],fileType:[null,l.kI.required],dummy:[""]},{validators:r}),this.subscriptions.add(this.downloadForm.get("fileType")?.valueChanges.subscribe(A=>this.fileExtSignal.set(A))),this.subscriptions.add(this.downloadForm.get("fileName")?.valueChanges.subscribe(A=>this.fileNameSignal.set(A))),this.subscriptions.add(this.downloadForm.statusChanges.subscribe(A=>this.goodForm.set("VALID"===A)))}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}static#e=this.\u0275fac=function(v){return new(v||O)};static#t=this.\u0275cmp=e.Xpm({type:O,selectors:[["mfmp-download"]],inputs:{data:"data",resultType:"resultType",ready:"ready"},standalone:!0,features:[e._Bn([o.K]),e.jDz],decls:5,vars:2,consts:[[1,"flexrow"],["type","button","mat-icon-button","",3,"title","click"],["id","download",3,"formGroup",4,"ngIf"],["id","download",3,"formGroup"],["formControlName","fileType","placeholder","Select a file type."],[3,"value",4,"ngFor","ngForOf"],["matInput","","title","hidden","formControlName","dummy",1,"hidden"],["matInput","","formControlName","fileName","placeholder","Enter a file name."],["mat-raised-button","","type","button",3,"disabled","click"],["href","x","type","file","title","hidden","download","",1,"hidden",3,"change"],["fileInput",""],["type","file","title","picker","value","",1,"hidden"],["filePicker",""],[3,"value"]],template:function(v,n){1&v&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.toggleDownload()}),e.TgZ(2,"mat-icon"),e._uU(3,"download"),e.qZA()(),e.YNc(4,N,22,4,"form",2),e.qZA()),2&v&&(e.xp6(1),e.MGl("title","Download ",n.resultType,""),e.xp6(3),e.Q6J("ngIf",n.showForm()))},dependencies:[t.sg,t.ez,t.O5,S.ot,S.lW,S.RK,f.lN,f.KE,m.Ps,m.Hw,R.c,R.Nt,d.LD,d.gD,c.ey,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".hidden[_ngcontent-%COMP%]{display:none!important}.flexrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}.disabled[_ngcontent-%COMP%]{visibility:hidden}label.block[_ngcontent-%COMP%]{display:block;margin:auto}"]})}return O})()},2603:(K,D,s)=>{s.d(D,{O:()=>se});var t=s(6814),e=s(9212),l=s(5195),S=s(1476),f=s(3566),m=s(5313),R=s(4221),d=s(2096),a=s(7394),i=s(8645),r=s(4364),o=s(2655),c=s(2296),E=s(902);let N=(()=>{class y{constructor(){this.router=(0,e.f3M)(o.F0),this.store=(0,e.f3M)(R.yh),this.subscriptions=new a.w0,this.reset=()=>{this.router.navigate([this.returnUrl],{queryParams:{reset:!0}}).catch(u=>console.error(u))}}ngOnInit(){this.subscriptions.add(this.store.select(E.z.selectReportParameters).subscribe(u=>{this.parameters=u,this.returnUrl=u.url}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(g){return new(g||y)};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["mfmp-restart-feature"]],standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(g,w){1&g&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return w.reset()}),e._uU(1," Again?\n"),e.qZA())},dependencies:[t.ez,c.ot,c.lW]})}return y})();const W=["paginator"];function U(y,J){if(1&y&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&y){const u=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",u," ")}}function O(y,J){1&y&&(e.ynx(0),e.YNc(1,U,2,1,"th",14),e.BQk())}function L(y,J){if(1&y&&(e.TgZ(0,"th",17),e._uU(1),e.qZA()),2&y){const u=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",u," ")}}function A(y,J){1&y&&(e.ynx(0),e.YNc(1,L,2,1,"th",16),e.BQk())}function v(y,J){if(1&y&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&y){const u=J.$implicit,g=e.oxw().index,w=e.oxw();e.Q6J("ngClass",w.columnStyles[g]),e.xp6(1),e.hij(" ",u[g]," ")}}function n(y,J){if(1&y&&(e.ynx(0,11),e.YNc(1,O,2,0,"ng-container",12)(2,A,2,0,"ng-container",12)(3,v,2,2,"td",13),e.BQk()),2&y){const u=J.$implicit,g=J.index,w=e.oxw();e.Q6J("matColumnDef",u),e.xp6(1),e.Q6J("ngIf",1==w.sortableColumns[g]),e.xp6(1),e.Q6J("ngIf",0==w.sortableColumns[g])}}function h(y,J){1&y&&e.GkF(0)}function G(y,J){if(1&y&&(e.TgZ(0,"td",19),e.YNc(1,h,1,0,"ng-container",20),e.qZA()),2&y){e.oxw();const u=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",u)}}function j(y,J){1&y&&(e.TgZ(0,"td",19),e._uU(1,"\xa0"),e.qZA())}function P(y,J){1&y&&e._UZ(0,"tr",21)}function I(y,J){1&y&&e._UZ(0,"tr",22)}function F(y,J){1&y&&e._UZ(0,"tr",23)}function C(y,J){if(1&y&&(e.TgZ(0,"mat-card-actions",24)(1,"div",25),e.ynx(2),e._UZ(3,"mfmp-download",26),e.BQk(),e.ynx(4),e._UZ(5,"mfmp-restart-feature"),e.BQk(),e.qZA()()),2&y){const u=e.oxw();e.xp6(3),e.Q6J("data",u.downloadable(u.dataSource.data))("resultType",u.resultType)("ready",u.ready)}}const X=()=>[10,25,50,100];function x(y,J){if(1&y){const u=e.EpF();e.TgZ(0,"mat-paginator",28,29),e.NdJ("page",function(w){e.CHM(u);const z=e.oxw(2);return e.KtG(z.handlePageEvent(w))}),e.qZA()}if(2&y){const u=e.oxw(2);e.Q6J("pageSize",25)("pageSizeOptions",e.DdM(4,X))("length",u.length)("pageIndex",0)}}function Z(y,J){if(1&y&&e.YNc(0,x,2,5,"mat-paginator",27),2&y){const u=e.oxw();e.Q6J("ngIf",u.paginate)}}const $=()=>["paginatorColumn"],_=()=>["nullPaginator"];let te=(()=>{class y{constructor(){this.subscriptions=new a.w0,this.changeDetector=(0,e.f3M)(e.sBO),this.dataSource=new m.by,this.values=[],this.sortedData=[],this.ready=(0,e.tdS)(!1),this.pageSize=20,this.pageIndex=0,this.pageSizeOptions=[10,20,25,50,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.buildDataSource=u=>{this.values=[...u],this.values.shift();const g=new m.by(this.values);g.sort=this.sort,this.dataSource=g,this.ready.set(!0),this.changeDetector.detectChanges()},this.setupPaginator=()=>{this.paginator.pageSize=this.pageSize,this.paginator.pageSizeOptions=this.pageSizeOptions,this.paginator.hidePageSize=!1,this.paginator.showFirstLastButtons=!0,this.paginator.pageIndex=0},this.sortData=u=>{const g=this.dataSource.data;let w=g;if(g){if(!u.active||""===u.direction)return w;const z="asc"===u.direction,B=this.displayColumns?.findIndex(V=>V==u.active);let H=this.columnTypes[B];return this.dataSource.data=g.sort((V,q)=>this.compare(V[B],q[B],z,H)),this.sortedData}return w},this.compare=(u,g,w,z)=>"string"===z?this.compareStrings(u,g,w):this.compareNumbers(+u,+g,w),this.compareStrings=(u,g,w)=>(u<g?-1:1)*(w?1:-1),this.compareNumbers=(u,g,w)=>(u<g?-1:1)*(w?1:-1),this.downloadable=u=>{const g=[...u];return g.unshift(this.displayColumns),g}}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(u=>{this.buildDataSource(u)}))}ngAfterViewInit(){this.paginate&&(this.setupPaginator(),this.dataSource.paginator=this.paginator,this.dataSource.paginator?.firstPage())}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(u){this.pageEvent=u,this.pageSize=u.pageSize,this.pageIndex=u.pageIndex}setPageSizeOptions(u){u&&(this.pageSizeOptions=u.split(",").map(g=>+g))}static#e=this.\u0275fac=function(g){return new(g||y)};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["mfmp-query-face"]],viewQuery:function(g,w){if(1&g&&(e.Gf(W,5),e.Gf(f.YE,5)),2&g){let z;e.iGM(z=e.CRH())&&(w.paginator=z.first),e.iGM(z=e.CRH())&&(w.sort=z.first)}},inputs:{resultType:"resultType",download:"download",displayColumns:"displayColumns",columnTypes:"columnTypes",columnStyles:"columnStyles",sortableColumns:"sortableColumns",inputResults:"inputResults",length:"length",paginate:"paginate"},standalone:!0,features:[e.jDz],decls:15,vars:8,consts:[[1,"table-wrapper"],["mat-table","","matSort","",1,"mat-elevation-z2",3,"dataSource","matSortChange"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","paginatorColumn"],["mat-footer-cell","","colspan","99",4,"matFooterCellDef"],["matColumnDef","nullPaginator"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["align","end",4,"ngIf"],["footerCell",""],[3,"matColumnDef"],[4,"ngIf"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-footer-cell","","colspan","99"],[4,"ngTemplateOutlet"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["align","end"],[1,"action"],[3,"data","resultType","ready"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page",4,"ngIf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page"],["paginator",""]],template:function(g,w){1&g&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"table",1),e.NdJ("matSortChange",function(B){return w.sortData(B)}),e.YNc(4,n,4,3,"ng-container",2),e.ynx(5,3),e.YNc(6,G,2,1,"td",4),e.BQk(),e.ynx(7,5),e.YNc(8,j,2,0,"td",4),e.BQk(),e.YNc(9,P,1,0,"tr",6)(10,I,1,0,"tr",7)(11,F,1,0,"tr",8),e.qZA()()(),e.YNc(12,C,6,3,"mat-card-actions",9),e.qZA(),e.YNc(13,Z,1,1,"ng-template",null,10,e.W1O)),2&g&&(e.xp6(3),e.Q6J("dataSource",w.dataSource),e.xp6(1),e.Q6J("ngForOf",w.displayColumns),e.xp6(5),e.Q6J("matHeaderRowDef",w.displayColumns),e.xp6(1),e.Q6J("matRowDefColumns",w.displayColumns),e.xp6(1),e.Q6J("matFooterRowDef",!0===w.paginate?e.DdM(6,$):e.DdM(7,_)),e.xp6(1),e.Q6J("ngIf",w.paginate&&w.length>0))},dependencies:[t.O5,t.tP,t.ez,t.mk,t.sg,l.QW,l.a8,l.hq,l.dn,f.JX,f.YE,f.nU,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.mD,m.Ke,m.ge,m.ev,m.yh,m.XQ,m.Gk,m.Q2,S.TU,S.NW,r.L,N],styles:[".mat-column-number[_ngcontent-%COMP%]{text-align:right!important}.mat-column-null[_ngcontent-%COMP%]{text-align:center!important}table.mat-mdc-table[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid lightgray}.mdc-data-table__header-row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__header-cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}.mdc-data-table__row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}div.block[_ngcontent-%COMP%]{vertical-align:middle}div.action[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}div.table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}"]})}return y})(),se=(()=>{class y{constructor(){this.paginate=!0,this.obj=new m.by,this.dataSource=(0,d.of)(this.obj),this.store=(0,e.f3M)(R.yh),this.changeDetector=(0,e.f3M)(e.sBO),this.sortedData=[],this.columnTypes=[],this.columnStyles=[],this.sortableColumns=[],this.subscriptions=new a.w0,this.ready=(0,e.tdS)(!1),this.pageSize=25,this.pageIndex=0,this.length=(0,e.tdS)(0),this.pageSizeOptions=[5,10,25,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.setSortableColumns=()=>{const u=new Array(this.columnTypes.length);for(let g=0;g<this.columnTypes.length;g++)u[g]="null"!=this.columnTypes[g];this.sortableColumns=u},this.setColumnStyles=()=>{const u=new Array(this.columnTypes.length);for(let B=0;B<this.columnTypes.length;B++){const H=this.columnTypes[B];u[B]="null"===H?"mat-column-null":"number"===H?"mat-column-number":""}this.columnStyles=u},this.setColumnTypes=(u,g)=>{const w=new Array(g.length);for(let z=0;z<g.length;z++){let B=0,H=0,V=0;for(let k=0;k<u.length;k++){let p=u[k][z];V+="null"===p?1:0,B+=null!==p&&isNaN(p)?1:0,H+=null===p||isNaN(p)?0:1}w[z]=V>0?"null":H>0?"number":"string"}this.columnTypes=w},this.download=new i.x}ngOnInit(){this.subscriptions.add(this.inputResults.subscribe(u=>{if(u.length>0){const g=[...u[0]];let w=[...u];w.shift(),this.headers=g;const z=new m.by(w);this.download.next(u),this.headers=g,this.setColumnTypes(w,g),this.setColumnStyles(),this.setSortableColumns(),this.dataSource=(0,d.of)(z),this.ready.set(!0),this.length.set(w.length)}}))}ngAfterContentInit(){this.changeDetector.detectChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}handlePageEvent(u){this.pageEvent=u,this.pageSize=u.pageSize,this.pageIndex=u.pageIndex}static#e=this.\u0275fac=function(g){return new(g||y)};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["mfmp-query-head"]],inputs:{resultType:"resultType",inputResults:"inputResults",paginate:"paginate"},standalone:!0,features:[e.jDz],decls:2,vars:11,consts:[[3,"resultType","download","sortableColumns","displayColumns","columnTypes","columnStyles","inputResults","length","paginate"]],template:function(g,w){1&g&&(e._UZ(0,"mfmp-query-face",0),e.ALo(1,"async")),2&g&&e.Q6J("resultType",w.resultType)("download",e.lcZ(1,9,w.download))("sortableColumns",w.sortableColumns)("displayColumns",w.headers)("columnTypes",w.columnTypes)("columnStyles",w.columnStyles)("inputResults",w.inputResults)("length",w.length())("paginate",w.paginate)},dependencies:[te,t.Ov,t.ez,l.QW,f.JX,m.p0,S.TU],encapsulation:2})}return y})()},2678:(K,D,s)=>{s.d(D,{a:()=>k});var t=s(9212),e=s(2655),l=s(4221),S=s(7394),f=s(2096),m=s(5177),R=s(902),d=s(9001),a=s(5010),i=s(9306),r=s(5498),o=s(8472),c=s(6814),E=s(2296),N=s(5195),W=s(5940),U=s(4104),O=s(2603);class L{constructor(Q,b){this._document=b;const M=this._textarea=this._document.createElement("textarea"),T=M.style;T.position="fixed",T.top=T.opacity="0",T.left="-999em",M.setAttribute("aria-hidden","true"),M.value=Q,M.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(M)}copy(){const Q=this._textarea;let b=!1;try{if(Q){const M=this._document.activeElement;Q.select(),Q.setSelectionRange(0,Q.value.length),b=this._document.execCommand("copy"),M&&M.focus()}}catch{}return b}destroy(){const Q=this._textarea;Q&&(Q.remove(),this._textarea=void 0)}}let A=(()=>{class p{constructor(b){this._document=b}copy(b){const M=this.beginCopy(b),T=M.copy();return M.destroy(),T}beginCopy(b){return new L(b,this._document)}static#e=this.\u0275fac=function(M){return new(M||p)(t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const v=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let n=(()=>{class p{constructor(b,M,T){this._clipboard=b,this._ngZone=M,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,T&&null!=T.attempts&&(this.attempts=T.attempts)}copy(b=this.attempts){if(b>1){let M=b;const T=this._clipboard.beginCopy(this.text);this._pending.add(T);const Y=()=>{const ee=T.copy();ee||! --M||this._destroyed?(this._currentTimeout=null,this._pending.delete(T),T.destroy(),this.copied.emit(ee)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(Y,1))};Y()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(b=>b.destroy()),this._pending.clear(),this._destroyed=!0}static#e=this.\u0275fac=function(M){return new(M||p)(t.Y36(A),t.Y36(t.R0b),t.Y36(v,8))};static#t=this.\u0275dir=t.lG2({type:p,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(M,T){1&M&&t.NdJ("click",function(){return T.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}return p})(),h=(()=>{class p{static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275mod=t.oAB({type:p});static#s=this.\u0275inj=t.cJS({})}return p})();var G=s(6223),j=s(617);const P=["button"],I=["icon"],F=["code"],C=()=>["visibility:hidden"],X=()=>["icon-display"];let x=(()=>{class p{constructor(){this.toolTip="copied",this.getChildren=()=>{this.code=this.codeRef.nativeElement,this.icon=this.iconRef._elementRef.nativeElement},this.mouseEnter=()=>{this.icon&&(this.icon.title=""),this.icon&&(this.icon.style.visibility="visible"),this.code&&(this.code.style.opacity=".5"),console.log("enter")},this.mouseLeave=()=>{this.icon&&(this.icon.style.visibility="hidden"),this.code&&(this.code.style.opacity="1"),console.log("leave")},this.clicked=()=>{this.icon&&(this.icon.title=this.toolTip)}}ngAfterViewInit(){this.getChildren()}static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["code-copy"]],viewQuery:function(M,T){if(1&M&&(t.Gf(P,5),t.Gf(I,5),t.Gf(F,5)),2&M){let Y;t.iGM(Y=t.CRH())&&(T.buttonRef=Y.first),t.iGM(Y=t.CRH())&&(T.iconRef=Y.first),t.iGM(Y=t.CRH())&&(T.codeRef=Y.first)}},inputs:{text:"text"},standalone:!0,features:[t.jDz],decls:7,vars:8,consts:[[3,"mouseenter","mouseleave"],[3,"className"],["code",""],[3,"classList","cdkCopyToClipboard","click"],["icon",""]],template:function(M,T){1&M&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return T.mouseEnter()})("mouseleave",function(){return T.mouseLeave()}),t.TgZ(1,"code",1,2),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",3,4),t.NdJ("click",function(){return T.clicked()}),t._uU(6," content_copy "),t.qZA()()),2&M&&(t.xp6(1),t.Q6J("className","cold"),t.xp6(2),t.hij(" ",T.text," "),t.xp6(1),t.Akn(t.DdM(6,C)),t.Q6J("classList",t.DdM(7,X))("cdkCopyToClipboard",T.text))},dependencies:[G.u5,h,n,E.ot,j.Ps,j.Hw],styles:['.icon-display[_ngcontent-%COMP%]{transform:scale(.5)}div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}code[_ngcontent-%COMP%]{margin-right:1ex}mat-icon[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(mat-icon){visibility:visible}div[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(code){opacity:".5"}']})}return p})();function Z(p,Q){1&p&&t.GkF(0)}function $(p,Q){1&p&&t._UZ(0,"mat-progress-spinner",5)}function _(p,Q){1&p&&t.GkF(0)}function te(p,Q){1&p&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function se(p,Q){if(1&p&&t._UZ(0,"mfmp-query-head",11),2&p){const b=t.oxw(2);t.Q6J("resultType","results")("inputResults",b.reactionResults)}}function y(p,Q){1&p&&t.GkF(0)}function J(p,Q){1&p&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function u(p,Q){if(1&p&&t._UZ(0,"mfmp-query-head",11),2&p){const b=t.oxw(3);t.Q6J("resultType","nuclides")("inputResults",b.nuclideResults)}}function g(p,Q){if(1&p&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"async"),t.YNc(2,y,1,0,"ng-container",2)(3,J,2,0,"ng-template",null,12,t.W1O)(5,u,1,2,"ng-template",null,13,t.W1O),t.qZA()),2&p){const b=t.MAs(4),M=t.MAs(6),T=t.oxw(2);t.MGl("label","Nuclides (",t.lcZ(1,4,T.nuclideRows),")"),t.xp6(2),t.Q6J("ngIf",T.nuclideResults)("ngIfThen",M)("ngIfElse",b)}}function w(p,Q){1&p&&t.GkF(0)}function z(p,Q){1&p&&(t.TgZ(0,"h3"),t._uU(1,"No results found"),t.qZA())}function B(p,Q){if(1&p&&t._UZ(0,"mfmp-query-head",11),2&p){const b=t.oxw(3);t.Q6J("resultType","elements")("inputResults",b.elementResults)}}function H(p,Q){if(1&p&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"async"),t.YNc(2,w,1,0,"ng-container",2)(3,z,2,0,"ng-template",null,14,t.W1O)(5,B,1,2,"ng-template",null,15,t.W1O),t.qZA()),2&p){const b=t.MAs(4),M=t.MAs(6),T=t.oxw(2);t.MGl("label","ELements (",t.lcZ(1,4,T.elementRows),")"),t.xp6(2),t.Q6J("ngIf",T.elementResults)("ngIfThen",M)("ngIfElse",b)}}function V(p,Q){if(1&p&&(t.TgZ(0,"mat-tab-group",6)(1,"mat-tab",7),t.ALo(2,"async"),t.YNc(3,_,1,0,"ng-container",2)(4,te,2,0,"ng-template",null,8,t.W1O)(6,se,1,2,"ng-template",null,9,t.W1O),t.qZA(),t.YNc(8,g,7,6,"mat-tab",10)(9,H,7,6,"mat-tab",10),t.qZA()),2&p){const b=t.MAs(5),M=t.MAs(7),T=t.oxw();t.xp6(1),t.MGl("label","Results (",t.lcZ(2,6,T.reactionRows),")"),t.xp6(2),t.Q6J("ngIf",T.reactionResults)("ngIfThen",M)("ngIfElse",b),t.xp6(5),t.Q6J("ngIf",T.parameters.tables>1),t.xp6(1),t.Q6J("ngIf",T.parameters.tables>2)}}let q=(()=>{class p{constructor(){this.query=new t.vpe,this.store=(0,t.f3M)(l.yh),this.router=(0,t.f3M)(e.F0),this.url=""}ngAfterContentInit(){}ngOnInit(){this.url=this.router.routerState.snapshot.url}static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["mfmp-report-pages-face"]],inputs:{parameters:"parameters",reactionResults:"reactionResults",nuclideResults:"nuclideResults",elementResults:"elementResults",reactionRows:"reactionRows",nuclideRows:"nuclideRows",elementRows:"elementRows",loading:"loading",ready:"ready"},outputs:{query:"query"},standalone:!0,features:[t.jDz],decls:10,vars:6,consts:[[1,"wrapper"],[3,"text"],[4,"ngIf","ngIfThen","ngIfElse"],["waiting",""],["working",""],["mode","indeterminate",1,"progress-spinner"],["mat-stretch-tabs","false","animationDuration","250ms"],[3,"label"],["reactionNo",""],["reactionYes",""],[3,"label",4,"ngIf"],[3,"resultType","inputResults"],["nuclidesNo",""],["nuclidesYes",""],["elementsNo",""],["elementsYes",""]],template:function(M,T){if(1&M&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header"),t._UZ(2,"code-copy",1),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,Z,1,0,"ng-container",2),t.ALo(5,"async"),t.YNc(6,$,1,0,"ng-template",null,3,t.W1O)(8,V,10,8,"ng-template",null,4,t.W1O),t.qZA()()),2&M){const Y=t.MAs(7),ee=t.MAs(9);t.xp6(2),t.Q6J("text",T.parameters.query),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,T.loading))("ngIfThen",Y)("ngIfElse",ee)}},dependencies:[E.ot,N.QW,N.a8,N.dn,N.dk,W.Cq,W.Ou,U.Nh,U.uX,U.SP,O.O,c.Ov,c.O5,x],styles:[".wrapper[_ngcontent-%COMP%]{width:100%}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}.progress-spinner[_ngcontent-%COMP%]{margin-top:3em;margin-left:auto;margin-right:auto}"]})}return p})(),k=(()=>{class p{constructor(){this.router=(0,t.f3M)(e.F0),this.store=(0,t.f3M)(l.yh),this.subscriptions=new S.w0,this.provideReports=b=>{switch(b){case m.k.AllTables:this.reactions=this.store.select(d.zL.selectResults),this.reactionRows=this.store.select(d.zL.selectRows),this.nuclides=(0,f.of)([]),this.elements=(0,f.of)([]),this.nuclideRows=(0,f.of)(0),this.elementRows=(0,f.of)(0),this.loading=this.store.select(d.zL.selectLoading),this.ready=this.store.select(d.zL.selectReady);break;case m.k.Fusion:this.reactions=this.store.select(r.zL.selectReactionResults),this.nuclides=this.store.select(r.zL.selectNuclideResults),this.elements=this.store.select(r.zL.selectElementResults),this.reactionRows=this.store.select(r.zL.selectReactionRows),this.nuclideRows=this.store.select(r.zL.selectNuclideRows),this.elementRows=this.store.select(r.zL.selectElementRows),this.loading=this.store.select(r.zL.selectLoading),this.ready=this.store.select(r.zL.selectReady);break;case m.k.Fission:this.reactions=this.store.select(i.zL.selectReactionResults),this.nuclides=this.store.select(i.zL.selectNuclideResults),this.elements=this.store.select(i.zL.selectElementResults),this.reactionRows=this.store.select(i.zL.selectReactionRows),this.nuclideRows=this.store.select(i.zL.selectNuclideRows),this.elementRows=this.store.select(i.zL.selectElementRows),this.loading=this.store.select(i.zL.selectLoading),this.ready=this.store.select(i.zL.selectReady);break;case m.k.TwoUp:this.reactions=this.store.select(o.zL.selectReactionResults),this.nuclides=this.store.select(o.zL.selectNuclideResults),this.elements=this.store.select(o.zL.selectElementResults),this.reactionRows=this.store.select(o.zL.selectReactionRows),this.nuclideRows=this.store.select(o.zL.selectNuclideRows),this.elementRows=this.store.select(o.zL.selectElementRows),this.loading=this.store.select(o.zL.selectLoading),this.ready=this.store.select(o.zL.selectReady);break;case m.k.CascadesAll:this.reactions=this.store.select(a.zL.selectReactionResults),this.nuclides=this.store.select(a.zL.selectNuclideResults),this.elements=this.store.select(a.zL.selectElementResults),this.reactionRows=this.store.select(a.zL.selectReactionRows),this.nuclideRows=this.store.select(a.zL.selectNuclideRows),this.elementRows=this.store.select(a.zL.selectElementRows);break;default:console.log(`ReactionType '${b}' is undefined.`)}}}ngOnInit(){this.subscriptions.add(this.store.select(R.z.selectReportParameters).subscribe(b=>{this.parameters=b,this.returnUrl=b.url,this.provideReports(this.parameters.reactionType)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275cmp=t.Xpm({type:p,selectors:[["mfmp-report-pages"]],standalone:!0,features:[t.jDz],decls:2,vars:9,consts:[[3,"parameters","reactionResults","nuclideResults","elementResults","reactionRows","nuclideRows","elementRows","loading","ready"]],template:function(M,T){1&M&&(t.ynx(0),t._UZ(1,"mfmp-report-pages-face",0),t.BQk()),2&M&&(t.xp6(1),t.Q6J("parameters",T.parameters)("reactionResults",T.reactions)("nuclideResults",T.nuclides)("elementResults",T.elements)("reactionRows",T.reactionRows)("nuclideRows",T.nuclideRows)("elementRows",T.elementRows)("loading",T.loading)("ready",T.ready))},dependencies:[q],encapsulation:2})}return p})()},9001:(K,D,s)=>{s.d(D,{Nw:()=>i,Sz:()=>t,zL:()=>L});var t={};s.r(t),s.d(t,{fetchAllResultsErrorAlert:()=>W,loadAllResultsEffect:()=>E,requestPageEffect:()=>c,requesthAllResultsErrorAlert:()=>N});var e=s(9212),l=s(7483),S=s(4664),f=s(7398),m=s(6306),R=s(2096),d=s(9397),a=s(4221);const i=(0,a.R7)({source:"AllTables API",events:{Reset:(0,a.uZ)(),"Request Page":(0,a.uZ)(),"Request Page Success":(0,a.Ky)(),"Request Page Failure":P=>({error:P}),"Load Results":(0,a.Ky)(),"Load Results Success":(0,a.Ky)(),"Load Results Failure":P=>({error:P})}});var r=s(2744),o=s(7294);const c=(0,l.GW)((P=(0,e.f3M)(l.eX))=>{const I=(0,e.f3M)(o.M);return P.pipe((0,l.l4)(i.requestPage),(0,S.w)(()=>I.getAllTablesPage().pipe((0,f.U)(F=>I.extractAllTablesQuery(F)),(0,f.U)(F=>i.requestPageSuccess({payload:F})),(0,m.K)(F=>(0,R.of)(i.requestPageFailure({error:F}))))))},{functional:!0}),E=(0,l.GW)((P=(0,e.f3M)(l.eX))=>{const I=(0,e.f3M)(o.M);return P.pipe((0,l.l4)(i.loadResults),(0,S.w)(F=>I.getAllTablesResults(F.query).pipe((0,f.U)(C=>I.extractAllTablesResults(C)),(0,f.U)(C=>i.loadResultsSuccess({payload:C})),(0,m.K)(C=>(0,R.of)(i.loadResultsFailure({error:C}))))))},{functional:!0}),N=(0,l.GW)(()=>{const P=(0,e.f3M)(r.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(i.requestPageFailure),(0,d.b)(()=>P.showClientError("No results found.")))},{functional:!0,dispatch:!1}),W=(0,l.GW)(()=>{const P=(0,e.f3M)(r.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(i.loadResultsFailure),(0,d.b)(()=>P.showClientError("No results found.")))},{functional:!0,dispatch:!1}),U={query:"",loading:!1,ready:!1,error:null,results:[],rows:0},O=(0,a.Lq)(U,(0,a.on)(i.reset,()=>({...U})),(0,a.on)(i.requestPage,P=>({...P,query:"",loading:!0,ready:!1,error:null})),(0,a.on)(i.requestPageSuccess,(P,I)=>({...P,loading:!1,ready:!0,query:I.payload})),(0,a.on)(i.requestPageFailure,(P,I)=>({...P,loading:!1,ready:!1,error:I})),(0,a.on)(i.loadResults,(P,I)=>({...P,query:I.query,loading:!0,ready:!1,error:null,results:[],rows:0})),(0,a.on)(i.loadResultsSuccess,(P,I)=>({...P,ready:!0,loading:!1,results:I.payload.reactionResults,rows:I.payload.reactionRows})),(0,a.on)(i.loadResultsFailure,(P,I)=>({...P,loading:!1,error:I.error}))),L=(0,a.Tz)({name:"all-tables",reducer:O})},5010:(K,D,s)=>{s.d(D,{Nw:()=>l,Sz:()=>t,zL:()=>m});var t={};s.r(t),s.d(t,{fetchAllResultsErrorAlert:()=>X,loadAllResultsEffect:()=>F,requestAllResultsEffect:()=>I,requesthAllResultsErrorAlert:()=>C});var e=s(4221);const l=(0,e.R7)({source:"CascadesAll API",events:{Reset:(0,e.uZ)(),"Request All Results":(0,e.Ky)(),"Request All Results Success":(0,e.Ky)(),"Request All Results Failure":x=>({error:x}),"Fetch All Results":(0,e.Ky)(),"Fetch All Results Success":(0,e.Ky)(),"Fetch All Results Failure":x=>({error:x}),"Load All Results":(0,e.Ky)(),"Load All Results Success":(0,e.Ky)(),"Load All Results Failure":x=>({error:x}),"Load ElementResults":(0,e.uZ)(),"Load FusionResults":(0,e.uZ)(),"Load NuclideResults":(0,e.uZ)()}}),S={formData:null,loading:!1,ready:!1,error:null,link:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},f=(0,e.Lq)(S,(0,e.on)(l.reset,()=>({...S})),(0,e.on)(l.requestAllResults,(x,Z)=>({...x,formData:Z.payload,loading:!0,ready:!1,error:null})),(0,e.on)(l.requestAllResultsSuccess,(x,Z)=>({...x,loading:!1,ready:!0,formData:Z.payload})),(0,e.on)(l.requestAllResultsFailure,(x,Z)=>({...x,loading:!1,ready:!1,error:Z})),(0,e.on)(l.loadAllResults,(x,Z)=>({...x,loading:!0,ready:!1,error:null,link:Z.url,reactionRows:0,nuclideRows:0,elementRows:0})),(0,e.on)(l.loadAllResultsSuccess,(x,Z)=>({...x,ready:!0,loading:!1,reactionResults:Z.payload.reactionResults,nuclideResults:Z.payload.nuclideResults,elementResults:Z.payload.elementResults,reactionRows:Z.payload.reactionRows,nuclideRows:Z.payload.nuclideRows,elementRows:Z.payload.elementRows})),(0,e.on)(l.loadAllResultsFailure,(x,Z)=>({...x,loading:!1,error:Z.error}))),m=(0,e.Tz)({name:"cascades-all",reducer:f});var O=s(9212),L=s(7483),A=s(4664),v=s(7398),n=s(9397),h=s(6306),G=s(2096),j=s(7331),P=s(2744);const I=(0,L.GW)((x=(0,O.f3M)(L.eX))=>{const Z=(0,O.f3M)(j.o);return x.pipe((0,L.l4)(l.requestAllResults),(0,A.w)($=>Z.getCascadesAllResponse($.payload).pipe((0,v.U)(_=>Z.parseCascadesAllResponse(_)),(0,n.b)(_=>console.log("dto",_)),(0,v.U)(_=>l.requestAllResultsSuccess({payload:_})),(0,h.K)(_=>(0,G.of)(l.requestAllResultsFailure({error:_}))))))},{functional:!0}),F=(0,L.GW)((x=(0,O.f3M)(L.eX))=>{const Z=(0,O.f3M)(j.o);return x.pipe((0,L.l4)(l.loadAllResults),(0,A.w)($=>Z.loadCascadesAllResponse($.url).pipe((0,v.U)(_=>Z.parseCascadesAllTables(_)),(0,v.U)(_=>_.ok?l.loadAllResultsSuccess({payload:_}):l.loadAllResultsFailure({error:_.errors})),(0,h.K)(_=>(0,G.of)(l.loadAllResultsFailure({error:_}))))))},{functional:!0}),C=(0,L.GW)(()=>{const x=(0,O.f3M)(P.c);return(0,O.f3M)(L.eX).pipe((0,L.l4)(l.requestAllResultsFailure),(0,n.b)(()=>x.showClientError("No results found.")))},{functional:!0,dispatch:!1}),X=(0,L.GW)(()=>{const x=(0,O.f3M)(P.c);return(0,O.f3M)(L.eX).pipe((0,L.l4)(l.fetchAllResultsFailure),(0,n.b)(()=>x.showClientError("No results found.")))},{functional:!0,dispatch:!1})},9306:(K,D,s)=>{s.d(D,{Nw:()=>o,Sz:()=>t,zL:()=>U});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>c,loadAllResultsErrorAlert:()=>E});var e=s(9212),l=s(7483),S=s(4664),f=s(7398),m=s(6306),R=s(2096),d=s(9397),a=s(2744),i=s(2200),r=s(4221);const o=(0,r.R7)({source:"Fission API",events:{Reset:(0,r.uZ)(),"Fetch All Results":(0,r.Ky)(),"Load All Results Success":(0,r.Ky)(),"Load All Results Failure":F=>({error:F}),"Load ElementResults":(0,r.uZ)(),"Load FissionResults":(0,r.uZ)(),"Load NuclideResults":(0,r.uZ)()}}),c=(0,l.GW)((F=(0,e.f3M)(l.eX))=>{const C=(0,e.f3M)(i.z);return F.pipe((0,l.l4)(o.fetchAllResults),(0,S.w)(X=>C.getFissionResults(X.payload).pipe((0,f.U)(x=>C.parseFissionResults(x)),(0,f.U)(x=>o.loadAllResultsSuccess({results:x})),(0,m.K)(x=>(0,R.of)(o.loadAllResultsFailure({error:x}))))))},{functional:!0}),E=(0,l.GW)(()=>{const F=(0,e.f3M)(a.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(o.loadAllResultsFailure),(0,d.b)(()=>F.showClientError("No results found.")))},{functional:!0,dispatch:!1}),N={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},W=(0,r.Lq)(N,(0,r.on)(o.reset,()=>({...N})),(0,r.on)(o.fetchAllResults,(F,C)=>({...F,formData:C.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,r.on)(o.loadAllResultsFailure,(F,C)=>({...F,loading:!1,error:C.error,ready:!1})),(0,r.on)(o.loadAllResultsSuccess,(F,C)=>({...F,elementResults:C.results.elementResults,reactionResults:C.results.reactionResults,nuclideResults:C.results.nuclideResults,reactionRows:C.results.reactionResults.length-1,nuclideRows:C.results.nuclideResults.length-1,elementRows:C.results.elementResults.length-1,loading:!1,ready:!0}))),U=(0,r.Tz)({name:"fission",reducer:W})},5498:(K,D,s)=>{s.d(D,{Nw:()=>o,Sz:()=>t,zL:()=>U});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>c,loadAllResultsErrorAlert:()=>E});var e=s(9212),l=s(7483),S=s(4664),f=s(7398),m=s(6306),R=s(2096),d=s(9397),a=s(2744),i=s(9783),r=s(4221);const o=(0,r.R7)({source:"Fusion API",events:{Reset:(0,r.uZ)(),"Fetch All Results":(0,r.Ky)(),"Load All Results Success":(0,r.Ky)(),"Load All Results Failure":F=>({error:F}),"Load ElementResults":(0,r.uZ)(),"Load FusionResults":(0,r.uZ)(),"Load NuclideResults":(0,r.uZ)()}}),c=(0,l.GW)((F=(0,e.f3M)(l.eX))=>{const C=(0,e.f3M)(i.I);return F.pipe((0,l.l4)(o.fetchAllResults),(0,S.w)(X=>C.getFusionResults(X.payload).pipe((0,f.U)(x=>C.parseFusionResults(x)),(0,f.U)(x=>o.loadAllResultsSuccess({results:x})),(0,m.K)(x=>(0,R.of)(o.loadAllResultsFailure({error:x}))))))},{functional:!0}),E=(0,l.GW)(()=>{const F=(0,e.f3M)(a.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(o.loadAllResultsFailure),(0,d.b)(()=>F.showClientError("No results found.")))},{functional:!0,dispatch:!1}),N={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},W=(0,r.Lq)(N,(0,r.on)(o.reset,()=>({...N})),(0,r.on)(o.fetchAllResults,(F,C)=>({...F,formData:C.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0})),(0,r.on)(o.loadAllResultsFailure,(F,C)=>({...F,loading:!1,error:C.error,ready:!1})),(0,r.on)(o.loadAllResultsSuccess,(F,C)=>({...F,elementResults:C.results.elementResults,reactionResults:C.results.reactionResults,nuclideResults:C.results.nuclideResults,reactionRows:C.results.reactionResults.length-1,nuclideRows:C.results.nuclideResults.length-1,elementRows:C.results.elementResults.length-1,loading:!1,ready:!0}))),U=(0,r.Tz)({name:"fusion",reducer:W})},8472:(K,D,s)=>{s.d(D,{Nw:()=>o,Sz:()=>t,zL:()=>U});var t={};s.r(t),s.d(t,{fetchAllResultsEffect:()=>c,loadAllResultsErrorAlert:()=>E});var e=s(9212),l=s(7483),S=s(4664),f=s(7398),m=s(6306),R=s(2096),d=s(9397),a=s(2744),i=s(3142),r=s(4221);const o=(0,r.R7)({source:"TwoUp API",events:{Reset:(0,r.uZ)(),"Fetch All Results":(0,r.Ky)(),"Load All Results Success":(0,r.Ky)(),"Load All Results Failure":F=>({error:F}),"Load ElementResults":(0,r.uZ)(),"Load FusionResults":(0,r.uZ)(),"Load NuclideResults":(0,r.uZ)()}}),c=(0,l.GW)((F=(0,e.f3M)(l.eX))=>{const C=(0,e.f3M)(i.F);return F.pipe((0,l.l4)(o.fetchAllResults),(0,S.w)(X=>C.getTwoUpResults(X.payload).pipe((0,f.U)(x=>C.parseTwoUpResults(x)),(0,f.U)(x=>o.loadAllResultsSuccess({results:x})),(0,m.K)(x=>(0,R.of)(o.loadAllResultsFailure({error:x}))))))},{functional:!0}),E=(0,l.GW)(()=>{const F=(0,e.f3M)(a.c);return(0,e.f3M)(l.eX).pipe((0,l.l4)(o.loadAllResultsFailure),(0,d.b)(()=>F.showClientError("No results found.")))},{functional:!0,dispatch:!1}),N={formData:[],loading:!1,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[],reactionRows:0,nuclideRows:0,elementRows:0},W=(0,r.Lq)(N,(0,r.on)(o.reset,()=>({...N})),(0,r.on)(o.fetchAllResults,(F,C)=>({...F,formData:C.payload,loading:!0,ready:!1,error:null,reactionResults:[],nuclideResults:[],elementResults:[]})),(0,r.on)(o.loadAllResultsFailure,(F,C)=>({...F,loading:!1,error:C.error,ready:!1})),(0,r.on)(o.loadAllResultsSuccess,(F,C)=>({...F,elementResults:C.results.elementResults,reactionResults:C.results.reactionResults,nuclideResults:C.results.nuclideResults,reactionRows:C.results.reactionResults.length-1,nuclideRows:C.results.nuclideResults.length-1,elementRows:C.results.elementResults.length-1,loading:!1,ready:!0}))),U=(0,r.Tz)({name:"twoup",reducer:W})},3142:(K,D,s)=>{s.d(D,{F:()=>m});var t=s(9212),e=s(6414),l=s(9862),S=s(8045),f=s(5158);let m=(()=>{class R{constructor(){this.crud=(0,t.f3M)(e.I),this.page="TwoToTwo.php",this.getTwoUpResults=a=>((new l.WM).set("Accept","text/html").set("Content-Type","application/x-www-form-urlencoded"),this.crud.postPage(this.page,S.iD(a))),this.parseTwoUpResults=a=>{let i={reactionResults:[],nuclideResults:[],elementResults:[],ok:!0};const r=(0,f.s)(a);for(let o=0;o<3;o++){const c=r[o];i=this.parseTwoUpTable(c[0],c,i)}return i.ok=i.reactionResults.length>0&&i.nuclideResults.length>0&&i.elementResults.length>0,i},this.parseTwoUpTable=(a,i,r)=>(S.VZ(a,["id","neutrino"])?r.reactionResults=i:S.VZ(a,["id","A","Z"])?r.nuclideResults=i:S.VZ(a,["Z","E","EName"])&&(r.elementResults=i),r)}static#e=this.\u0275fac=function(i){return new(i||R)};static#t=this.\u0275prov=t.Yz7({token:R,factory:R.\u0275fac})}return R})()}}]);