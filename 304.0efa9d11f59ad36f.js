"use strict";(self.webpackChunkv11=self.webpackChunkv11||[]).push([[304],{2304:(Ue,q,s)=>{s.r(q),s.d(q,{LENR_EVENTS_ROUTES:()=>qe});var x={};s.r(x),s.d(x,{fetchSearchResultsEffect:()=>H,loadAllEventsErrorAlert:()=>G,loadEventDetailEffect:()=>B,prefetchEffect:()=>V,prefetchErrorAlert:()=>K});var d=s(7483),l=s(4221),U=s(2600),e=s(5879),T=s(4664),b=s(7398),A=s(6306),y=s(2096),D=s(9397),L=s(2744);const c=(0,l.R7)({source:"LenrEvents API",events:{Reset:(0,l.uZ)(),Prefetch:(0,l.Ky)(),"Prefetch Success":(0,l.Ky)(),"Prefetch Failure":n=>({error:n}),"Fetch Search Results":(0,l.Ky)(),"Fetch Search Results Success":(0,l.Ky)(),"Fetch Search Results Failure":n=>({error:n}),"Find Event Id":(0,l.Ky)(),"Load Event Detail":(0,l.Ky)(),"Load Event Detail Success":(0,l.Ky)(),"Load Event Detail Failure":n=>({error:n})}});var J=s(6847);class w{constructor(r){this.html=r,this.stub={},this.getInputValue=(t,a)=>{const o=t.find(i=>i.id===a);if(o)return o.value;throw`Incorrect input element Id: ${a}`},this.dom=(new DOMParser).parseFromString(r,"text/html")}parseCitations(r){let t=r.split(/\r?\n|\r|\n/g);return t=t.filter(a=>a.trim().length>0),t.length>0?t:null}get categories(){let r=[],t=Array.from(this.dom.documentElement.getElementsByTagName("select")).find(a=>"s_Category"===a.id);if(t)for(let a of t.options)r.push(a.value);return r}get eventCount(){let r=0,t=Array.from(this.dom.documentElement.getElementsByTagName("p")).find(a=>a.textContent?.includes("Exploring the new"))?.textContent;if(t){const o=/Exploring the new .*?([0-9]+) entries/i.exec(t);r=o?+o[1]:0,console.log("eventCount",r)}return r}get maxId(){let r=0,t=Array.from(this.dom.documentElement.getElementsByTagName("input")).find(a=>"s_Index_to"===a.id);return r=t?+t.value:0,r}get detail(){const r=Array.from(this.dom.getElementsByTagName("input"));let t={};t.category=this.getInputValue(r,"Category"),t.year=+this.getInputValue(r,"Year"),t.author=this.getInputValue(r,"Author"),t.title=this.getInputValue(r,"Title"),t.journal=this.getInputValue(r,"Journal_Title"),t.editor=this.getInputValue(r,"Editor"),t.publisher=this.getInputValue(r,"Publisher"),t.city=this.getInputValue(r,"City"),t.date=this.getInputValue(r,"Date"),t.keywords=this.getInputValue(r,"Keywords").split(","),t.headline=this.getInputValue(r,"Headline"),t.category=this.getInputValue(r,"Category");const a=Array.from(this.dom.getElementsByTagName("textarea"));for(let i of a)switch(i.name.toLowerCase()){case"abstract":t.abstract=i.innerText;break;case"comment":t.comment=i.innerText;break;case"citations":const h=this.parseCitations(i.innerText);h&&(t.citations=h)}const o=Array.from(this.dom.getElementsByTagName("a"));return t.hyperlinks=o.map(i=>i.href),t}get events(){let r=new Array,t=this.dom.getElementById("r_id");if(t)for(let a=0;a<t.options.length;a++){const o=t.options[a];let i=+o.value;const u=o.innerText.split(":"),h={};h.year=+u[0],h.category=u[1],h.author=u[2],h.title=u[3],h.id=i,r.push(h)}return r}}var j=s(9862);let C=(()=>{class n{constructor(){this.crud=(0,e.f3M)(J.I),this.page="Select_LENR_Events.php",this.preFetchProperty=t=>this.getEventsPage(),this.parseProperties=t=>{const a=new w(t),o={};return o.eventCount=a.eventCount,o.maxId=a.maxId,o.categories=a.categories,o}}htmlToDocument(t){const i=(new DOMParser).parseFromString(t,"text/html").activeElement?.outerHTML??"";let u=document.implementation.createHTMLDocument();return u.documentElement.innerHTML="<head></head>"+i,u}getEventsPage(){return this.crud.getPage(this.page)}postEventPage(t){const a=(n=>{const r=(n=>{const r=new FormData;return Object.keys(n).forEach(t=>{t.startsWith("_")||r.append(t,"object"!=typeof n[t]?n[t]:JSON.stringify(n[t]))}),r})(n),t=[],a=Array.from(r.entries());for(let o=0;o<a.length;o++){let u=a[o][1];"null"===u&&(u=""),t.push(`${a[o][0]}=${u}`)}return t.join("&").toString()})(t),o=(new j.WM).set("Accept","text/html").set("Content-Type","application/x-www-form-urlencoded");return this.crud.postPage(this.page,a,o)}parseEventDetail(t,a){const i=new w(t).detail;return a&&(i.id=a),i}parseEventList(t){return new w(t).events}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const V=(0,d.GW)((n=(0,e.f3M)(d.eX))=>{const r=(0,e.f3M)(C);return n.pipe((0,d.l4)(c.prefetch),(0,T.w)(t=>r.preFetchProperty(t.payload).pipe((0,b.U)(a=>{const o=r.parseProperties(a);return c.prefetchSuccess({payload:o})}),(0,A.K)(a=>(0,y.of)(c.prefetchFailure({error:a}))))))},{functional:!0}),H=(0,d.GW)((n=(0,e.f3M)(d.eX))=>{const r=(0,e.f3M)(C);return n.pipe((0,d.l4)(c.fetchSearchResults),(0,T.w)(t=>r.postEventPage(t.payload).pipe((0,b.U)(a=>{const o=r.parseEventList(a);return c.fetchSearchResultsSuccess({payload:o})}),(0,A.K)(a=>(0,y.of)(c.fetchSearchResultsFailure({error:a}))))))},{functional:!0}),B=(0,d.GW)((n=(0,e.f3M)(d.eX))=>{const r=(0,e.f3M)(C);return n.pipe((0,d.l4)(c.loadEventDetail),(0,T.w)(t=>r.postEventPage(t.payload).pipe((0,b.U)(a=>{const o=r.parseEventDetail(a,t.payload.r_id);return c.loadEventDetailSuccess({payload:o})}),(0,A.K)(a=>(0,y.of)(c.loadEventDetailFailure({error:a}))))))},{functional:!0}),G=(0,d.GW)(()=>{const n=(0,e.f3M)(L.c);return(0,e.f3M)(d.eX).pipe((0,d.l4)(c.fetchSearchResultsFailure),(0,D.b)(()=>n.showClientError("No results found.")))},{functional:!0,dispatch:!1}),K=(0,d.GW)(()=>{const n=(0,e.f3M)(L.c);return(0,e.f3M)(d.eX).pipe((0,d.l4)(c.prefetchFailure),(0,D.b)(()=>n.showClientError("Something went wrong")))},{functional:!0,dispatch:!1}),M={formData:{},loading:!1,ready:!1,error:null,eventCount:0,maxEventId:0,currentEventId:0,currentEvent:{},categories:[],lenrEvents:[],html:null},W=(0,l.Lq)(M,(0,l.on)(c.reset,()=>({...M})),(0,l.on)(c.prefetch,n=>({...n,eventCount:0,maxEventId:0,categories:[],lenrDetails:[],error:null})),(0,l.on)(c.prefetchSuccess,(n,r)=>({...n,eventCount:r.payload.eventCount,maxEventId:r.payload.maxId,categories:r.payload.categories})),(0,l.on)(c.prefetchFailure,(n,r)=>({...n,loading:!1,ready:!1,error:r.error})),(0,l.on)(c.fetchSearchResults,n=>({...n,loading:!0,ready:!1,error:null})),(0,l.on)(c.fetchSearchResultsFailure,(n,r)=>({...n,loading:!1,error:r.error,ready:!1})),(0,l.on)(c.fetchSearchResultsSuccess,(n,r)=>({...n,lenrEvents:r.payload,loading:!1,ready:!0})),(0,l.on)(c.findEventId,(n,r)=>({...n,currentEventId:r.payload})),(0,l.on)(c.loadEventDetail,(n,r)=>({...n,loading:!0,ready:!1,error:!1,currentEventId:r.payload.r_id})),(0,l.on)(c.loadEventDetailFailure,(n,r)=>({...n,loading:!1,ready:!1,error:r.error})),(0,l.on)(c.loadEventDetailSuccess,(n,r)=>({...n,loading:!1,ready:!1,error:!1,currentEvent:r.payload}))),v=(0,l.Tz)({name:"lenrevents",reducer:W});var f=s(6814),p=s(6223),Z=s(2296),m=s(5195),_=s(5683),F=s(617),E=s(2032);function X(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"mat-label"),e._uU(2,"Abstract"),e.qZA(),e.TgZ(3,"mat-label",11),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Oqu(t.event.abstract)}}function $(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",13),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("href",t,e.LSH),e.xp6(1),e.hij(" ",t," ")}}function ee(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"mat-label"),e._uU(2," Active Link(s): (click on each to open it in another tab) "),e.qZA(),e.TgZ(3,"mat-label",6)(4,"ul"),e.YNc(5,$,3,2,"li",12),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.event.hyperlinks)}}function te(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",14),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("href",t,e.LSH),e.xp6(1),e.hij(" ",t," ")}}function ne(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"mat-label"),e._uU(2," Citations: An 'Enter' key separated list of links (with optional notes) that cite this. "),e.qZA(),e.TgZ(3,"mat-label",6)(4,"ul"),e.YNc(5,te,3,2,"li",12),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.event.citations)}}function re(n,r){if(1&n&&(e.TgZ(0,"div",15)(1,"mat-label"),e._uU(2," Headline: As you or the popular or scientific press might or did describe it. "),e.qZA(),e.TgZ(3,"mat-label",16),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.event.headline," ")}}function ae(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",5)(2,"mat-label"),e._uU(3,"Category:"),e.qZA(),e.TgZ(4,"mat-label",6),e._uU(5),e.qZA(),e.TgZ(6,"mat-label"),e._uU(7,"Year of Publication:"),e.qZA(),e.TgZ(8,"mat-label",6),e._uU(9),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Database Index:"),e.qZA(),e.TgZ(12,"mat-label",6),e._uU(13),e.qZA()(),e.TgZ(14,"div",7)(15,"mat-label"),e._uU(16," Author (last name, initials) or comma-separated list of Authors "),e.qZA(),e.TgZ(17,"mat-label",6),e._uU(18),e.qZA(),e.TgZ(19,"mat-label"),e._uU(20," Title: The formal title of this entry, if applicable "),e.qZA(),e.TgZ(21,"mat-label",6),e._uU(22),e.qZA(),e.TgZ(23,"mat-label"),e._uU(24," Journal Title: Title of the Journal, Proceedings, Book, etc "),e.qZA(),e.TgZ(25,"mat-label",6),e._uU(26),e.qZA(),e.TgZ(27,"mat-label"),e._uU(28," Editor (last name, initials) of the collective work, or comma-separated list of Editors "),e.qZA(),e.TgZ(29,"mat-label",6),e._uU(30),e.qZA(),e.TgZ(31,"mat-label"),e._uU(32,"Publisher of the Journal, Proceedings, Book, etc:"),e.qZA(),e.TgZ(33,"mat-label",6),e._uU(34),e.qZA(),e.TgZ(35,"mat-label"),e._uU(36,"City hosting research, conference, etc:"),e.qZA(),e.TgZ(37,"mat-label",6),e._uU(38),e.qZA(),e.TgZ(39,"mat-label"),e._uU(40,"Publishing date or span of dates of conference:"),e.qZA(),e.TgZ(41,"mat-label",6),e._uU(42),e.qZA(),e.TgZ(43,"mat-label"),e._uU(44," Comment: "),e.TgZ(45,"sub"),e._uU(46," Informed comments, by-lines and info not captured elsewhere. "),e.qZA()(),e.TgZ(47,"mat-label",6),e._uU(48),e.qZA(),e.TgZ(49,"mat-label"),e._uU(50," Keywords: A comma separated list of keywords or short phrases "),e.qZA(),e.TgZ(51,"mat-label",6),e._uU(52),e.qZA()(),e.YNc(53,X,5,1,"div",8),e.YNc(54,ee,6,1,"div",8),e.YNc(55,ne,6,1,"div",8),e.YNc(56,re,5,1,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.event.category),e.xp6(4),e.Oqu(t.event.year),e.xp6(4),e.Oqu(t.event.id),e.xp6(5),e.Oqu(t.event.author),e.xp6(4),e.Oqu(t.event.title),e.xp6(4),e.Oqu(t.event.journal),e.xp6(4),e.Oqu(t.event.editor),e.xp6(4),e.Oqu(t.event.publisher),e.xp6(4),e.Oqu(t.event.city),e.xp6(4),e.Oqu(t.event.date),e.xp6(6),e.hij(" ",t.event.comment," "),e.xp6(4),e.Oqu(t.event.keywords),e.xp6(1),e.Q6J("ngIf",t.event.abstract),e.xp6(1),e.Q6J("ngIf",t.event.hyperlinks),e.xp6(1),e.Q6J("ngIf",t.event.citations),e.xp6(1),e.Q6J("ngIf",t.event.headline)}}let N=(()=>{class n{constructor(){this.next=new e.vpe,this.prior=new e.vpe,this.back=new e.vpe,this.goBack=()=>{this.back.emit()},this.goPrior=()=>{this.prior.emit()},this.goNext=()=>{this.next.emit()}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mfmp-lenr-events-detail"]],inputs:{event:"event"},outputs:{next:"next",prior:"prior",back:"back"},standalone:!0,features:[e.jDz],decls:12,vars:1,consts:[[4,"ngIf"],[1,"actions"],["title","Prior event"],["title","Next event"],["mat-raised-button","","color","primary",3,"click"],[1,"flexrow","space-evenly"],[1,"content"],[1,"grid"],["class","flexrow",4,"ngIf"],["class","flexcolumn",4,"ngIf"],[1,"flexrow"],[1,"content","abstract"],[4,"ngFor","ngForOf"],["_target","_blank","noreferrer","","noopener","",3,"href"],["target","_blank","noopener","","noreferrer","",3,"href"],[1,"flexcolumn"],[1,"content","mat-elevation-z2"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-content"),e.YNc(2,ae,57,16,"div",0),e.qZA(),e.TgZ(3,"mat-card-actions")(4,"div",1)(5,"div")(6,"mat-icon",2),e._uU(7,"navigate_before"),e.qZA(),e.TgZ(8,"mat-icon",3),e._uU(9,"navigate_next"),e.qZA()(),e.TgZ(10,"button",4),e.NdJ("click",function(){return a.goBack()}),e._uU(11,"Back"),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",a.event))},dependencies:[f.ez,f.sg,f.O5,p.u5,Z.ot,Z.lW,m.QW,m.a8,m.hq,m.dn,F.Ps,F.Hw,E.c,_.hX,_.lN],styles:[".mdc-card[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.mat-mdc-card-content[_ngcontent-%COMP%]{max-height:100%;overflow:auto}div.flexrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:1vh}div.flexrow[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{padding-right:1em}div.flexcolumn[_ngcontent-%COMP%]{display:flex;flex-direction:column}div.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;row-gap:1vh;margin-bottom:1vh}.space-evenly[_ngcontent-%COMP%]{justify-content:space-evenly}.content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;min-width:10em;padding-left:1ex;padding-right:1ex;border:1px solid darkgray}.hidden[_ngcontent-%COMP%]{visibility:hidden}li[_ngcontent-%COMP%]{list-style-type:none}mat-label[_ngcontent-%COMP%]{display:block}mat-label.abstract[_ngcontent-%COMP%]{max-height:2cm;overflow-y:scroll}div.actions[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}"]}),n})();var oe=s(4292),I=s(8675),se=s(902),ie=s(3305),R=s(8525),S=s(4104),le=s(1303),Y=s(1476),O=s(5940),P=s(3566),g=s(5313);const ce=["paginator"],pe=["tableSort"];function de(n,r){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Year"),e.qZA())}function ue(n,r){if(1&n&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.year)}}function me(n,r){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Category"),e.qZA())}function he(n,r){if(1&n&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.category)}}function ge(n,r){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Author"),e.qZA())}function fe(n,r){if(1&n&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.author)}}function ve(n,r){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Title"),e.qZA())}function _e(n,r){if(1&n&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.title)}}function ye(n,r){1&n&&(e.TgZ(0,"th",13),e._uU(1,"ID"),e.qZA())}function Ce(n,r){if(1&n&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.id)}}function xe(n,r){1&n&&e._UZ(0,"tr",15)}function Ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr",16),e.NdJ("click",function(o){const u=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.clicked(o,u.id))}),e.qZA()}}const Ee=function(){return[10,25,50,100]};let Te=(()=>{class n{set matPaginator(t){this.paginator=t}set matSort(t){this.tableSort=t}constructor(){this.fetch=new e.vpe,this.length=0,this.pageSize=20,this.pageIndex=0,this.sortedData=[],this.pageSizeOptions=[10,15,20,50,100],this.displayColumns="year,category,author,title,id".split(","),this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.buildDataSource=()=>{this.dataSource=new g.by(this.eventList),this.dataSource.sort=this.tableSort,this.setupPaginator(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.tableSort,this.length=this.eventList.length},this.setupPaginator=()=>{this.paginator.pageSize=this.pageSize,this.paginator.pageSizeOptions=this.pageSizeOptions,this.paginator.hidePageSize=!1,this.paginator.showFirstLastButtons=!0,this.paginator.pageIndex=0}}ngOnInit(){this.buildDataSource()}handlePageEvent(t){this.pageEvent=t,this.pageSize=t.pageSize,this.pageIndex=t.pageIndex}clicked(t,a){t.stopPropagation(),this.fetch.emit(a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mfmp-lenr-events-results"]],viewQuery:function(t,a){if(1&t&&(e.Gf(ce,7),e.Gf(pe,7)),2&t){let o;e.iGM(o=e.CRH())&&(a.matPaginator=o.first),e.iGM(o=e.CRH())&&(a.matSort=o.first)}},inputs:{loading:"loading",eventList:"eventList"},outputs:{fetch:"fetch"},standalone:!0,features:[e.jDz],decls:24,vars:8,consts:[["mat-table","","matSort","",1,"mat-elevation-z2",3,"dataSource"],["tableSort","matSort"],["matColumnDef","year"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","author"],["matColumnDef","title"],["matColumnDef","id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","length","pageIndex","page"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"table",0,1),e.ynx(4,2),e.YNc(5,de,2,0,"th",3),e.YNc(6,ue,2,1,"td",4),e.BQk(),e.ynx(7,5),e.YNc(8,me,2,0,"th",3),e.YNc(9,he,2,1,"td",4),e.BQk(),e.ynx(10,6),e.YNc(11,ge,2,0,"th",3),e.YNc(12,fe,2,1,"td",4),e.BQk(),e.ynx(13,7),e.YNc(14,ve,2,0,"th",3),e.YNc(15,_e,2,1,"td",4),e.BQk(),e.ynx(16,8),e.YNc(17,ye,2,0,"th",3),e.YNc(18,Ce,2,1,"td",4),e.BQk(),e.YNc(19,xe,1,0,"tr",9),e.YNc(20,Ze,1,0,"tr",10),e.qZA()(),e.TgZ(21,"mat-card-actions")(22,"mat-paginator",11,12),e.NdJ("page",function(i){return a.handlePageEvent(i)}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("dataSource",a.dataSource),e.xp6(17),e.Q6J("matHeaderRowDef",a.displayColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayColumns),e.xp6(2),e.Q6J("pageSize",25)("pageSizeOptions",e.DdM(7,Ee))("length",a.dataSource.data.length)("pageIndex",0))},dependencies:[f.ez,m.QW,m.a8,m.hq,m.dn,_.lN,E.c,Y.TU,Y.NW,P.JX,P.YE,P.nU,g.p0,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,O.Cq],styles:[".mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%}table.mat-mdc-table[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid lightgray}.mdc-data-table__header-row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__header-cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}.mdc-data-table__row[_ngcontent-%COMP%]{height:auto!important}.mdc-data-table__cell[_ngcontent-%COMP%]{border:1px solid lightgray;padding:3px 8px!important}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#ddc298f4!important}.progress-spinner[_ngcontent-%COMP%]{margin-top:3em;margin-left:auto;margin-right:auto}"]}),n})(),be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mfmp-progress-spinner"]],standalone:!0,features:[e.jDz],decls:3,vars:0,consts:[["mode","indeterminate",1,"progress-spinner"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-content"),e._UZ(2,"mat-progress-spinner",0),e.qZA()())},dependencies:[f.ez,m.QW,m.a8,m.dn,O.Cq,O.Ou],styles:[".progress-spinner[_ngcontent-%COMP%]{margin-top:3em;margin-left:auto;margin-right:auto}"]}),n})();var Ae=s(3680);const Le=["tabGroup"];function we(n,r){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ie(n,r){1&n&&e._UZ(0,"mfmp-progress-spinner")}const Se=function(){return[]};function Oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mfmp-lenr-events-results",30),e.NdJ("fetch",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.fetch(o))}),e.qZA()}if(2&n){const t=e.oxw();let a;e.Q6J("eventList",null!==(a=t.eventList)&&void 0!==a?a:e.DdM(2,Se))("loading",t.loading)}}let Pe=(()=>{class n{constructor(){this._categories=[],this.searcher=new e.vpe,this.fetcher=new e.vpe,this.eventList=null,this.fb=(0,e.f3M)(p.qu),this.now=new Date,this.year=this.now.getFullYear(),this.floatLabelControl=new p.NI("auto"),this.hideRequiredControl=new p.NI(!1),this.buildForm=()=>{this.eventForm=this.fb.group({s_Year_from:new p.NI(this.year),s_Year_to:new p.NI(this.year),s_Index_from:new p.NI(1),s_Index_to:new p.NI(this.maxId),s_Category:new p.NI("All"),s_Author:new p.NI,s_Title:new p.NI,s_Keywords:new p.NI}),this.eventForm.get("s_Category")?.setValue("All")},this.minValue=t=>{const a=this.eventForm.get(t)?.value;return a||null},this.maxValue=t=>{const a=this.eventForm.get(t)?.value;return a||null},this.search=()=>{const t={...this.eventForm.value};t.doit="refresh",this.searcher.emit(t),this.tabGroup.selectedIndex=1},this.fetch=t=>{const a={...this.eventForm.value};a.r_id=t,a.doit="refresh",this.fetcher.emit(a),this.tabGroup.selectedIndex=2},this.nextRow=()=>{},this.priorRow=()=>{}}get categories(){return null!==this._categories?this._categories:[]}set categories(t){t&&(this._categories=t)}get maxId(){return this._maxId}set maxId(t){this._maxId=t,this.eventForm?.get("s_Index_to")?.setValue(t)}get pageDescription(){return this.eventCount?this.description?.replace("eventCount",this.eventCount.toString()):this.description}get minYear(){return this.minValue("s_Year_from")}get maxYear(){return this.maxValue("s_Year_to")}get minIndex(){return this.minValue("s_Index_from")}get maxIndex(){return this.maxValue("s_Index_to")}ngOnInit(){this.buildForm()}getFloatLabelValue(){return this.floatLabelControl.value||"auto"}back(){this.tabGroup.selectedIndex=1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mfmp-lenr-events-face"]],viewQuery:function(t,a){if(1&t&&e.Gf(Le,5),2&t){let o;e.iGM(o=e.CRH())&&(a.tabGroup=o.first)}},inputs:{eventCount:"eventCount",description:"description",eventList:"eventList",loading:"loading",ready:"ready",event:"event",categories:"categories",maxId:"maxId"},outputs:{searcher:"searcher",fetcher:"fetcher"},standalone:!0,features:[e.jDz],decls:87,vars:26,consts:[["id","description"],["href","https://www.LENR-CANR.org","target","_blank","noopener","","noreferrer",""],[3,"formGroup"],["mat-stretch-tabs","false","animationDuration","250ms"],["tabGroup",""],["label","Search"],[1,"pips"],[1,"label"],[3,"hideRequiredMarker"],["matInput","","type","number","formControlName","s_Year_from","min","1800","placeholder","min. 1800","required","true","onfocus","this.select()",3,"max","value"],["matInput","","type","number","formControlName","s_Year_to","required","true","onfocus","this.select()",3,"min","max","placeholder"],["matInput","","type","number","min","1","formControlName","s_Index_from","required","true","value","1","onfocus","this.select()",3,"max"],["matInput","","type","number","formControlName","s_Index_to","required","true","onfocus","this.select()",3,"min","max","placeholder"],[1,"spacer"],[1,"filters"],["title","Categories","formControlName","s_Category"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","s_Author","placeholder","Surname of one author"],["matInput","","type","text","formControlName","s_Title","placeholder","Word or phrase in the Title"],["matInput","","type","text","formCotrolName","s_Keywords","placeholder","Word or phrase in the Keywords"],["align","end"],[1,"buttoncell","label"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","button","mat-raised-button","","color","primary"],["label","Results"],[4,"ngIf"],[3,"eventList","loading","fetch",4,"ngIf"],["label","Detail"],[3,"event","next","prior","back"],[3,"value"],[3,"eventList","loading","fetch"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6," Core data thanks to "),e.TgZ(7,"a",1),e._uU(8," LENR-CANR "),e.qZA(),e._uU(9," - more being added by the MFMP. "),e.qZA()(),e.TgZ(10,"form",2)(11,"mat-tab-group",3,4)(13,"mat-tab",5)(14,"mat-card")(15,"mat-card-content")(16,"div",6)(17,"div",7)(18,"label"),e._uU(19,"Year from:"),e.qZA()(),e.TgZ(20,"div")(21,"mat-form-field",8),e._UZ(22,"input",9),e.ALo(23,"date"),e.TgZ(24,"mat-hint"),e._uU(25,"(min = 1800)"),e.qZA()()(),e.TgZ(26,"div",7)(27,"label"),e._uU(28,"Year to:"),e.qZA()(),e.TgZ(29,"div")(30,"mat-form-field",8),e._UZ(31,"input",10),e.ALo(32,"date"),e.TgZ(33,"mat-hint"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",7)(36,"label"),e._uU(37,"Index from:"),e.qZA()(),e.TgZ(38,"div")(39,"mat-form-field",8),e._UZ(40,"input",11),e.qZA()(),e.TgZ(41,"div",7)(42,"label"),e._uU(43,"Index to:"),e.qZA()(),e.TgZ(44,"div")(45,"mat-form-field"),e._UZ(46,"input",12),e.TgZ(47,"mat-hint"),e._uU(48),e.qZA()()()(),e._UZ(49,"div",13),e.TgZ(50,"div",14)(51,"div",7)(52,"label"),e._uU(53,"Category:"),e.qZA()(),e.TgZ(54,"div")(55,"mat-form-field")(56,"mat-select",15),e.YNc(57,we,2,2,"mat-option",16),e.qZA()()(),e.TgZ(58,"div",7)(59,"label"),e._uU(60,"Author Surname:"),e.qZA()(),e.TgZ(61,"div")(62,"mat-form-field"),e._UZ(63,"input",17),e.qZA()(),e.TgZ(64,"div",7)(65,"label"),e._uU(66,"Title"),e.qZA()(),e.TgZ(67,"div")(68,"mat-form-field"),e._UZ(69,"input",18),e.qZA()(),e.TgZ(70,"div",7)(71,"label"),e._uU(72,"Keyword(s)"),e.qZA()(),e.TgZ(73,"div")(74,"mat-form-field"),e._UZ(75,"input",19),e.qZA()()()(),e.TgZ(76,"mat-card-actions",20)(77,"div",21)(78,"button",22),e.NdJ("click",function(){return a.search()}),e._uU(79," Search "),e.qZA(),e.TgZ(80,"button",23),e._uU(81," Clear "),e.qZA()()()()(),e.TgZ(82,"mat-tab",24),e.YNc(83,Ie,1,0,"mfmp-progress-spinner",25),e.YNc(84,Oe,1,3,"mfmp-lenr-events-results",26),e.qZA(),e.TgZ(85,"mat-tab",27)(86,"mfmp-lenr-events-detail",28),e.NdJ("next",function(){return a.nextRow()})("prior",function(){return a.priorRow()})("back",function(){return a.back()}),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Oqu(a.pageDescription),e.xp6(6),e.Q6J("formGroup",a.eventForm),e.xp6(11),e.Q6J("hideRequiredMarker",!1),e.xp6(1),e.s9C("max",a.year),e.s9C("value",e.xi3(23,20,a.now,"yyyy")),e.xp6(8),e.Q6J("hideRequiredMarker",!1),e.xp6(1),e.s9C("min",a.minYear),e.s9C("max",a.year),e.s9C("placeholder",e.xi3(32,23,a.now,"yyyy")),e.xp6(3),e.hij("(max = ",a.year,")"),e.xp6(5),e.Q6J("hideRequiredMarker",!1),e.xp6(1),e.s9C("max",a.maxId),e.xp6(6),e.s9C("min",a.minIndex),e.s9C("max",a.maxId),e.s9C("placeholder",a.maxId),e.xp6(2),e.hij("(max = ",a.maxId,")"),e.xp6(9),e.Q6J("ngForOf",a.categories),e.xp6(26),e.Q6J("ngIf",a.loading),e.xp6(1),e.Q6J("ngIf",a.ready),e.xp6(2),e.Q6J("event",a.event))},dependencies:[f.ez,f.sg,f.O5,f.uU,le.Bz,Z.ot,Z.lW,m.QW,m.a8,m.hq,m.dn,ie.To,_.lN,_.KE,_.bx,E.c,E.Nt,R.LD,R.gD,Ae.ey,S.Nh,S.uX,S.SP,p.UX,p._Y,p.Fj,p.wV,p.JJ,p.JL,p.Q7,p.qQ,p.Fd,p.sg,p.u,N,Te,be],styles:["div.wrapper[_ngcontent-%COMP%], .mdc-card[_ngcontent-%COMP%]{height:100%}div#description[_ngcontent-%COMP%]{text-align:center}div.label[_ngcontent-%COMP%]{padding-right:1em;display:flex;justify-content:flex-end;align-items:center}div.prompts[_ngcontent-%COMP%]{align-items:center!important}div.prompts[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:1em}div.pips[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto;margin-right:1em}div.pips[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{justify-content:center}div.spacer[_ngcontent-%COMP%]{height:2em}div.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr;margin-right:1em}div.filters[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:50%!important}div.buttoncell[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}div.buttoncell[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-right:1em}"]}),n})();const qe=[{path:"",component:(()=>{class n{constructor(){this.store=(0,e.f3M)(l.yh),this.notifier=(0,e.f3M)(L.c),this.headerService=(0,e.f3M)(I.d),this.categories=(0,y.of)([""]),this.eventList=null,this.event=null,this.loading=(0,y.of)(!1),this.payload=new oe.q}ngOnInit(){this.headerService.buildPageHeader("lenr-events");const a=(new Date).getFullYear();this.payload.s_Author="",this.payload.s_Category="",this.payload.s_Index_from=String(1),this.payload.s_Index_to=String(1),this.payload.s_Keywords=[""],this.payload.s_Title="",this.payload.s_Year_from=String(a),this.payload.s_Year_to=String(a),this.payload.r_id_copy="",this.payload.doit="refresh",this.store.dispatch(c.prefetch({payload:this.payload})),this.categories=this.store.select(v.selectCategories),this.eventCount=this.store.select(v.selectEventCount),this.maxId=this.store.select(v.selectMaxEventId),this.eventList=this.store.select(v.selectLenrEvents),this.loading=this.store.select(v.selectLoading),this.ready=this.store.select(v.selectReady),this.event=this.store.select(v.selectCurrentEvent),this.pageDescription=this.store.select(se.dS.selectPageDescription)}search(t){this.store.dispatch(c.fetchSearchResults({payload:t}))}fetch(t){this.store.dispatch(c.loadEventDetail({payload:t}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mfmp-lenr-events-head"]],standalone:!0,features:[e.jDz],decls:9,vars:24,consts:[[3,"categories","eventCount","eventList","maxId","description","loading","ready","event","searcher","fetcher"]],template:function(t,a){1&t&&(e.TgZ(0,"mfmp-lenr-events-face",0),e.NdJ("searcher",function(i){return a.search(i)})("fetcher",function(i){return a.fetch(i)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA()),2&t&&e.Q6J("categories",e.lcZ(1,8,a.categories))("eventCount",e.lcZ(2,10,a.eventCount))("eventList",e.lcZ(3,12,a.eventList))("maxId",e.lcZ(4,14,a.maxId))("description",e.lcZ(5,16,a.pageDescription))("loading",e.lcZ(6,18,a.loading))("ready",e.lcZ(7,20,a.ready))("event",a.event?e.lcZ(8,22,a.event):null)},dependencies:[f.ez,f.Ov,Pe],encapsulation:2}),n})(),providers:[(0,l.oY)(v),(0,d.y3)([x]),{provide:C,useClass:C},{provide:I.d,useClass:I.d}]},{path:"details",component:N,providers:[(0,l.oY)(v),(0,d.y3)([x]),{provide:U.K,useClass:U.K}]}]}}]);